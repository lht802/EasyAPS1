# 第一部分 入门手册

## 手册导读

EasyAPS有两大功能，生产排产和物料齐套功能。依照本手册的内容，使用JS排产单元实习一遍如何进行基础数据维护和排产处理，使用CTB排产单元学习如何维护齐套数据及齐套分析。入门手册的目的是通过实例的操作使读者对EasyAPS有基本的了解，所以如果遇到不理解的地方，请参考第二部分帮助手册，帮助手册会有详细解释。

### 定义和缩写词

**制约理论(TOC)**

Theory of constraints，解决在多个条件制约下，求最优解的一种理论。

**有限能力排程(FCS)**

Finite capacity scheduling，将设备的能力作为制约条件的排程。

**无限能力排程(ICS)**

Infinite capacity scheduling，不考虑设备能力的排程。

**资源(resource)**

生产所使用的设备、模具、工具、人员等等。

**制造（能力）**(**capacity**)

某资源所能够生产的标准时间、数量。比如，10个/分钟，8小时。

**订单(order)**

EasyAPS的订单有两种：销售订单(相同于ERP销售订单)，制造订单(相同于ERP生产工单)。

**批次/批量(lot)**

一次生产过程中，投入到机台上数量。比如，1次生产100个，不允许10个10个生产。

**工序(process)**

生产的工艺流程，一般和设备结合起来管理，区别于物料。

**工作(operation)**

订单A，在工序05上，这时这个具体的对象叫做A-05工作。

**排程周期(S-cycle)**

多少天进行一次生产计划的排程，比如1周排一次，周期就是1周。

**排程期间(S-period)**

一次排程，排多少天的计划，比如，一次排3个月的，期间就是3个月。

**正向排程(forward-S)**

从第一道工序的开始时间点开始，从前往后排。

**逆向排程(backward-S)**

从最后一道工序的结束时间点开始，从后往前排。

**生产提前期(lead time)**

从第一道工序开始投入，到最后一道工序产出所经过的时间，其中包括生产时间和等待时间。APS的LT是动态的，MRP的LT是固定不变的。

**分派规则(Dispatching rule)**

定义工作的分派先后顺序，可以定义一组分派规则键。

**资源选择策略(resource evaluation)**

用来解决某个订单的某道工序的工作，在哪台机器上生产。对于一道工序可以在多台机器上生产时有效。单资源的情况下无效。

## 第二章 软件安装

### 2.1 数据库安装

EasyAPS需要数据库来存储数据，EasyAPS支持SQL server2005及以上版本，本手册以安装SQL Server2017为例（不同版本数据库的安装方法不同，如需其它版本的安装方法，可以在百度搜索对应版本的安装教程）。

1）下载好安装包 解压后以管理员身份运行图中 setup。

![](media/e3d01f7dcc7fa99adf7d61cc4b1415e8.png)

2）左侧点安装 选第一个全新安装。

![](media/8a1484bb1defd13e9f122929ed437824.png)

3）选择第二个输入密钥 22222-00000-00000-00000-00000 下一

步。

![](media/36821175d7ec5ee3c2a19a8948e82470.png)

4）勾选我接受许可条款，下一步。

![](media/510d96095c2450ab60011210179c6f63.png)5）没有的画面都直接下一步就行 按照默认的设置下一步。

![](media/0479d5059848e0aee8cae30e35d86f25.png)

6）功能全选，然后取消机器学习服务的勾选，由于SQL占用空间较大，建议修改共享功能，共享功能不能在同一个目录。

![](media/b0cfaffc04708832fab959795da68bfa.png)

7）下一步。

![](media/cccfb7538474c7566a897f52ae5c5914.png)

8）下一步。

![](media/70c339b8a232c70bdcfe08689239ab9b.png)

9）下一步。

![](media/453a112f93ae20cbfc44adb59eed28a1.png)

10）选择混合模式，自己设置sql的密码 再添加当前用户，然后下一步。

一

![](media/91543e0f7b40ed4301c07b96993bcbfa.png)

11）添加当前用户，下一步。

![](media/f673193b4435a1f5a1106638182a92bd.png)

12）添加当前用户，下一步。后面全部直接下一步，到安装界面。

![](media/1af0a25be2221207addf74a314bb21e2.png)

13）点击安装。

![](media/261cac1b8614bea539cf1a8d224e1f0c.png)

14）安装完成。

![](media/9881b20aee7226a2596366e886037ff3.png)

15）还需要安装SSMS，安装完成后，就可以登录数据库了。

![](media/37935ed2b0468e47b24dd86a27997158.png)

![](media/fdc37349e5feb91435c5531c513ca83a.png)

注：如果出现以下报错 是电脑环境没有 安装JDK7 ，百度下载安装JDK7就好。

![](media/df35f46255ef956d3ba7abef35be9d8f.png)

### 2.2 EasyAPS安装与登录

本节主要介绍EasyAPS程序的安装、数据库连接和客户端登录。

#### 2.2.1 主程序安装

1）双击运行EasyAPS Setup应用程序，如下图：

![](media/779d1ba3448c9ffe1587cc4dfed8d68c.png)

2）出现如下图安装界面，点击下一步。

![](media/4a3715f23a1b725fabafc2809641b6d3.png)

3）如下图为默认安装路径，如要修改请点击浏览修改路径，然后下一步。

![](media/aa21d1bab864c8cfec4d33f604ef30d6.png)

4）选择需要安装的内容，下一步。

![](media/1fff16a35f4a4ab56eb084631bce31af.png)

5）点击安装。

![](media/d45a26873e9a0106f9cd33617567fe9d.png)

6）EasyAPS安装完成。

![](media/a2fce699556f00b4fd2ce035b2a6ef9e.png)

#### 2.2.2创建EasyAPS数据库

1）打开开始菜单，找到EasyAPS数据库安装，点击[Easy APS数据库安装]，创建EasyAPS数据库。

![](media/5b75a49ba82172006cf1766ecdffa5d1.png)

2）在以下数据库安装界面中，设置安装数据库参数。

①服务器

SQL数据库所在的服务器，默认为（local）；如果有数据库实例名，需要加上数据库实例名称，一般的写法：IP(或者机器名称)\\SQLEXPRESS。

②身份验证方式

选择身份验证方式，建议采用SQL Server身份验证。

③登录名

如果选择SQL Server身份验证，请输入登录SQL服务器的登录名，默认为sa，注意这个用户必须有足够的权限，可以用于创建数据库。

④密码

如果选择SQL Server身份验证，请输入登录SQL服务器的用户代对应的密码。

⑤数据库名称

指定要创建的EasyAPS数据库的名称，比如下图创建的数据库为名称为km。

⑥点击[执行]，完成数据库创建。

![](media/72c2c6adae23ea10f60bf0e8189919e7.png)

#### 2.2.3服务端连接数据库

打开EasyAPS服务端，在服务端连接已创建的EasyAPS数据库——km，按下图步骤进行连接。

![](media/85aee8354cc30186d3a84b3dbfc4127a.png)

![](media/3efa0f6c8fe655e52cd5afb58c93cb03.png)

连接成功后，我们可以看到km数据库有如下图的排产单元和用户。（有关服务端的具体说明请查看第二章服务端管理）

![](media/9dd79c9d5fb3bc968392fbf52da95bd2.png)

![](media/e2f8f700a85b2ad89ffce40afb2c736d.png)

#### 2.2.4 客户端登陆

EasyAPS客户端第一次使用时需要设置客户端的系统参数，主要是设置服务器IP和端口指定以及字体设定。

如下图，打开EasyAPS客户端，点击参数设定，设置与服务端一致的授权服务器IP和通讯端口，然后点击通讯测试，通讯成功后保存即可。

![](media/5a789b1752b6c35163d6fde53b0d86e1.png)

参数设置成功后重新打开客户端，如下图，选择登录用户、输入密码、选择排产单元后点击登录，EasyAPS在用户选择指定用户后，会自动关联显示可以登录的排产单元。

![](media/420ca5c7064c61de5bcb1d9986e0a162.png)

登录JS排产单元的主画面如下图：

![](media/c578cede9a0bfddbe49f76f66f7857cb.png)

## 第三章 生产排产功能

生产排产，是指将生产任务分配至生产资源的过程。在考虑能力和设备的前提下，在物料数量一定的情况下，安排各生产任务的生产顺序。本章，我们将对从EasyAPS模板数据的设定到最后的排产整个流程的操作进行演示。下面我们基于一个金属加工工厂为实例，学习如何利用EasyAPS完成一个排产单元的排产过程。

### 3.1 入门实例说明

产品A、产品B的生产工艺由以下工序构成：

![](media/336943a163de4a299e4a0c75f4940c9d.png)

其中：

■开料工序，使用设备——开料机。

■冲压工序，使用冲压机——冲压机1\#，冲压机2\#。

■折弯工序，使用折弯机——折弯机1\#，折弯机2\#。

■焊接工序，使用焊接机——焊接机1\#，焊接机2\#。

■产品A、产品B的原材料分别为材料X、材料Y。

■产品A、产品B的原材料经过材料开料工序，开料之后的中间品经过后面的冲压、折弯、焊接工序，最终产品为产品A、产品B。

基于以上实例数据，我们开始按如下图步骤进行排产之旅。

![](media/6b2eaa1a795faf0987ef7d06bed4090d.png)

### 3.2 基础数据维护

#### 3.2.1客户

主菜单导航栏中单击[基础数据]→[客户]，打开客户信息表。 客户信息表主要维护排产涉及的客户信息，比如说客户代码，客户名称等信息。客户信息可以用于制造订单，标志是哪个客户的订单。

![](media/c4b5a2e4d95b8a87dfb4ffe2675892c1.png)

#### 3.2.2物料

主菜单导航栏中单击[基础数据]→[物料]，打开物料信息表。物料表主要维护排产涉及的物料信息，比如说物料代码、物料名称、物料种类等基本信息。物料信息包括完成品、原料、半成品。

![](media/a976dc00860f283a98243f018344eae2.png)

**物料代码**

排产所涉及的所有物料代码，包括完成品、半成品、中间部品、原材料等，一般用英文进行编码，所有物料的代码都有唯一性。

**物料名称**

一般输入物料的中文名称。

**物料种类**

物料分类为：M,原材料;H,半成品; I,中间品; P,完成品。

**自动补充标志**

| **值** | **名称**               | **说明**                                                                                                                       |
|--------|------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| 0      | 不补充                 | 不自动补充订单。                                                                                                               |
| 1      | 按批量补充             | 自动补充订单。                                                                                                                 |
| 2      | 制造1对1（不考虑库存） | 1对1地补充订单(并不与库存关联)。                                                                                               |
| 3      | 制造1对1（考虑库存）   | 先予库存关联，然后再1对1地补充订单。                                                                                           |
| 4      | 供需调整1对1           | 优先关联库存或者剩余的订单之后，将所需的补充订单会1对1地生成，而且生成由于实绩数量或者订单数量的变化而导致的补充订单并且关联。 |

#### 3.2.3物料组

主菜单导航栏中单击[基础数据]→[物料组]，打开物料组信息表。物料组信息表主要维护排产涉及的物料组信息，比如物料组代码、物料组名称。物料可以使用物料组信息进行分组。

![](media/8bc4b2ad864a214fae115bef9234c4c2.png)

#### 3.2.4资源

主菜单导航栏中单击[基础数据]→[资源]，打开资源维护信息表。资源表维护工厂的生产线、机台、生产小组、工装工具等涉及生产所需要的生产资源，主要维护信息：资源代码、资源名称、资源区分、资源种类等。

![](media/2ed07bcf9786a9f98eda402f7d37344a.png)

**资源代码**

排产所涉及的所有设备，生产线，治具、工装工具、模具等，一般用英文进行编码，所有资源的代码都有唯一性。

**资源名称**

一般输入资源的中文名称。

**资源区分**

主要用来区分普通资源和炉资源，排产逻辑中按照不同的模式进行排产。其中，S代表单纯资源;F代表炉资源。

**资源种类**

主要是用来对资源进行分类管理以及标识一些特殊资源。其中，M代表主资源,S代表副资源,G代表外协资源，D代表虚拟资源,I代表库存。

#### 3.2.5资源组别

主菜单导航栏中单击[基础数据]→[资源组别]，打开资源组别信息表。资源组别信息表主要维护排产涉及的资源组别信息，比如资源组代码、资源组名称。

资源可以使用资源组别信息进行分组。

![](media/29db445dac1ed11c4ec6f5aa85efae1f.png)

#### 3.2.6 班次

主菜单导航栏中单击[基础数据]→[班次]，打开班次维护信息表。班次用于设定一天中工作时间段的模式，表示一天可用于生产排产的时间有多少。

![](media/19aee5398e1c8d7442ca08cfb2de633d.png)

**代码**

设定班次的代码，一般是工作状态的名称，例如白班、晚班、休息。

**模式**

设定工作时间段。将时间与时间用-（横线）连接起来后即成为工作时间段。设定多个工作时间段时用分号将时间隔开。

**[模式的设定与解释]**

| 模式                               | 解释                                                                           |
|------------------------------------|--------------------------------------------------------------------------------|
| 8:00-12:00；13:00-19:00            | 8:00到12:00，13:00到19:00为可以安排工作的时间                                  |
| 8:00-10:00;10:15-12:15;13:00-17:00 | 从10:00开始休息了15分,从12:15开始休息了45分,用分号隔开可以设定多个休息时间段。 |

#### 3.2.7 日历

主菜单导航栏中单击[基础数据]→[日历设置]，打开生产日历维护信息表。生产日历用于设定资源的班次，指该年度的哪些天的那些时间可供生产排产。

![](media/1a2f3ade9e4a2e370f52485d04d76fa9.png)

**资源**

用于设定生产日历中设定对象的资源代码。如上面实例的日历设定中设定了\*（星号）的情况时表示全部的资源代码。

**日期/星期**

用于设定生产日历中设定对象的日期。不仅可以直接设定日期，也可以设定星期。用横线连接表示设定的范围。实例中星期一和星期五用横线连接，表示从星期一到星期五。

**[日期/星期的设定与含义]**

| **日期/星期**       | **解释**                                 |
|---------------------|------------------------------------------|
| 星期一              | 星期一                                   |
| 星期一-星期五       | 星期一到星期五。用横线连接起来表示范围。 |
| 2021/10/1           | 2021/10/1                                |
| 2021/10/1-2021/11/1 | 日期用横线连接起来也可以表示范围。       |

**优先级**

用于设定日历的顺序。优先级大的被优先采用。

**班次代码**

设定适用于资源代码和日期的班次。

#### 3.2.8 工序

主菜单导航栏中单击[基础数据]→[工序]，打开工序维护信息表。工序表维护生产过程中所涉及到的工序。

![](media/04e4e553207d72a4aac96ee932236866.png)

#### 3.2.9工艺产能

主菜单导航栏中单击[基础数据]→[工艺产能]，打开工艺产能表。 工艺产能表主要是维护物料的工艺路线。工艺路线描述生产产品的所需工序顺序， 对于每道工序还定义了所需的资源、物料和执行工序所需时间等。

![](media/3b811cbb9ffdfe300e8dcc3e4a600fed.png)

**如下数据输入到工艺产能表**

| ■物料代码 | ■工序编号 | ■工序代码 | ■指令类别 | ■指令代码 | ■物料/资源 |
|-----------|-----------|-----------|-----------|-----------|------------|
| ■前设置   | ■制造     | ■后设置   | ■接续方法 |           |            |

输入的顺序按照物料、工序编号、工序代码、指令类别、指令代码的顺序进行。其它的按照适当的顺序输入即可。

**物料**

输入完成品的物料。

**工序编号**

输入工序的编号。工序的编号按照工序的顺序由小到大输入。第一工序中输入最小数字，最后工序中输入最大数字。

**工序代码**

输入工序代码。生产同一物料不能使用重复的工序代码。

**指令种类**

指令种类中有输入指令、输出指令、使用指令三种不同的指令。

**输入指令**

输入指令是指关于工序中输入物料的指令。输入指令行中设定有输入物料的信息和工序之间的时间制约方法，时间制约值等相关的信息。以下为输入指令行中设定的项目和内容。

| **输入项目**   | **输入内容**                                           |
|----------------|--------------------------------------------------------|
| 指令代码       | 请输入字符串或数字以便识别。                           |
| 物料/资源      | 输入工序中的输入物料。                                 |
| 制造           | 按比例设定制造一个单位的输出物料所需要的输入物料数量。 |
| 时间制约方法   | 设定工序之间的时间制约方法。                           |
| 时间制约最小值 | 设定工序之间需要间隔的最小时间值。                     |
| 时间制约最大值 | 设定工序之间需要间隔的最大时间值。                     |

**使用指令**

通过使用指令可以指定制造一个物料时使用的资源（设备、模具、作业员等）和它的能力值等。以下为使用指令行中设定的项目和内容。

| **输入项目**   | **输入内容**                             |
|----------------|------------------------------------------|
| 指令代码       | 输入使用指令的种类。                     |
| 物料/资源      | 输入使用的资源。                         |
| 前设置         | 输入前设置所需要的时间。                 |
| 制造           | 输入该资源生产该产品的能力值与能力单位。 |
| 后设置         | 输入后设置所需要的时间。                 |
| 时间制约方法   | 设定工序之间的时间制约方法。             |
| 时间制约最小值 | 设定工序之间需要间隔的最小时间值。       |
| 时间制约最大值 | 设定工序之间需要间隔的最大时间值。       |
| 备注           | 输入字符串或数字用于备注。               |
| 资源优先度     | 输入用于制造物料的资源优先度。           |

**指令代码**

输入用于识别指令代码的字符串或数字。

**输入指令的指令代码**

输入指令的指令代码缺省输入为In，也可以设定任意的代码。

**使用指令的指令代码**

资源能力的指令代码是指设定资源的种类。

**［使用指令代码类别］**

| **类别**   | **含义**                                                           |
|------------|--------------------------------------------------------------------|
| M          | 表示主资源。主资源指制造该物料时需要的设备或作业者。               |
| Sn(n=0～9) | 表示副资源。副资源指主资源的附属资源，如：模具、夹具或作业者等等。 |

M必须设定，但Sn可以根据需要进行设定。

### 3.3 计划数据输入

基础数据维护完成后，就可以直接录入制造订单。选择菜单[计划数据]→[制造订单]后显示出订单的输入界面。这里的订单可以是客户的真实订单，也可以是生产管理员分解后的生产批次，还可以将几个订单合并后进行输入。

![](media/5070c369c225fece8db7076a703449fc.png)

制造订单必须输入的数据有订单代码、产品、交货期、计划数量，其它数据根据实际情况设定。

**订单代码**

设定每个订单的代码。代码设定时不能重复。

**产品**

产品也就是物料代码，设定所要制造的物料。

**交货期**

交货期是指订单的交货时间。

**订单数量**

设定订单需要制造的数量。

**优先度**

用数值设定哪个订单可以进行优先分派。优先度的设定一般使用大于0小于100的数字，一般情况下数字大的优先考虑。

### 3.4 计划排产

基础数据和计划数据输入完成后，下一步就是对这些制造订单开始进行计划排产，如下图，点击生产排产，加载当前排产单元的基础数据和计划数据到内存准备排产。

![](media/1e26c3e45bf4458c6f252c48cd6a468f.png)

如下图是生产排产加载完成的排产引擎界面。

![](media/27d66fab63fb327af56779141b381f0e.png)

排产引擎菜单栏名称如下：

![](media/b58fec62dc009f508f04ce0171188c1a.png)

开始计划排产

点击重载数据（①），然后点击排程（②），订单开始进行排程，排程结果如下图：

![](media/e81858ea8f255203f5518aa634228931.png)

排程后，我们可以从不同图表不同维度查看排程结果：

-   **资源甘特图的查看方法**

资源甘特图的纵轴显示资源，横轴显示日期。资源甘特图是EasyAPS的主图表，用户在这个画面上可以确认每个机台的生产计划并且进行计划调整。其中资源甘特图中①所指的蓝色线为分派开始时间，蓝色线右侧为未来的计划时间，左侧表示过去的时间。资源与日期交叉形成的长方形为单元格（②），单元格内部灰色的部分为工作时间（③），灰色以外部分（计划部分为白色，过去部分为黄色）为非工作时间（④）。显示排程结果的图称为使用指令图棒。

![](media/28c704a70f09ebf16468597145ce6c43.png)

-   **订单甘特图的查看方法**

    打开订单甘特图可以看到订单甘特图的纵轴显示订单，横轴显示日期。用户可以从订单的角度确认各个制造订单的计划安排以及进度情况。其中订单甘特图中红色倒三角表示订单的交货期。

    ![](media/18bb760c4ccbdd99ef9720371a9161cf.png)

-   **资源负荷图表的查看方法**

资源负荷图表的纵轴显示资源，横轴显示日期。用户可以以资源的角度确认各个资源的负载情况。可以以天、周、月来确认负荷。

![](media/5e1e831bb5a4a43c0eaa81d6d734ac79.png)

-   **库存图表的查看方法**

库存图表的纵轴显示物料，横轴显示日期。每个物料的数量的增减用图和数值进行显示，用户可以从物料的角度确认各个物料未来时间的库存推移。

![](media/7561a2d5053ed75ab214dcc886f0e536.png)

手工调整计划

排程期间如果有工作想指定资源和日期时，我们可以手工进行调整。

1/29（星期四）的冲压１\#资源上分派有订单M00006的冲压工作。将此工作手动修改到冲压2\#上。鼠标放在订单M00006的冲压工作上面按住鼠标左键。此时观看纵轴，冲压１\#和冲压２\#的颜色发生了变化。表示此工作既可以使用资源冲压１\#也可以使用资源冲压2\#。此时按住鼠标左键拖动工作，然后放开拖动。拖动后的工作下方附带有蓝色的标记，此标记是指工作全固定，「本工作在此固定」的标记。还可以看到工作的长短也发生了变化，是因为资源的制造能力改变了，工作的长短会随之自动变化。

![](media/082ef0ed855b2b4e0d61d9ac30380930.png)

使用鼠标移动工作时可以无视工序之间的时间关系。重新排程时以固定的工作为中心周围的工作分派位置发生变化，重新符合工序之间的时间制约关系。

排产结果保存

当计划确认没有问题后，可以选择保存当前排产结果，直接点击①保存按钮，也可以点击②退出同时，根据提示③选择“是(Y)”保存排产结果。

![](media/690fe8b1fec9fdaca22960aee637301c.png)

### 3.5 生产计划查询

计划方案保存后，在排产计划数据模块可以查询计划信息，包括工作明细信息，工作任务明细、物料需求明细和订单关联明细。

1、工作明细信息

主菜单导航栏中单击[排产计划数据]→[工作]，打开工作明细信息表。

工作明细信息可以查看每个订单的工作明细，关键信息包括工作代码、订单、生产的产品、制造的数量、主资源、制造开始时间、制造结束时间、制造时间、前设置开始时间、前设置结束时间、前设置时间等基本信息。

![](media/69458751321fe394d2c3eb5e6a638e62.png)

2、工作任务明细

主菜单导航栏中单击[排产计划数据]→[工作任务明细]，打开工作任务明细信息表。

这是工作明细信息对应的各种任务的分解安排，一般而言，EasyAPS会根据工艺产能定义的每一种使用指令都会根据具体任务(前设置、制造、后设置)会生成明细记录。

![](media/a2b009361f5963adb6b64922846259cf.png)

3、物料需求明细

主菜单导航栏中单击[排产计划数据]→[物料需求明细]，打开物料需求明细信息表。

物料需求明细记录每个工作的物料需求数量。

![](media/fb7caa0a626d8eaef3cf0717eb93813a.png)

4、订单关联明细

主菜单导航栏中单击[排产计划数据]→[订单关联明细]，打开订单关联明细信息表。

订单关联明细记录上下各工作之间的关联关系。

![](media/4192439948ad7635569ce6156fc144a9.png)

### 3.6 生产指示发布

计划排好之后就可以将短期几天的生产计划生成生产指令数据，指示后的工作状态变为指示完毕。

主菜单导航栏中单击[排产计划数据]→[工作指示发布]，打开工作明细信息表。

步骤：

①首先选择要发布指示的时间段，在这段时间内的未发指示工作都会成为待发指示的候选工作。

②选择要发布指示的资源，所选的资源的未发指示工作都会成为待发指示的候选工作。

③查找工作，符合①和②的候选工作显示在右边工作指示一览，可以确认待发的工作。

④点击[发布工作指示]，完成工作指示发布。

![](media/5cb21d307752c13dc40c9f6bbd24d26d.png)

●**工作指示浏览及取消**

已经成功发布指示的工作将会生成工作指示一览，同时可以取消已经发出的工作指示。

![](media/958587812b32158d10a0f2f1307ecc69.png)

### 3.9 生产实绩反馈

现场按照生产指示生产，完成的实绩可以直接录入到EasyAPS中。不同的用户拥有的实绩录入权限不同，用户只能录入资源分配中有权限录入实绩的生产指示。

主菜单导航栏中单击[生产报工]→[生产报工录入]，打开生产报工录入画面。

如下图，点击新增，输入报工相关信息后保存。

![](media/57aaafa110d199fca0c0b887aa1d058b.png)

-   如果实绩录入有异常，需要对录入的生产实绩进行修改，可以点击修改按钮进行修改，确认修改的信息后点击提交。

![](media/f5190c841f2d270cb92286786a7ec8f7.png)

到此为止整个排产过程从基础数据维护、订单录入、排产、发行指示、实绩录入这样一个闭环的入门体验就完成了。

## 第四章 物料齐套功能

什么是齐套？在排产易系统中物料齐套是指一张制造订单所需要的物料，其数量刚刚好满足需求（不多也不少）。

物料齐套管理能作为撬动全局的支点，它是影响库存、交付、效率、成本等关键的指标。齐套需要的是数量和时间上的刚刚好，多了、早了会导致库存堆积，增加成本；少了、晚了会导致延期生产、延期交付，而已完工的部分则又成为了库存，同时还会造成停线损失、交付损失等，弥补短缺也会造成运营成本的增加。

在排产易系统中，提供了相应地物料齐套检查功能。计划订单排程保存后，切换到CTB排产单元使用物料齐套分析功能，进行订单的物料齐套计算，进一步通过物料库存的制约分析确认近期生产计划的可行性，基于分析结果对计划进行合理化调整以及供应商物料交付要求。如下图产品A和产品B的产品结构图。

![](media/14fa4f321aa41d27ddf9bd86b6a9af82.png)![](media/9895e20ddb6a89be3bdb3201ec02a3a1.png)

其中，原料X可由原料X1替代，原料M、N可由M1、N1成组替代。

基于以上结构数据，我们开始进行齐套计算分析。

### 4.1齐套基础数据

#### 4.1.1物料信息（CTB）

主菜单导航栏中单击[物控基础数据]→[物料信息CTB]，打开物料信息表。 物料信息表主要维护齐套计算涉及的物料信息，比如说物料编号、物料类型、单位等信息。

![](media/316d10ba7084f26c3ec0bab61da40873.png)

**物料编号**

齐套计算所涉及的所有物料代码，包括完成品、半成品、原材料等，一般用英文进行编码，所有物料的编号都有唯一性。

**物料类型**

物料分类为：M,原材料;H,半成品; I,中间品; P,完成品。

**材料名称**

一般输入物料的中文名称。

**单位**

物料的计量单位。

**是否关键料**

设定该物料是否为关键用料。例如一些采购周期长或不可替代的物料。

**是否参与齐套运算**

设定该物料是否参与齐套运算。

**最小齐套量**

进行齐套运算时需要达到的最小齐套数量，如果没达到最小齐套量，则订单不占用物料的库存。

**有效条件表达式**

设置物料供需分配的有效条件表达式，对物料的供需分配进行限制。

#### 4.1.2物料BOM

主菜单导航栏中单击[物控基础数据]→[物料BOM]，打开物料BOM表。 物料BOM主要维护齐套计算涉及的BOM信息，比如产品编号、产品名称、物料编号、用量等信息。

![](media/65544c807174dc4a6bcb7f45b1dd0d48.png)

**什么是BOM？**

BOM的英文全称为Bill of Material，中文翻译为BOM，也成为“BOM”或产品结构表、产品结构树，在某些工业领域，称为“配方”或其它名称。简单来说就是生成一个产品需要用到的物料，通常是完成品或半成品的组成情况——该物料有哪些下级物料组成，每一下级物料的用量是多少。

**产品编号**

完成品的编号。

**产品名称**

完成品的名称。

**物料编号**

原材料的编号。

**材料名称**

原材料的名称。

**用量**

原材料的用量。

**损耗率**

原材料的损耗率。

#### 4.1.3有效仓库维护

主菜单导航栏中单击[物控基础数据]→[有效仓库维护]，打开有效仓库维护表。有效仓库主要维护工厂的仓库信息，比如仓库代码、库位代码等信息。

![](media/4c792ec65b348ad12812eb8fc357ac6f.png)

**工厂代码**

工厂的代码。

**仓库代码**

工厂里仓库的代码。

**仓库名称**

仓库代码对应的仓库的名称。

**库位代码**

仓库里的库位编号，库位编号通常由区域编号、货架编号或通道编号组成。

**库位名称**

库位代码对应的库位名称。

**是否有效**

设定该仓库是否为有效仓库。

#### 4.1.4齐套替代料设置

主菜单导航栏中单击[物控基础数据]→[齐套替代料设置]，打开齐套替代料设置表。有些原料库存不足时，可用其它原料代替，该原料称为替代料。替代料设置可以设置成组替代或单料替代，且在同一个BOM中如果存在多个单料或者成组替代的关系那么不能存在替代物料交叉的情况。例如（产品A有x y z3个物料，其中z单料替代，x y为成组替代，那么就不能出现y z也是成组替代情况）。

下图为单料替代的情况：

![](media/106dfafe31f14044ecb4ab7f14289410.png)

下图为成组替代设置界面：

**![](media/bc79d99cec321383403fc00db9bf8226.png)**

**替代类别**

替代类别有单料替代和成组替代，单料替代指一个物料可用另一个物料替代，比如X可用X1替代；成组替代是指多个物料的替代，可以多个替代多个（M1、N1替代M、N）、多个替代一个（X、Y替代Z）或一个替代多个（C替代A、B）。

**父项料号**

存在替代料的产品编号。

**替代组号**

如下图，指同一个产品输入替代料的顺序。

![](media/cd7ed30e4261aa3d61d6751b3e64f97a.png)

**是否混用**

设定产品的原物料是否与替代料混用。假设物料A可用物料B替代，且物料B库存充足的情况下：

| 设定 | 替代结果                                           |
|------|----------------------------------------------------|
| 是   | 当物料A不够时，可用物料B替代不足部分，物料A、B混用 |
| 否   | 当物料A不够时，全部使用物料B替代                   |

### 4.2齐套计划数据

#### 4.2.1库位库存

主菜单导航栏中单击[物控计划数据]→[库位库存]，打开库位库存表。库存库位主要维护物料的库存信息，比仓库、库位、批次号、库存数量等信息。

![](media/862660b7cfa1b24d25750df5968c9e12.png)

**物料编号**

物料的编号。

**仓库编号**

仓库的编号。

**仓位编号**

仓位的编号，仓位是指在仓库中，这些物品摆在仓库的哪一个位置/方位，例如1号仓库的A货架，B货架等。

**有效截止日期**

该物料的库存失效日期，这个日期之后的库存就无效了，相当于为0。

#### 4.2.2订单预占料

主菜单导航栏中单击[物控计划数据]→[订单预占料]，打开订单预占料表。订单预占料主要维护订单预占料信息，存在有订单预占料的情况时可以用该表维护信息。

![](media/a72238c14331aa4b748bc82c8b8b6485.png)

**订单编号**

占用物料的订单编号。

**工序编号**

预占订单的排产单元。

### 4.3 库存可用量设置

主菜单导航栏中单击[物控工作台]→[库存可用量]，打开库存可用量表。库存可用量维护齐套运算中参与运算的库存可用量（物料库存、采购订单、订单预占料等参与齐套运算的库存数据）,物料库存必须作为必要的可用量录入且数据为增方向。

![](media/a286f594b938ef251966e6d91de982f3.png)

**可用量编码**

自定义可用量的编码。

**可用量名称**

自定义可用量的名称。

**可用量类型**

库存指实际的库存，比如物料库存，常规一般指不在仓库内的库存，例如采购订单、在途库存等。

**业务表名**

可用量的来源的表名。

**库存方向**

设定可用量的库存是增加的还是减少的。

**业务单据字段**

可用量来源表中用于获取供应的字段，例如订单编号、仓库编号等。

**物料编码字段**

可用量来源表中的物料编码字段。

**业务日期字段**

可用量来源表中的库存生效日期字段。

**库存数量字段**

可用量来源表中的库存数量字段。

### 4.4 齐套方案设置

#### 4.4.1通用参数设置

![](media/90ee32aaf83e81fbf4087a16be6dc3a0.png)

齐套比率选项

齐套计算项勾选后在齐套结果表中会追加字段进行显示，选项分为三类项数齐套、数量齐套、常规齐套。

**项数齐套（按下级物料齐套的项数计算）：**项数齐套率=100%的齐套项数/下级物料的总项数。

**关键料项数齐套：**关键料项数齐套率=100%的关键料项数之和/关键料总项数

**非关键料项数齐套：**非关键料项数齐套率=100%的非关键料项数之和/非关键料总项数

数量齐套（按下级物料齐套的套数计算）：数量齐套率=齐套的数量总和/总需求数量。

**关键料数量齐套：**关键料数量齐套率=关键料齐套套数之和/关键料总需求套数

**非关键料数量齐套：**非关键料数量齐套率=非关键料齐套套数之和/非关键料总需求套数

**常规齐套：**下级物料中齐套率最低的物料的齐套率作为常规齐套率，计算公式为常规齐套率=下级物料齐套率最小值。

齐套计算选项

**是否考虑替代料：**

设置齐套方案是否考虑替代料的情况，需要在齐套替代料中设置替代规则（成组或者单料）。

**齐套运算时主(替代)料消耗的优先规则(考虑替代时生效)：**设置发生替代时先消耗主料还是先消耗替代料。

**齐套运算是否释放不齐套物料：**

在供需匹配计算出最小的齐套数量之后，订单占用的可用量供应数据是否需要释放物料的设置。

**齐套运算是否启用最小齐套数量：**

经济批量，最小的齐套数量。

**齐套运算是否启用数量单位取整**：

齐套运算时需要参考的物料的数量单位（取整单位）。

**齐套运算通过物料BOM展开时计算物料需求数量所采用的公式：**

父项数量\*BOM使用量 （不考虑损耗）

父项数量\*BOM使用量\*（1+损耗率）

父项数量\*BOM使用量/（1-损耗率）

**齐套运算所使用数据(物料、BOM、仓库、库存等)所定义的排产单元编码：**齐套数据来源的排产单元编码。

**齐套运算中设置制造订单(当前单元)的过滤条件：**设置当前排产单元制造订单的过滤条件。

**齐套运算中设置制造订单的排序规则**：

设置齐套运算时，所收集的订单的排列顺序。

**齐套运算中设置供需分配有效条件式：**

设置供需匹配时供应数据的有效性规则和范围

其它相关选项

**齐套运算结果写入制造订单表的字段映射关系设置：**

齐套运算需要把齐套结果回写到制造订单表里，该参数设置齐套运算结果写入制造订单表的字段映射关系。

**齐套结果最多保留次数：**

保留齐套结果的次数设置。

**齐套运算(计划开始日期)是否以当前时间为准：**

设定齐套运算(计划开始日期)是否以当前时间为准，也就是系统的当前时间。

**齐套运算(计划开始日期)的起始日期：**

指定齐套运算(计划开始日期)的起始日期

**齐套运算默认的计算区间长度【天】：**

设定齐套运算开始日期到结束日期的天数。

#### 4.4.2参与库存项运算设置

![](media/7675bf8912a902c6e7ede80e9d292659.png)

勾选参与库存运算的可用量，物料库存默认勾选，且不能修改（可用量在库存可用量配置表设置），优先级可以设置物料供应的顺序，优先级大的优先供应。

#### 4.4.3参与运算库位设置

![](media/4b05e53b8f5ffe2f17b9a76de9496037.png)

勾选需要参与齐套运算的库存库位。

#### 4.4.4参与运算排产单元

![](media/cbfe41dc1ace83b134deb6713ffa8195.png)

勾选需要参与齐套运算的排产单元，即制造订单数据来源的排产单元。

### 4.5 齐套分析管理

齐套分析管理是进行齐套运算的窗口，,需要排产后生成制造订单的开始时间和结束时间后才能进行齐套计算，如果没有制造订单的开始时间，则收集不到订单信息，会提示“找不到任何订单信息”。

![](media/bbb16963046dfe2d777fedc56904fc44.png)

**第一步：点击新增按钮，设置齐套参数。**

计划开始日期：设置需要进行齐套运算的订单的计划开始时间范围。

齐套方案：选择当前齐套分析的齐套方案。

LT天数：物料需求的时间对于订单计划开始时间的提前天数。

检查物料BOM：设置运算过程是否要检查物料BOM。

齐套结果写入订单表：设置齐套运算的结果是否写入订单表。

**第二步：点击开始计算进行齐套运算。**

![](media/d2a9c2ffe7c5681c50746a83ba722cdb.png)

【订单列表】齐套分析运算获取到的订单信息列表。

![](media/2a9b6a0a4cb446ca86158760ed3abe3c.png)

【需求明细】制造订单根据物料BOM展开的需求明细列表

![](media/8671e4e8d4ef43ee1dc58eaf126cc909.png)

【供应数据】记录本次齐套运算中可作为供应的可用量（库存）数据。

![](media/e45a37b404aaf7ef9a6e86583675b8cb.png)

【齐套结果】生产本次齐套运算中的齐套信息列表。

![](media/9069cc8d710351d52ca345161c3fa343.png)

齐套详情

退出后会在齐套分析管理中生成一行齐套运算数据，选择齐套结果数据行点击详情按钮，可查看更详细的齐套信息。

![](media/a495bb97c15cda1a60625c0e804f0577.png)

### 4.6 齐套结果

#### 4.6.1齐套分析结果

选择最新齐套结果后点击详情会显示详细的齐套结果。如下图，首先选择要查看齐套结果的排产单元，然后点击查询。

![](media/05c22398f938f37dd43596c255605fe3.png)

齐套方案勾选释放不齐套物料，如下图，订单MO0001的最小齐套数量是子项料号Y的292，也就是说订单最多齐套292套，所以其它子项料号会把不齐套的部分释放给后面的订单使用，可看到所有子项料号的齐套数量都是292。

![](media/03656b379fd2e56ae92d929dd6790629.png)

如果把产品A的最小齐套数量设置为300，则订单MO0001的齐套率会为0，是因为齐套方案启用了最小齐套数量，订单MO0001最小齐套数量292小于300，订单MO0001没有达到最小齐套数量，所以不占用物料。结果如下图:

![](media/9f66259934d143d38b623dac4351cd0c.png)

如果齐套方案勾选考虑替代料，如下图，启用替代料时，齐套分析结果会显示替代类型，点开齐套追溯可以看到原物料X不够，使用了替代料X1。

![](media/678bc4623b130b2ab3b4d872b8e8f4af.png)

#### 4.6.2订单欠料明细

根据齐套信息计算出的制造订单的欠料明细报表，订单欠料明细可以查看每一张订单的具体欠料。

![](media/63dd75e3a6b755457bb6415f7626566c.png)

#### 4.6.3供需分配明细

在齐套运算时根据齐套方案等设置的规则进行供需匹配生成供需分配明细表，以订单维度查看每一个子项物料的来源。

![](media/cfbdbc646cd85d7f4a71c037be478683.png)

#### 4.6.4物料供应明细

齐套运算供需匹配后生成物料维度的物料供应明细表，其中已分配数量为0则没有消耗。点击供应明细按钮可用查看哪些订单使用了该物料。如下图：

![](media/efa28b05859618f9082ae0794e1bf850.png)

到此为止整个齐套过程从齐套基础数据维护、齐套计划数据录入、齐套分析运算、查看齐套结果这样的一个入门体验就完成了。
