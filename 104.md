
**EasyAPS**

**用户手册**

深圳排产易智能科技有限公司

目录

[版权声明](#_Toc101425614)

[前言](#_Toc101425615)

[第一部分 入门手册](#_Toc101425616)

[第一章 手册导读](#_Toc101425617)

[定义和缩写词](#_Toc101425618)

[第二章 软件安装](#_Toc101425619)

[2.1 数据库安装](#_Toc101425620)

[2.2 EasyAPS安装与登录](#_Toc101425621)

[2.2.1 主程序安装](#_Toc101425622)

[2.2.2创建EasyAPS数据库](#_Toc101425623)

[2.2.3服务端连接数据库](#_Toc101425624)

[2.2.4 客户端登陆](#_Toc101425625)

[第三章 生产排产功能](#_Toc101425626)

[3.1 入门实例说明](#_Toc101425627)

[3.2 基础数据维护](#_Toc101425628)

[3.2.1客户](#_Toc101425629)

[3.2.2物料](#_Toc101425630)

[3.2.3物料组别](#_Toc101425631)

[3.2.4资源](#_Toc101425632)

[3.2.5资源组别](#_Toc101425633)

[3.2.6 班次](#_Toc101425634)

[3.2.7 日历](#_Toc101425635)

[3.2.8 工序](#_Toc101425636)

[3.2.9工艺产能](#_Toc101425637)

[3.3 计划数据输入](#_Toc101425638)

[3.4 计划排产](#_Toc101425639)

[3.5 生产计划查询](#_Toc101425640)

[3.6 生产指示发布](#_Toc101425641)

[3.9 生产实绩反馈](#_Toc101425642)

[第四章 物料齐套功能](#_Toc101425643)

[4.1齐套基础数据](#_Toc101425644)

[4.1.1物料信息（CTB）](#_Toc101425645)

[4.1.2物料BOM](#_Toc101425646)

[4.1.3有效仓库维护](#_Toc101425647)

[4.1.4齐套替代料设置](#_Toc101425648)

[4.2齐套计划数据](#_Toc101425649)

[4.2.1库位库存](#_Toc101425650)

[4.2.2订单预占料](#_Toc101425651)

[4.3 库存可用量设置](#_Toc101425652)

[4.4 齐套方案设置](#_Toc101425653)

[4.4.1通用参数设置](#_Toc101425654)

[4.4.2参与库存项运算设置](#_Toc101425655)

[4.4.3参与运算库位设置](#_Toc101425656)

[4.4.4参与运算排产单元](#_Toc101425657)

[4.5 齐套分析管理](#_Toc101425658)

[4.6 齐套结果](#_Toc101425659)

[4.6.1齐套分析结果](#_Toc101425660)

[4.6.2订单欠料明细](#_Toc101425661)

[4.6.3供需分配明细](#_Toc101425662)

[4.6.4物料供应明细](#_Toc101425663)

[第二部分 帮助手册](#第二部分-帮助手册)

[概述](#概述)

[第一章 模块构成](#第一章-模块构成)

[1.1 高级计划排产系统APS](#11-高级计划排产系统aps)

[1.2 高级物料系统](#12-高级物料系统)

[第二章 服务端管理](#_Toc101425669)

[2.1 系统参数](#_Toc101425670)

[2.2 排产单元](#21-排产单元)

[2.3 系统初始化](#_Toc101425672)

[2.4 角色管理](#22-角色管理)

[2.5 权限管理](#23权限管理)

[2.6 资源分配](#24-资源分配)

[2.7 在线客户端](#_Toc101425676)

[2.8 程序更新](#_Toc101425677)

[2.9 产品注册](#25-产品注册)

[第三章 GUI](#第三章-gui)

[3.1 客户端登录](#登录)

[3.2 全局操作界面](#32-全局操作界面)

[3.2.1常用的表单操作按钮](#321常用的表单操作按钮)

[3.2.2 工具栏编辑](#_Toc101425683)

[3.2.3 表单界面布局编辑](#323-表单界面布局编辑)

[3.2.4查看报表](#_Toc101425685)

[3.2.5新增数据](#_Toc101425686)

[3.3 排产引擎界面](#33-排产引擎界面)

[第四章 数据接口](#第四章-数据接口)

[4.1数据导入](#41数据导入)

[4.1.1导入设置](#411导入设置)

[4.1.2 导入执行](#412-导入执行)

[4.2数据接口扩展存储过程说明](#42数据接口扩展存储过程说明)

[4.3排产引擎备份](#43排产引擎备份)

[第五章 排产数据管理](#第五章-排产数据管理)

[5.1 工作区](#51-工作区)

[5.1.1 我的门户](#511-我的门户)

[5.1.2 我的工作](#512-我的工作)

[5.2排产生产特征](#52排产生产特征)

[5.2.1生产特征1\~10](#521生产特征110)

[5.3 排产基础数据](#53-排产基础数据)

[5.3.1 客户](#531-客户)

[5.3.2 物料](#532-物料)

[5.3.3 物料组别](#533-物料组别)

[5.3.4 资源](#534-资源)

[5.3.5资源组别](#535资源组别)

[5.3.6班次](#536班次)

[5.3.7 日历设置](#537-日历设置)

[5.3.8 工序](#538-工序)

[5.3.9工艺产能](#539工艺产能)

[5.4 排产切换设置](#54-排产切换设置)

[5.4.1 生产特征切换](#541-生产特征切换)

[5.4.2 资源切换](#542-资源切换)

[5.4.3 物料切换](#543-物料切换)

[5.5 排产计划数据](#55-排产计划数据)

[5.5.1销售订单](#551销售订单)

[5.5.2制造订单](#552制造订单)

[5.5.3 盘点库存](#553-盘点库存)

[5.5.4 计划外出入库](#554-计划外出入库)

[5.5.5 工作](#555-工作)

[5.5.6 工作任务明细](#556-工作任务明细)

[5.5.7 物料需求明细](#557-物料需求明细)

[5.5.8 订单关联明细](#558-订单关联明细)

[5.5.9 工作指示发布](#559-工作指示发布)

[5.5.10 工作指示一览](#5510-工作指示一览)

[5.6 排产生产报工](#56-排产生产报工)

[5.6.1 生产报工录入](#561-生产报工录入)

[5.7 报表中心](#57-报表中心)

[5.7.1生产日计划](#571生产日计划)

[5.8 计划控制塔](#58-计划控制塔)

[5.8.1 KPI分析](#581-kpi分析)

[5.8.2 关键事件](#582-关键事件)

[5.8.3 生产进度](#583-生产进度)

[5.8.4 订单进度](#584-订单进度)

[5.9系统管理](#59系统管理)

[5.9.1 排产方案管理](#591-排产方案管理)

[5.9.2 环境设置](#592-环境设置)

[5.9.3 KPI设置](#_Toc101425737)

[5.9.4 窗体属性设置](#594-窗体属性设置)

[5.9.5 任务提醒设置](#_Toc101425739)

[5.9.6 系统日志](#596-系统日志)

[5.9.7 PSI设置](#597-psi设置)

[5.9.8 配置同步](#598-配置同步)

[第六章 生产排产](#第六章-生产排产)

[6.1图表构成](#61图表构成)

[6.2图表的基本操作](#62图表的基本操作)

[6.3排产全局设置](#63排产全局设置)

[6.3.1环境设置](#631环境设置)

[6.3.2 排产方案参数设置](#_Toc101425748)

[6.4资源甘特图](#64资源甘特图)

[6.4.1界面介绍](#641界面介绍)

[6.4.2资源甘特图的操作](#642资源甘特图的操作)

[6.5订单甘特图](#65订单甘特图)

[6.6订单关联甘特图](#66订单关联甘特图)

[6.7负荷图](#67负荷图)

[6.8库存图表](#68库存图表)

[6.9 消息](#69-消息)

[6.10评估结果](#610评估结果)

[6.11 PSI](#611-psi)

[6.12订单](#612订单)

[6.13工作](#613工作)

[第七章 齐套数据管理](#第七章-齐套数据管理)

[7.1物控基础数据](#71物控基础数据)

[7.1.1物料信息（CTB）](#711物料信息ctb)

[7.1.2物料（BOM）](#712物料bom)

[7.1.3材料配额](#713材料配额)

[7.1.4有效仓库维护](#714有效仓库维护)

[7.1.5齐套替代料设置](#715齐套替代料设置)

[7.2 物控计划数据](#72-物控计划数据)

[7.2.1采购订单](#721采购订单)

[7.2.2 库位库存](#722-库位库存)

[7.2.3 订单预占料](#723-订单预占料)

[7.2.4 未领料明细](#724-未领料明细)

[7.2.5在途库存](#725在途库存)

[7.2.6 物料欠料追踪表](#726-物料欠料追踪表)

[7.2.7 齐套订单欠料明细](#727-齐套订单欠料明细)

[7.2.8 齐套供需分配明细](#728-齐套供需分配明细)

[7.2.9 齐套物料供应明细](#729-齐套物料供应明细)

[7.3 物控工作台](#73-物控工作台)

[7.3.1 库存可用量配置](#731-库存可用量配置)

[7.3.2 齐套分析方案](#732-齐套分析方案)

[7.3.3 齐套分析管理](#733-齐套分析管理)

[第八章 逻辑](#第八章-逻辑)

[8.1 订单、工作、任务、指令](#81-订单工作任务指令)

[8.2排程逻辑](#82排程逻辑)

[第一阶段：加载待分派订单](#第一阶段加载待分派订单)

[第二阶段：订单展开](#第二阶段订单展开)

[第三阶段：分派方向和分派顺序决定](#第三阶段分派方向和分派顺序决定)

[第四阶段：工作分派](#第四阶段工作分派)

[第五阶段：分派调整](#第五阶段分派调整)

[第六阶段：描绘排程结果](#第六阶段描绘排程结果)

[8.3齐套逻辑](#83齐套逻辑)

[第一阶段 订单收集](#第一阶段-订单收集)

[第二阶段 需求展开](#第二阶段-需求展开)

[第三阶段 获取供应](#第三阶段-获取供应)

[第四阶段 进行齐套计算及结果输出](#第四阶段-进行齐套计算及结果输出)

[8.4订单的关联](#84订单的关联)

[第九章 使用说明](#第九章-使用说明)

[例1 自动补充标志](#_Toc101425798)

[例2 生产特征、数值特征](#_Toc101425799)

[例3 BASE物料代码](#_Toc101425800)

[例4 原料切换](#_Toc101425801)

[例5 库存MIN、目标库存MIN](#_Toc101425802)

[例6 物料制约标志](#_Toc101425803)

[例7 制造批量MAX、MIN、单位](#_Toc101425804)

[例8 制造批量尾数为末尾](#_Toc101425805)

[例9 工作分割](#例9-工作分割)

[例10 关联条件](#_Toc101425807)

[例11 炉资源](#_Toc101425808)

[例12资源量制约](#_Toc101425809)

[例13分派资源量标志](#_Toc101425810)

[例14工作临时固定](#_Toc101425811)

[例15中断时间](#_Toc101425812)

[例16后资源制约](#_Toc101425813)

[例17实绩输入标志](#_Toc101425814)

[例18制造任务可开工日期、时间段](#_Toc101425815)

[例19跨其它工作分派](#例19跨其它工作分派)

[例20指令类别](#_Toc101425817)

[例21副资源的设定方法](#例21副资源的设定方法)

[例22任务选定器](#_Toc101425819)

[例23工序选定器](#_Toc101425820)

[例24制造、移动时间](#_Toc101425821)

[例25接续方法](#_Toc101425822)

[例26工序有效条件式](#_Toc101425823)

[例27必要资源量、任务资源量](#_Toc101425824)

[例28 1对1关联指定料号](#_Toc101425825)

[例29后订单](#例29后订单)

[例30数量固定级别](#例30数量固定级别)

[例31设置时间计算方法](#_Toc101425828)

[例32分派方向](#_Toc101425829)

[例33关键料齐套率](#_Toc101425830)

[例34 最小齐套数量、数量单位](#_Toc101425831)

[例35供需分配有效条件](#_Toc101425832)

[附录](#附录)

# 第二部分 帮助手册

## 概述

排产易APS系统是根据APS核心理论(有限能力与TOC理论)而开发的高级计划与排程系统。它面向离散性的制造业企业的生管提供详尽的车间生产排产建议，使得生管能快速对生产问题进行决策，并且迅速根据用户需求的变化进行计划重排。与传统意义上的ERP系统相比，排产易生产排程系统在计划、排程、物料、车间管控等方面实现了真正的信息化管控，从管理层次上帮助企业快速合理调配物料、设备、人员等生产资源，实时反馈生产进度及异常情况，确保订单准时交货，快速响应客户需求，实现了有限产能条件下的交期预测、产能平衡、工序详细生产计划，从本质上帮助企业提升市场竞争力和应变能力。  
![](media/25b4e2202aab73e1d89ff1924209be3b.png)

**功能要点**  
  
 排产易APS系统拥有先进排产算法，能在协助生管减少额外的生产资源浪费、提供生产效率。此外，生管也可以使用排产易生产排程系统在不同场景和环境下进行生产排程模拟，例如：  
 • 客户交期回答  
 • 紧急插单  
 • 需求变更  
 • 资源或设备可用性  
 • 外发加工  
  
 排产易APS系统集成了多种核心调度优化演算法，配合灵活的架构设计，为整个车间作业的排程和调度提供稳定和有效的解决方案。在生产排程演算过程中，系统会因应不同的优化目标而自动运算出最优排产结果，一般排产目标如：  
 • 订单逾期率  
 • 负荷均衡化  
 • 制造效率  
 • 生产成本  
  
 排产易APS系统的高级物料计划根据APS自制件的主计划进行中长期的交付计划运算，摒弃传统ERP只计算需求量与固定提前期推算日期的弊端，创造性的设计ARP计算逻辑，根据客户的交付点呵动态安全库存天数来弹性生成更符合企业JIT配送物料要求的详细交付计划。极大降低客户的物料库存水平！

排产易生产计划排产系统全面覆盖PMC部门的计划安排计算，整体应用模式如下图所示：

![](media/ce5704071a33b7e4d62108da5c880830.png)  
 排产易APS系统之所以称之为系统而不是排产工具，除了必要的排产引擎以外，系统还通过单元化管理，实现多人协同拟定计划或维护数据、或与周边系统的实时协作。通过丰富的可配置的功能，可以想不同层次、不同职能的管理者推送相关关键事件和KPI，协助用户监督和推动整个计划过程的执行。协助企业提高核心竞争力！  
  
**突出优势**  
 排产易APS系统，实现一键式高速排程软件。把有规律有原则的复杂计算过程交由系统完成，从而很好地避免了由于复杂的计划过程而导致排程的误差与失误。把计划员从复杂而又重复进行的手工计算作业中释放出来，重点工作变成如何把计划管理好，提升计划管理水平。实现生产计划由对应型计划管理到改善型计划管理的质的飞跃。  
 排产易APS系统，使得计划规范化、程序化。对排程人员经验的总结与归纳，构建出相应排产方案，形成相应的行业方案。使企业既可以减少对资深员工的依赖，又能降低由于人才流动所带来的技术风险。行业排产方案是对计划员的排产经验和方法的积累，实现计划员的知识继承。  
  
**客户收益**  
 充分挖掘企业潜力，优化生产计划，提升生产效率，降低设备及人力成本，提高客户的交期达成率。  
 实现精益采购，依据生产执行采购计划，不盲目采购，缩短物料采购提前期，使物料供应配合生产，避免因欠料引起交货延期。  
 通过精益生产和精益采购最大限度降低物料库存，缩减原材料、半成品的在库数量以及在制品的现场停留时间，从而减少物料占用资金，加快库存周转，增加企业流动资金。  
 提升市场反应能力，快速响应客户需求，积极应对紧急插单，平衡客户各种订单要求，提升服务水平和客户满意度。  
 梳理业务流程，使得工厂管理标准化、透明化、可视化，精准掌控整个生产过程，为企业决策提供依据。  
 通过管理透明化，明确计划与执行的差异性，借助流程不断改进、管理不断规范和差异逐渐消除。从而不断提升企业管理水平，增强企业竞争力，提升企业形象。

## 第一章 模块构成

### 1.1 高级计划排产系统APS

**概要**

通过APS模块处理工厂内，主计划、详细日调度计划的安排。可独立使用。

**特征**

排产易APS系统可以快速速地建立多层次、多品种、多工序生产计划。它同时考虑设备和、模治具或者人员的负荷，将工厂中的每一台设备未来计划精确到以秒单位进行安排。在排产的同时，系统会自动统计出指定周期（日、周或者月）内工厂或车间级别的负荷情况，从而可以指导接单及调整产能。

![http://www.easyaps.cn/u_file/images/17_08_30/e4bf7e6ad7.png](media/9c4353c36c7c990d83ae4bf436fbedd2.png)

### 1.2 高级物料系统

**概要**

通过高级物料模块，处理物料交付计划、齐套欠料分析。可独立使用。

**特征**

排产易高级物料模块不仅仅考虑基本的MRP计算逻辑，生成供应商交付时间，还充分考虑上层计划的波动，提出了动态安全库存的概念，供应商交货频率/节奏，使得物料交付的时间点更加精确，库存更加合理。当物料不能满足需求时，根据材料的在库、供应商交付答复自动分析产品齐套欠料情况，释放引不齐套又被占用的物料，供其他产品使用。同时计算出各产品需求最早可齐套生产的时间。

## 第二章 系统设置

### 2.1 排产单元

排产单元是EasyAPS运行的基本单位，所有的业务操作都必须依赖于排产单元。排产单元可以理解为一个工厂，例如一个公司有A工厂和B工厂两个工厂，可以建立A工厂排产单元和B工厂排产单元。排产单元主要信息：排产单元代码、名称，所属的行业模板。在此界面可以新增、修改、删除排产单元。

![](media/e83a681946526373af469aef98d0c0e3.png)

-   新建立排产单元：如图，点击新增按钮，然后输入排产单元编码、排产单元名称、选择模板，最后点击保存，排产单元新增完成。

选择模板有：

1.  CTB：物料齐套计算模型。
2.  标准：计划排产模型，有订单级和工序级排产方案。
3.  小日程：计划排产模型，有更详细的排产方案——初始化排产、均衡化排产、排产顺序记录、计划重排与调整。（标准模型一般用在多工序，小日程一般用在单工序，因为小日程里面有一些针对单工序设置好的排产方案）。

![](media/57f553f31dd6edb2ce694e21de9eaaf4.png)

-   修改排产单元：如图，点击编辑按钮可以修改排产单元名称、增加备注，但排产单元编号和模板是不能修改的，修改后记得保存。

![](media/fff57233a6c32714cad8906124e125c0.png)

-   删除排产单元：选择要删除的排产单元，点击删除按钮确定，完成排产单元的删除。

![](media/78a9a900618f50245d4541112354c4e6.png)

### 2.2 角色管理

设定管理排产单元的角色，一个排产单元可以有多个。针对排产单元中的各个功能模块给角色授予权限（查看、编辑、导入）。

-   新建角色：如图，点击新增按钮，输入角色编号、角色名称，选择要新增角色的排产单元，然后勾选授予该角色的模块权限，点击保存。新增的角色在左边显示。

    ![](media/a7b775e04c1954e9537c6e727266319d.png)

-   修改角色：如图，在左边选择要修改的角色，点击编辑按钮，可以修改角色名称或增加/删除模块权限。

![](media/f098ea79b8184088b10923fb794ecd36.png)

-   删除角色：如图，在左边点击要删除的角色，然后点删除按钮删除角色。

![](media/de2cb859349bd230825dbd0dc507a446.png)

如果用户已经对该角色进行授权，则应该先在用户管理中取消对于此角色的授权，再删除该角色。

![](media/6159128664c585bed400bdd630c4f25d.png)

### 2.3权限管理

EasyAPS的用户权限是以角色为单位进行管理的，一个用户可以拥有多个角色，这样同一个用户可以管理多个不同的排产单元。也就是说一个角色对应一个排产单元，但一个用户可以有多个角色。在此界面设定用户编号、名称、密码等基本信息。

-   新建用户：如图，点击新增，然后输入用户编号、用户名称、用户密码，最后选择赋予用户的角色权限。保存后的用户在左边显示。

![](media/5e5aa5b70c27c6a7b61e8f66d3b16049.png)

-   修改用户：如图，在左边选择要修改的用户，点击编辑按钮，可以修改用户名称、用户密码、用户所具有的角色权限。

![](media/7cee44a414044e3cbfb6a6aa0ec9be1c.png)

-   删除用户：如图，在左边选择要删除的用户，点击删除按钮完成删除。

![](media/84381b805c6d54d863e2665a50d7d6fa.png)

### 2.4 资源分配

资源分配可以给用户分配资源的实绩录入权限，实绩录入权限是指用户能不能输入这个资源的完工数据。如果用户没有该资源的实绩录入权限，则不能录入这个资源的报工数据。

修改资源分配：如图，选择要修改的用户，然后点击编辑按钮增加/减少用户的资源权限。

![](media/0cb1dc462f2b8d43d7cf946167e89046.png)

### 2.5 产品注册

在产品注册进行软件授权，授权成功后会显示公司名称、加密狗序列号和使用维护期限等信息。输入供应商提供的产品注册号码，然后点击确定，完成注册。

![](media/5c4571ba3921209d7da4b351b0cae887.png)

## 第三章 GUI

### 登录

如图，输入登录用户、密码、选择排产单元后点击登录。

![](media/facb797ff0f342f8ea6a3b38e019669b.png)

登陆后的主界面。

![](media/74e2f643ff09bfbdae48937c85af9c4c.png)

### 3.2 全局操作界面

全局操作界面介绍排产易软件的整体布局及操作

1.  菜单栏：软件的菜单放置在左边
2.  搜索框：可以在此处快速搜索要找的菜单。
3.  已打开菜单：显示已打开的菜单。
4.  表格按钮：表单常用的按钮。
5.  表单列名：表单的列名、单据的表头。

![](media/776276ab0589567624268f30323b828a.png)

#### 3.2.1常用的表单操作按钮

**1）表格按钮操作**

![](media/d0667a1515f59b1340d3879ffc63db1f.png)

1.  新增：点击新增，可以打开新增界面，新增数据。
2.  编辑：点击编辑，可以打开编辑界面，修改数据。
3.  删除：选中需要删除的数据，点击删除，可以删除数据。
4.  更多：点击更多可以把数据导出Execl、进行表格设置、设置表格布局。
5.  请选择布局：可修改当前表单界面布局。

**2）表格列操作**

点击表头字段，可以对数据进行升序或降序排列。

![](media/22286de56d4e90690293b00de73dfa10.png)

#### 3.2.3 表单界面布局编辑

系统自带缺省布局，布局中会记录行的高度、列的宽度、显示的列、筛选条件、排序等信息，每个用户可以根据需要建立多个布局，根据实际需要选择布局。

1.  添加新布局：通过更多→表格布局设置→添加新布局，打开物料表格设置，输入布局名称，勾选可见字段后点击确定，即可添加新布局。

![](media/c6715e3a8535d3613edda573faa86f74.png)

![](media/a8a36c3b2b69e5b1bda6ecff100714a0.png)

1.  设置启动布局：在物料表格设置勾选“是否默认启动”，即可设置启动布局。

![](media/3ca08c39d23cf6e0860756aea03d68b3.png)

1.  修改布局：打开表格设置可以修改布局。

![](media/aa18f522cd018d1b4e2fe93dde57baf8.png)

**注：**系统的缺省布局不能编辑，只有新建的布局才能任意修改。

### 3.3 排产引擎界面

如下图为排产引擎中资源甘特图的整体布局：

![](media/145d11af4c5466ad4596e87d3023ca93.png)

1.  菜单栏：排产引擎界面的菜单栏，可使用菜单的按钮进行排产及查看排产结果。
2.  日期时间：显示的日期及时间。
3.  资源：显示该排产单元的资源。
4.  甘特图显示：排产后的甘特图显示。
5.  已打开的菜单：在底部显示已打开的菜单。

具体菜单名称如下图：

![](media/b58fec62dc009f508f04ce0171188c1a.png)

## 第四章 数据接口

外部数据可以通过排产易标准功能从外部第三方系统通过Excel、SQL的方式导入排产易各模块。

### 4.1数据导入

#### 4.1.1导入设置

在导入设置可以设置导入数据的方案。

##### 4.1.1.1导入模板

在导入设置界面导出“导出Excel模板”作为导入模板

![](media/e6a1040fe73abd753c312c9f8966766a.png)

客户导入模板部分样例：

![](media/8c834d20a9a461762986722b71bd981b.png)

红色字段代表主键，黄色是必填字段；Description（sheet1）为excel数据字段说明（必需要有第1个sheet）,Data（sheet2）为数据。

##### 4.1.1.2编辑导入方案

主要是给业务角色定义数据导入的方案，例如PC计划员要排产，要导入物料、BOM、制造订单等数据，定义一个方案可以一次导入，提高效率。

**新增方案：**如下图新增方案命名确定。

![](media/90ae2657023cb3f1f432dd080a253b7e.png)

**编辑方案:**勾选需要导入的数据后保存。

![](media/10dfa33215af5503ee027f32b5742e29.png)

##### 4.1.1.3设置映射关系

设置导入的更新方式、数据类型、导入路径、字段映像（把导入模板的字段和APS的字段对应）注意模板表不能是打开状态。

如下图：点击编辑方案，在要设置的表右击，选择【编辑映射…】，弹出导入功能编辑，在这里设置更新方式、数据源类型、文件名（即导入模板所在路径）以及字段映射，字段映射要一一对应。设置完毕后确定，保存方案。

![](media/72eec8e557c67040d3decd2b6b8ef578.png)

![](media/407fdd1251d7dde328ef6534046bc53e.png)

系统有3种更新方式

1.  系统主键（差分）：与系统表数据进行对比，对已有的数据进行更新，没有的数据则插入。

例：APS_Customer表（系统主键：客户代码）

客户表原数据：

![](media/bab5ba5bb3f60816eb7999a822717b08.png)

导入模板表数据：

![](media/07f01c890e3613d3e5cf153622b1207f.png)

更新结果：

![](media/809bad9d455453fe95aaf5c72cb8d056.png)

1.  全删全写（替换）：把原表的数据全删除，导入新的数据 。

例：APS_Customer表（系统主键：客户代码）

客户表原数据：

![](media/bab5ba5bb3f60816eb7999a822717b08.png)

导入模板表数据：

![](media/07f01c890e3613d3e5cf153622b1207f.png)

更新结果：

![](media/380f7a843ea4bc0e21ab3b4b67b221d4.png)

1.  自定义主键更新（替换）：以自定义主键与原表数据进行对比，对已有的数据进行更新，没有的数据则插入。

例：APS_Customer表（自定义主键：客户名称）

客户表原数据：

![](media/bab5ba5bb3f60816eb7999a822717b08.png)

导入模板表数据：

![](media/07f01c890e3613d3e5cf153622b1207f.png)

更新结果：

![](media/3d5d344b885561ddf4d61ec5161198e6.png)

#### 4.1.2 导入执行

设置好导入的方案，业务人员在排产前选择对应的方案可以导入数据。

导入数据可选择方案后点击【执行方案】批量导入；也可以选择要导入的数据单向导入，点击【开始导入】，一次只导入一种数据。

![](media/3093aec3c574b4812fda4177985385b5.png)

如果导入报错，请查看报错提醒解决报错问题后再导入，直至导入成功。

### 4.2数据接口扩展存储过程说明

通过扩展存储过程的功能对接口数据进行处理前、处理中、处理后的数据加工，帮助用户完成对数据的处理,每个存储过程处理结果后必须要有返回值。每一个单项导入动作都会执行以下三个存储过程，如果导入方案中有多项导入模块，则会多次执行以下三个存储过程。

1.  处理前存储过程（pro_OnDealDataBaseDataBefore，外部数据更新到正式表之前）

参数：

@PlanUnitCode：排产单元

@UserId：登录用户名

@ActionFlag：“Input_”+前端导入模块名称

返回值：

成功：SELECT 'OK' AS sStatus

失败：SELECT 'NG' AS sStatus,'执行251数据出错' AS sMessage

1.  处理中存储过程（pro_OnDealDataBaseDataCommit，外部数据更新到正式表后，事务提交前）

参数：

@PlanUnitCode：排产单元

@UserId：登录用户名

@ActionFlag：“Input_”+前端导入模块名称

@tmpTable：系统生成的临时表

返回值：

成功：SELECT 'OK' AS sStatus

失败：SELECT 'NG' AS sStatus,'执行251数据出错' AS sMessage

1.  处理后存储过程（pro_OnDealDataBaseDataAfter，外部数据更新到正式表后，事务提后）

参数：

@PlanUnitCode：排产单元

@UserId：登录用户名

@ActionFlag：“Input_”+前端导入模块名称

返回值：

成功：SELECT 'OK' AS sStatus

失败：SELECT 'NG' AS sStatus,'执行251数据出错' AS sMessage

### 4.3排产引擎备份

系统有排产引擎参数备份功能，在系统管理-排产方案设置中勾选是否弹出保存备份询问对话框。

![](media/c840288c62d27b1d0133f575cd0cf561.png)

在排产引擎关闭时就会弹出对话框选择保存备份。

![](media/4dd31a600a82256341f797b7079235f1.png)

备份恢复

在备份/还原选择对应的备份，点击确定。

![](media/98affaee936473bcc87b414f15608ca1.png)

## 第五章 排产数据管理

### 5.1 工作区

#### 5.1.1 我的门户

我的门户主要显示任务提醒信息及KPI图表的查看。（设置方法请查看：[任务提醒设置](#595-任务提醒设置)、[KPI设置](#593-kpi设置)），方便计划员快速了解当前计划的进度。

![](media/b5736433acda1baf0ba563517fca93da.png)

#### 5.1.2 我的工作

在我的工作可以打开排产引擎、导入数据设置和执行以及还原备份数据。

![](media/913d5799eeb539a7afdda71cc3df8017.png)

点击生产排产加载时，系统会调用存储过程pro_OnCallEngineBefore。

### 5.2排产生产特征

#### 5.2.1生产特征1\~10

生产特征是排产易里面中一类特殊的属性类别，这些生产特性会被引用于物料表、制造订单、以及切换设置表。排产时系统会自动的根据这些生产特征匹配符合资源，或者计算相应的切换时间。

![](media/73bbf4380d6b01e3ac049588de9a182f.png)

### 5.3 排产基础数据

#### 5.3.1 客户

在客户表可以设定客户的信息，客户代码不能重复。客户信息可以在制造订单或销售订单使用，用于记录是哪个客户的订单。

![](media/59d3a68943af6660fb3a2419ff0dbc01.png)

#### 5.3.2 物料

在物料表可以录入物料的基础信息，物料可以是成品、原料、也可以是半成品，在工艺产能、制造订单、盘点库存、计划外出入库都可以用到物料信息。

![](media/d9c4a279246a0c58969f3a2423022f03.png)

物料表字段含义：

| 字段名称               | 字段说明                                                                                                                                                                                                                                                                              | 使用说明                                                                       |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
| 物料代码               | 物料的编码，具有唯一性                                                                                                                                                                                                                                                                |                                                                                |
| 物料名称               | 物料的名称                                                                                                                                                                                                                                                                            |                                                                                |
| 物料组代码             | 物料所属的物料组代码                                                                                                                                                                                                                                                                  |                                                                                |
| 物料种类               | 物料的分类。M：原材料；H：半成品；I：中间品；P：完成品                                                                                                                                                                                                                                |                                                                                |
| 物料优先度             | 设定分派时的优先度。分派规则中设定物料优先度时将会被引用                                                                                                                                                                                                                              |                                                                                |
| 单价                   | 单位数量的价格。不影响排程。                                                                                                                                                                                                                                                          |                                                                                |
| 自动补充标志           | 当销售订单的物料有自动补充标志时，会与制造订单、库存信息进行关联                                                                                                                                                                                                                      | [例1自动补充标志](#例1-自动补充标志)                                           |
| 备料方法               | 物料不足的备料方法;自动补充的情况下生成制造订单。                                                                                                                                                                                                                                     |                                                                                |
| 生产特征1              | 物料的特征，排产时将会被参考                                                                                                                                                                                                                                                          | [例2生产特征、数值特征](#例2-生产特征数值特征)                                 |
| 数值特征1              | 物料的数值特征，排产时特征将会被参考                                                                                                                                                                                                                                                  |                                                                                |
| 制造效率               | 物料的制造效率。1表示100%，如果是0的情况下默认为1.                                                                                                                                                                                                                                    |                                                                                |
| 显示颜色               | 设置在图表中物料的显示颜色，在甘特图显示——棒显示颜色运用                                                                                                                                                                                                                              |                                                                                |
| 显示顺序               | 设定库存图表等的表示顺序                                                                                                                                                                                                                                                              |                                                                                |
| BASE物料代码           | 指定订单展开时使用的物料工艺产能。如果在订单/物料设定了BASE物料代码，则使用BASE物料代码展开订单，最终工序输出订单物料。                                                                                                                                                               | [例3BASE物料代码](#例3-base物料代码)                                           |
| 物料切换对象           | 进行原料切换时，指定切换后新的物料                                                                                                                                                                                                                                                    | [例4原料切换](#例4-原料切换)                                                   |
| 物料切换方法           |  设置进行原料切换的方法。                                                                                                                                                                                                                                                             |                                                                                |
| 库存MIN                | 安全库存数量的最小值。如果有自动补充标志的情况，超过该值时将会自动补充订单                                                                                                                                                                                                            |  [例5库存MIN、目标库存MIN](#例5-库存min目标库存min)                            |
| 目标库存MIN            | 一般与库存MIN相同，按照积极消费安全库存的形式进行排程。库存MIN和目标库存MIN也可并用。例如：目标库存MIN=100，库存MIN=50的情况下，按照数量不下降到50以下，且最终以数量100来设定计划。                                                                                                   |                                                                                |
| 库存MAX                | 物料的最大库存，即库存上限                                                                                                                                                                                                                                                            |                                                                                |
| 物料制约标志           | 排产方案参数中设定[原料制约]的情况下，且物料制约为是时，对于输入指令数量不足的工作和其之后的工序中将分派在虚拟资源。                                                                                                                                                                  | [例6物料制约标志](#例6-物料制约标志)                                           |
| 库存增减方法           | 设定库存数量的增减方法，在排产引擎库存图表中可反映曲线的设定。 II 梯形/梯形：库存增减方法以制造为梯形，消费为梯形。  IL 梯形/线形：库存增减方法以制造为梯形，消费为线形。  LI 线形/梯形：库存增减方法以制造为线形，消费为梯形。  LL 线形/线形：库存增减方法以制造为线形，消费为线形。 |                                                                                |
| 制造批量MAX            | 决定自动补充订单的大小时使用。                                                                                                                                                                                                                                                        | [例7制造批量MAX、MIN、单位](#例7-制造批量maxmin单位)                           |
| 制造批量MIN            | 决定自动补充订单的大小时使用。                                                                                                                                                                                                                                                        |                                                                                |
| 制造批量单位           | 决定自动补充订单的大小时使用。                                                                                                                                                                                                                                                        |                                                                                |
| 制造批量大小计算方法   | 决定自动补充订单的大小时使用。                                                                                                                                                                                                                                                        |                                                                                |
| 制造批量尾数为末尾     | 否：将包含计算剩余量的工作先关联； 是：将包含计算剩余量的工作最后关联                                                                                                                                                                                                                 | [例8制造批量尾数为末尾](#_例8_制造批量尾数为末尾)                              |
| 工作分割数量           | 设定工作分派数量，与工作的制造数量无关。例如分割数量为2，则工作被分割成2个工作                                                                                                                                                                                                        | [例9工作分割](#_例8_工作分割)                                                  |
| 工作分割比率           | 设定工作分割比率。按照工作的制造数量和分派比率进行分割后工作的分派。                                                                                                                                                                                                                  |                                                                                |
| 工作并行数量           | 设定分派的工作是否由若干资源进行并行作业。                                                                                                                                                                                                                                            |                                                                                |
| 工作批量MIN            | 数量小于该值的时候，调整数量让工作大于或等于该值。                                                                                                                                                                                                                                    | 用法同制造批量，但工作批量除了根据订单数量进行分派，还可以根据制造批量进行分派 |
| 工作批量MAX            | 数量超过该值的情况下进行分派工作。                                                                                                                                                                                                                                                    |                                                                                |
| 工作批量单位           | 分派工作的数量为该值的倍数。                                                                                                                                                                                                                                                          |                                                                                |
| 自定义字符             | 当已有字段不满足使用时，可以自定义字段                                                                                                                                                                                                                                                |                                                                                |
| 关联条件               | 指定同一物料中的关联条件。没有指定的情况下无条件进行关联。                                                                                                                                                                                                                            | [例10关联条件](#例10-关联条件)                                                 |
| 工作输入指令排序表达式 | 工作进行关联时的排序方法                                                                                                                                                                                                                                                              |                                                                                |
| 工作输出指令排序表达式 | 工作进行关联时的排序方法                                                                                                                                                                                                                                                              |                                                                                |

#### 5.3.3 物料组别

物料组别可以维护物料的组别信息。录入物料组别的信息，然后在物料表的物料组代码字段选择这里的组别信息，可以对物料进行分组。

![](media/face1d95fd13064059caf70cbd334209.png)

#### 5.3.4 资源

资源表主要维护生产用到的资源资源信息，包括机器设备、作业员、辅助工具等资源。在工艺产能表会用到该表的资源信息。

![](media/5bb9b90860a6caa9b4d78e5ee685ba30.png)

资源表字段含义：

| 字段名称                    | 字段说明                                                                                                                                                                                                                                                                                                                                                         | 使用说明                                                        |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
| 资源代码                    | 资源的编码，具有唯一性                                                                                                                                                                                                                                                                                                                                           |                                                                 |
| 资源名称                    | 资源的名称                                                                                                                                                                                                                                                                                                                                                       |                                                                 |
| 资源组                      | 资源所属的资源组                                                                                                                                                                                                                                                                                                                                                 |                                                                 |
| 资源区分                    | S 单纯资源 F 炉资源：为分派同时开始、同时结束的多个工作的资源                                                                                                                                                                                                                                                                                                    | [例11炉资源](#例11-炉资源)                                      |
| 资源种类                    | M 主资源：生产的主要资源。 S 副资源：协助主资源的资源。 D 虚拟资源：订单根据工艺产能数据没有可分派资源，则分派在虚拟资源上。 G 外协资源：资源的种类为外协资源 I 库存资源：分派库存订单的资源                                                                                                                                                                     |                                                                 |
| 制约方法                    | R 制约：制约资源量 N 不制约：不制约资源量 V 按资源量分派：按资源量分派进行制约资源                                                                                                                                                                                                                                                                               | [例12资源量制约](#例12资源量制约)                               |
| 分派资源量标志              | 设定资源量的分派数量。 0 常规：分派资源量为使用指令的必要资源量。 1 与制造数量成比例：按照制造数量和必要资源量的比例进行分派资源量                                                                                                                                                                                                                               | [例13分派资源量标志](#例13分派资源量标志)                       |
| 生产特征1                   | 资源的生产特征1                                                                                                                                                                                                                                                                                                                                                  | [例2生产特征、数值特征](#例2-生产特征数值特征)                  |
| 数值特征1MIN                | 能够制造的数值特征1的最小值                                                                                                                                                                                                                                                                                                                                      |                                                                 |
| 数值特征MAX                 | 能够制造的数值特征2的最大值                                                                                                                                                                                                                                                                                                                                      |                                                                 |
| 显示顺序                    | 在资源甘特图、资源负荷图表的显示顺序                                                                                                                                                                                                                                                                                                                             |                                                                 |
| 显示颜色                    | 在资源甘特图、资源负荷图表的显示颜色                                                                                                                                                                                                                                                                                                                             |                                                                 |
| 瓶颈资源                    | 设定是否为瓶颈资源。排产方案参数的[工作临时固定]中使用[瓶颈资源]时该值变为[锁定资源]时分派工作进行临时固定。  0 常规：该资源不是瓶颈资源。 1 瓶颈资源：该资源为瓶颈资源。                                                                                                                                                                                        | [例14工作临时固定](#例14工作临时固定)                           |
| 无效资源                    | 设定该资源能否解除分派。 0 常规：该资源为分派对象。 1 无效：该资源不为分派对象                                                                                                                                                                                                                                                                                   |                                                                 |
| 制造中断时间MAX             | 设定工作中如休息等可中断的时间。设定0的情况下可以允许任意长度中断时间。设定-1的情况下表示不允许任何中断。                                                                                                                                                                                                                                                        | [例15中断时间](#例15中断时间)                                   |
| 前设置中断时间MAX           | 设定前设置期间中休息等的中断时间。设定为0的情况下可允许设定任意长的中断。设定负数的情况下不允许任何中断。并且，负数的情况下前设置任务和制造任务的分派不可分开。                                                                                                                                                                                                  |                                                                 |
| 后设置中断时间MAX           | 设置由于休息等原因可以中断工作的最长时间。设置0就允许任何长度的时间。设置负数绝对不允许中断。并且，负数的情况下后设置任务和制造任务的分派不可分开。                                                                                                                                                                                                              |                                                                 |
| 前设置和制造之间中断时间MAX | 设定前设置和制造任务之间所允许相离时间长度，设置0或负值表示不能中断                                                                                                                                                                                                                                                                                              |                                                                 |
| 后设置和制造之间中断时间MAX | 设定后设置和制造任务之间所允许相离时间长度，设置0或负值表示不能中断。                                                                                                                                                                                                                                                                                            |                                                                 |
| 制造效率                    | 设定资源的制造效率。1表示100％。0的情况下默认为1。                                                                                                                                                                                                                                                                                                               |                                                                 |
| 前设置时间效率              | 设定前设置花费时间的系数。1表示100％。设定0值当作1处理                                                                                                                                                                                                                                                                                                           |                                                                 |
| 后资源                      | 在某资源上进行工作时，限制其后面的工序进行的资源被称作后资源制约。                                                                                                                                                                                                                                                                                               | [例16后资源制约](#例16后资源制约)                               |
| 严格遵守后资源制约          | Yes 是：在后资源里设定的资源代码筛选候补资源 No 否：后资源里设定的资源只作为候补资源的部分成员，所以也可能分派在非后资源上                                                                                                                                                                                                                                       |                                                                 |
| 实绩输入标志                | M 必须：没有实绩的工作在计划开始以后会进行分派 N 非必项：指示完毕工作已过去，并且没有其它信息的情况下，视为遵守计划，即该工作已经完成                                                                                                                                                                                                                            | [例17实绩输入标志](#例17实绩输入标志)                           |
| 分割有效条件式              | 记录临时分派时的分割条件。多少小时以上中断进行分割，等等的指定。仅对主资源有效。                                                                                                                                                                                                                                                                                 | [例9工作分割](#_例9_工作分割)                                   |
| 制造任务贴近下一个任务      | 设定是否让制造任务贴近下一个分派任务。 Yes 是：后面的分派任务尽可能接近制造任务 No 否：后面的分派任务不接近制造任务                                                                                                                                                                                                                                              |                                                                 |
| 制造任务可开工日期          | 制造任务可以开始生产的日期。例：2021/10/10-2021/10/20。                                                                                                                                                                                                                                                                                                          | [例18制造任务可开工日期、时间段](#例18制造任务可开工日期时间段) |
| 制造任务可开工时间段        | 制造任务可以开始生产的时间段，可以采用与生产日历表的出勤模式的记述相同方法。例：8:00-12:00;14:00-18:00。                                                                                                                                                                                                                                                         |                                                                 |
| 炉有效条件                  | 设定可以使用炉资源进行加工的条件表达式。                                                                                                                                                                                                                                                                                                                         | [例11炉资源](#例11-炉资源)                                      |
| 分派有效条件                | 筛选可以分派在该资源的工作的条件表达式                                                                                                                                                                                                                                                                                                                           |                                                                 |
| 按资源量分派的任务          | 按资源量分派时候，要按资源量分派任务的任务模板(1:前设置，2:制造，3:后设置)。如果没有指定，就默认处理制造任务。                                                                                                                                                                                                                                                   |                                                                 |
| 跨其它工作分派              | No 否：在任务中断的期间内，不能分派其它工作的任务 Yes 是：在任务中断的期间内，可以分派其它工作的任务                                                                                                                                                                                                                                                             | 例19跨其它工作分派                                              |
| 保证工作的最后分派顺序      |  设定当分派事件对象时候是否保证制造订单工作的最后分派顺序，以及是否保证前后依赖设置时间。 No 否：进行工作的位置交换 Yes 是：不进行工作的位置交换。会重新计算设置时间。插入事件订单时会计算事件订单与制造订单的设置时间S 是（保证设置时间）：不进行工作的位置交换。此外不会改变上次分派时的前后设置时间。这样即使插入事件订单，前后工作间的设置时间也会得到保证。 |                                                                 |
| 资源制造批量MIN             | 设定工作的主产物输出数量的最小值。                                                                                                                                                                                                                                                                                                                               | [例9工作分割](#_例9_工作分割)                                   |
| 资源制造批量MAX             | 设定工作的主产物输出数量的最大值。工作的主产物输出数超过该值的情况下进行工作分割。                                                                                                                                                                                                                                                                               |                                                                 |
| 资源制造单位                | 订单工作或分割而生成工作的制造数量会成为该资源制造单位的整数倍。                                                                                                                                                                                                                                                                                                 |                                                                 |
| 分割工作中断时间MAX         | 分派到同一资源上同一订单的同一工序的分割工作间的中断时间设定。设置0或负值表示不能中断。                                                                                                                                                                                                                                                                          |                                                                 |
| 资源锁定禁止相同资源        | 否：当设定了依赖于父工作的资源锁定的时候，设定对于关联在同一个父工作付的多个工作允许分派在相同资源上。当在主数据中设定时，无视资源类的该设定。  是：当设定了依赖于父工作的资源锁定的时候，设定对于关联在同一个父工作付的多个工作不允许分派在相同资源上。当在主数据中设定时，无视资源类的该设定。                                                                 | 预留字段                                                        |
| 技能1                       | 技能1的值。可以应用于使用指令模板的资源有效条件表达式。                                                                                                                                                                                                                                                                                                          |                                                                 |

#### 5.3.5资源组别

资源组别主要维护资源信息。录入资源组信息，可以用于资源表对资源进行分组，更便于资源的管理。

![](media/d1ee992f55c9405f006d38fd9b8804de.png)

#### 5.3.6班次

班次表主要维护车间生产班次和班次的时间，这里的时间是指一天可用的生产时间，如下图，T2班次可用的生产时间为12小时。

![](media/9bf2b5c1721ed627b7cbbc385bab873c.png)

设定工作时间段。将时间与时间用-（横线）连接起来后即成为工作时间段。设定多个工作时间段时用分号将时间隔开。

[模式的设定与解释]

| 模式                               | 解释                                                                           |
|------------------------------------|--------------------------------------------------------------------------------|
| 8:00-12:00；13:00-19:00            | 8:00到12:00，13:00到19:00为可以安排工作的时间                                  |
| 8:00-10:00;10:15-12:15;13:00-17:00 | 从10:00开始休息了15分,从12:15开始休息了45分,用分号隔开可以设定多个休息时间段。 |

#### 5.3.7 日历设置

日历设置用于设定资源的班次，指定资源在哪天什么时间可以运作。

![](media/2f4f1072f7dc1d18f5db54873a175d4a.png)

日历设置字段说明：

| 字段名称  | 字段说明                                                                                                                                           |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 资源      | 生产日历设定的对象（资源）。如上面日历设定中资源设定了\*(星号)的情况时表示全部的资源代码。                                                         |
| 日期/星期 | 用于设定生产日历中设定对象的日期。不仅可以直接设定日期，也可以设定星期。用横线连接表示设定的范围。星期一和星期五用横线连接，表示从星期一到星期五。 |
| 班次      | 设定适用于资源和日期/星期的班次                                                                                                                    |
| 优先级    | 用于设定日历的顺序。优先级大的被优先采用。                                                                                                         |
| 资源量    | 日历中也可进行资源量的设定。设定了日历的资源量后，将适用其日历中设定的的资源量。                                                                   |

[日期/星期的设定与含义]

| **日期/星期**       | **解释**                                 |
|---------------------|------------------------------------------|
| 星期一              | 星期一                                   |
| 星期一-星期五       | 星期一到星期五。用横线连接起来表示范围。 |
| 2021/10/1           | 2021/10/1                                |
| 2021/10/1-2021/11/1 | 日期用横线连接起来也可以表示范围。       |

［日历设定例１］

| **资源** | **日期/星期** | **优先级** | **班次代码** |
|----------|---------------|------------|--------------|
| \*       | 星期一-星期五 | 1          | 白班         |
| \*       | 2021/11/1     | 10         | 休息         |

日历设定例１中，2021/11/1（星期一）和上面的星期一-星期五发生重复，优先级大的优先采用，则2021/11/1为“休息”。

［日历设定例2］

| **资源** | **日期/星期** | **优先级** | **班次代码** |
|----------|---------------|------------|--------------|
| \*       | 星期一-星期五 | 10         | 白班         |
| \*       | 2021/11/1     | 1          | 休息         |

日历设定例2中，2021/11/1（星期一）和上面的星期一-星期五发生重复、取优先级大的优先采用后则2021/11/1为白班。

[资源量设定例]

![](media/e1ab50acce24f5d75ea1ac8f33394d62.png)

![](media/f16626f2c450a728e854533b1ee5c1eb.png)

如上图，MJ资源量设置为2，其它资源设置1，则在资源甘特图可以看到MJ资源量显示为2，其它资源显示为1，也就是说MJ的能力翻倍。

#### 5.3.8 工序

工序表用于设定生产的工序信息，工序代码可以是可以是中文、数字、英文字母，也可以是英文加数字等。工序代码会被工艺产能表引用，且会在工艺产能表显示，所以建议工序代码采用中文，便于查看。

![](media/1ca2e628869a1470e01f7ea20f79354d.png)

#### 5.3.9工艺产能

工艺产能维护物料的制造工艺过程（工艺路线）的信息，是系统最核心的数据表。工艺路线描述生产产品的所需工序顺序， 对于每道工序还定义了所需的资源、物料和执行工序所需时间等。 您可以使用相同工艺路线生产多个产品，也可以为每个产品定义不同的工艺路线。 同一个产品甚至可以有多个工艺路线。排产时会使用工艺产能的信息进行计算。

![](media/9ebb9e9b5acf3162b0715c5d1a199b2a.png)

工艺产能字段含义：

| 字段名称                     | 字段说明                                                                                                                                | 使用说明                                                                                                                                                                                                  |
|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 物料代码                     | 要设置工艺产能的物料代码                                                                                                                |                                                                                                                                                                                                           |
| 工序编号                     | 可以输入任意编号，数据类型为整数；从最初的工序到最后的工序，数字由小到大进行设定。                                                      |                                                                                                                                                                                                           |
| 工序代码                     | 工序编号所对应的生产工序的代码                                                                                                          |                                                                                                                                                                                                           |
| 指令类别                     | 指令的类型，有输入指令和使用指令                                                                                                        | [例20指令类别](#例20指令类别)                                                                                                                                                                             |
| 指令代码                     | 输入指令代码：In、S 使用代码代码：M                                                                                                     |                                                                                                                                                                                                           |
| 物料or资源代码               | 对指令类别的设定，使用指令中设定资源代码，输入指令中设定物料代码                                                                        | 资源是用于制造该品目时必要的设备、作业员、模具、夹具等。使用指令的物料/资源字段是用于设定此工序中使用的资源。因此，制造某种品目时要用到多个资源组合、或有多个投入生产的资源等情况时需要设定多个使用指令。 |
| 前设置                       | 在使用指令行：设定前设置时间表达式。例：[10mp][20h][30](没有单位默认为m)。在输入/输出指令行：设定数量的输入和输出的比率。               | [例2制造、移动时间](#例24制造移动时间)                                                                                                                                                                    |
| 制造                         | 在使用指令行：设定制造时间表达式。例：[10mp][20h][30](没有单位默认为m)。 在输入/输出指令行：设定数量的输入和输出的比率。                |                                                                                                                                                                                                           |
| 后设置                       | 在使用指令行：设定后设置时间。例：[10mp][20h][30](没有单位默认为m)。 在输入/输出指令行：设定数量的输入和输出的比率。                    |                                                                                                                                                                                                           |
| 先行工序编号                 | 前一道工序的编号，用来表示前工序和当前工序的连接                                                                                        |                                                                                                                                                                                                           |
| 接续方法                     | 设定工序与工序之间的时间制约关系。有ES、EES、ESE、ESSSEE、SS、SSEE、SSEEE                                                               | [例25接续方法](#例25接续方法)                                                                                                                                                                             |
| 移动时间MIN                  | 设定工序间的时间制约最小值                                                                                                              | [例24制造、移动时间](#例24制造移动时间)                                                                                                                                                                   |
| 移动时间MAX                  | 设定工序间的时间制约最大值，仅在启用移动时间MAX的情况有效                                                                               |                                                                                                                                                                                                           |
| 报废数                       | 设定输入指令以及输出指令的废品数量                                                                                                      |                                                                                                                                                                                                           |
| 成品率                       | 设定输入指令以及输出指令物料的成品率。1表示100%。如果没有设定，就默认为1。                                                              |                                                                                                                                                                                                           |
| 资源优先度                   | 设定分派优先度，数值大的优先。与资源选择策略配合使用。                                                                                  |                                                                                                                                                                                                           |
| 指令有效条件                 | 根据有效条件表达式的设定，可以选择使用指令。                                                                                            | [例26工序有效条件式](#例26工序有效条件式)                                                                                                                                                                 |
| 工序有效条件式               | 设定使工序有效的条件                                                                                                                    |                                                                                                                                                                                                           |
| 制造效率                     | 设定输入指令以及输出指令物料的成品率。 1表示100%。如果没有设定，就默认为1。                                                             |                                                                                                                                                                                                           |
| 工作批量MIN                  | 设定工作批量的最小值。                                                                                                                  | [例9工作分割](#_例9_工作分割)                                                                                                                                                                             |
| 工作批量MAX                  | 设定工作批量的最大值。                                                                                                                  |                                                                                                                                                                                                           |
| 批量生产单位                 | 设定工作批量的最小单位。                                                                                                                |                                                                                                                                                                                                           |
| 资源有效条件式               | 设定使资源有效的条件                                                                                                                    |                                                                                                                                                                                                           |
| 前设置中断时间MAX            | 设置前设置期间因休息等原因，可中断的时间。设置0可以中断任意长度时间，设置负值，不能中断。而且，负值时，前设置任务和制造任务不会分开分派 | [例15中断时间](#例15中断时间)                                                                                                                                                                             |
| 制造时间中断MAX              | 设置工作因休息等原因，可中断的时间。 设置0可以中断任意长度时间。设置负值，不能中断。                                                    |                                                                                                                                                                                                           |
| 后设置中断时间MAX            | 设置后设置期间因休息等原因，可中断的时间。设置0可以中断任意长度时间，设置负值，不能中断。                                               |                                                                                                                                                                                                           |
| 前设置和制造之间中断时间MAX  | 设置可以分开分派前设置于制造任务的时间，设置0或负值表示不能中断。                                                                       |                                                                                                                                                                                                           |
| 后设置和制造之间中断时间MAX  | 设置可以分开分派后设置于制造任务的时间，设置0或负值表示不能中断。                                                                       |                                                                                                                                                                                                           |
| 有效期间开始日期             | 使用指令的有效期间开始日期。                                                                                                            |                                                                                                                                                                                                           |
| 有效期间结束日期             | 使用指令的有效期间结束日期。                                                                                                            |                                                                                                                                                                                                           |
| 必要资源量                   | 设置分派时的必要资源量。                                                                                                                | [例27必要资源量、任务资源量](#例27必要资源量任务资源量)                                                                                                                                                   |
| 前设置任务资源量             | 用表达式设定前设置的必要资源量。例 [ME.OperationOutMainItemQty\*0.5]                                                                    |                                                                                                                                                                                                           |
| 制造任务资源量               | 用表达式设置制造的必要资源量。                                                                                                          |                                                                                                                                                                                                           |
| 后设置任务资源量             | 用表达式设定后设置的必要资源量。                                                                                                        |                                                                                                                                                                                                           |
| 资源锁定任务资源量           | 用表达式设置资源锁定的必要资源量。                                                                                                      |                                                                                                                                                                                                           |
| 制造数量计算表达式\|输入指令 | 从工作输入指令数量算出工作制造数量的计算表达式。ME为工作输入指令。                                                                      |                                                                                                                                                                                                           |
| 输入数量计算表达式           | 从工作制造数量算出工作输入指令数量的计算表达式。ME为工作输入指令。                                                                      |                                                                                                                                                                                                           |
| 制造数量计算表达式\|输出指令 | 从工作输出指令数量算出工作制造数量的计算表达式。ME为工作输出指令。                                                                      |                                                                                                                                                                                                           |
| 输出数量计算表达式           | 从工作制造数量算出工作输出指令数量的计算表达式。ME为工作输出指令。                                                                      |                                                                                                                                                                                                           |
| 工序选定器代码               | 工序选定器的代码。                                                                                                                      |                                                                                                                                                                                                           |
| 工序选定器条件表达式         | 判断在订单展开时使用哪个工序。                                                                                                          |  [例23工序选定器](#例23工序选定器)                                                                                                                                                                        |
| 任务选定器代码               | 任务选定器的代码。                                                                                                                      |                                                                                                                                                                                                           |
| 任务选定器条件表达式         | 判断在分派任务时使用哪个任务。                                                                                                          |  [例22任务选定器](#例22任务选定器)                                                                                                                                                                        |
| 订单展开标志预留             | 预留字段                                                                                                                                |                                                                                                                                                                                                           |
| 数据交换标志                 | 预留字段                                                                                                                                |                                                                                                                                                                                                           |

### 5.4 排产切换设置

#### 5.4.1 生产特征切换

生产特征切换可以设定当物料的生产特征不相同时，生产需要的切换时间，或则当生产特征相同时，不需要切换时间。

**例：**

录入生产特征

![](media/b26195092a81798db0d6ed2a765cb543.png)

录入生产特征切换

![](media/ab62e93f0670554fd205f42fc598abef.png)

录入制造订单生产特征

![](media/235c7181c0d42ab9622131150ab17bee.png)

排产结果：

开料产品A到产品A、产品B到B，因为生产特征相同，所以没有切换时间；

开料产品B到产品A，因为没有设置材质B到材质A的切换时间，所以由产品B切换到产品A没有切换时间；

开料产品A到产品B、产品B到产品C，因为设置了生产特征材质切换。所以有120分钟的切换时间。

![](media/463f14285fa3332cd910bc66348661a6.png)

#### 5.4.2 资源切换

资源切换设定需要在前后工作中更换副资源情况下的设置时间。

**例：**

在折弯工序里产品C的制造由主资源的折弯机\#1和由副资源的MJ、MA的1台的组合来制造。

[工艺产能]

![](media/e33325352aced3a31c5308b2b00b3321.png)

[资源切换]

![](media/d1d2ab8f12e14ac599459cb95a5ac5ba.png)

[制造订单]

![](media/b1a691c37ab37aaddcf270b49d9f38f8.png)

排程结果：

![](media/07ac1947827a42ac91f48d6052cad2ab.png)

#### 5.4.3 物料切换

设定资源在生产不同物料要切换的时间的设置时间。

**例：**

[物料切换]

前物料代码不等于后物料代码的切换时间为120分钟。

![](media/8928cdde456f6383bdf928abb815b1fc.png)

排产结果：

![](media/5e1528c1e3170b0168d0a37dab081180.png)

### 5.5 排产计划数据

#### 5.5.1销售订单

录入销售订单数据，销售订单，即客户的购买订单，基本上销售订单本身不分派工作，而与制造订单，库存进行关联。订单的物料中有自动补充标志的时候，可以对订单进行自动补充。

![](media/7542cc9856d8c8d7ca82b8ccb24fe43f.png)

销售订单的字段与制造订单的字段基本一致。

| 字段名称       | 字段说明                   |
|----------------|----------------------------|
| 订单代码       | 销售订单代码               |
| 订单区分       | 区分是补充订单还是录入订单 |
| 物料代码       | 所销售产品代码             |
| 订货时间       | 销售订单的订货时间         |
| 最早开始时间   | 订单分派的最早开始时间     |
| 交货期         | 订单的交货期               |
| 计划数量       | 订单的订货数量             |
| 优先度         | 订单的优先度               |
| 非分派对象标志 | 设定订单是否参与分派       |

#### 5.5.2制造订单

制造订单用于维护生产工单信息，指有哪些订单需要生产。

![](media/f86092a9359dd4a043fb62353fe65e25.png)

制造订单字段含义：

| 字段名称                 | 字段说明                                                                                                                      | 使用说明                                       |
|--------------------------|-------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
| 订单代码                 | 订单的编码，不能重复                                                                                                          |                                                |
| 订单区分                 | 区分是自动补充订单还是录入订单                                                                                                |                                                |
| 物料代码                 | 订单的物料                                                                                                                    |                                                |
| BSAE物料代码             | 指定订单展开时使用的物料工艺产能。如果设定了BASE物料代码，则使用BASE物料代码展开订单，最终工序输出订单物料。                  | [例3BASE物料代码](#例3-base物料代码)           |
| 订货时间                 | 在排程逻辑里不参考它，但是表达式可以调用它。                                                                                  |                                                |
| 最早开始时间             | 设定排产最早可以开始的时间。                                                                                                  |                                                |
| 交货期                   | 订单的交货期                                                                                                                  |                                                |
| 计划数量                 | 订单的数量                                                                                                                    |                                                |
| 优先度                   | 设定优先度。在分派规则可设置按订单优先度分派。                                                                                | 例32[分派方向](#_例29分派方向)                 |
| 客户                     | 订单客户                                                                                                                      |                                                |
| 显示颜色                 | 在图表中显示订单颜色时的颜色编号。 用0～32设定。0的情况下自动决定颜色。                                                       |                                                |
| 显示顺序                 | 在图表中显示订单顺序时的顺序编号。                                                                                            |                                                |
| 分派方向                 | 设定订单分派方向。 F 正方向 ：将订单正向分派。  B 逆方向 ：将订单逆向分派。  P 遵从优先度 ：将订单按照优先度的分派方向分派。  |                                                |
| 非分派对象标志           | 设定订单是否参与分派。 0 否 该订单为分派对象。  1 是 该订单为分派对象以外的。                                                 |                                                |
| 制造效率                 | 设定订单的制造效率。 1表示100％，0的情况下默认为1。                                                                           |                                                |
| 一对一关联指定料号       | 对于已指定的料号，1对1的关系自动生成订单，并进行关联。设定为[\*]时，对所有品目自动生成订单。                                  | [例281对1关联指定料号](#例28-1对1关联指定料号) |
| 后订单                   | 可以指定前后工序的制造订单或工作，并为其生成关联对象来考虑时间制约。关联对象会连接到制造任务上。                              | 例26后订单                                     |
| 订单状态                 | X 未指定：该订单的实绩未指定。 T 开始生产：该订单已经开始生产。 B 结束：该订单结束                                            |                                                |
| 生产特征1                | 订单物料的生产特征1                                                                                                           | [例2生产特征、数值特征](#例2-生产特征数值特征) |
| 数值特征1                | 订单物料的数值特征1                                                                                                           |                                                |
| 开始时间                 | 订单开始生产的时间                                                                                                            |                                                |
| 结束时间                 | 订单生产结束的时间                                                                                                            |                                                |
| 实绩开始时间             | 实绩开始时间                                                                                                                  |                                                |
| 实绩结束时间             | 实绩结束时间                                                                                                                  |                                                |
| 实绩取得时间             | 实绩取得时间                                                                                                                  |                                                |
| 实绩数量                 | 取得的实绩数量                                                                                                                |                                                |
| 自动补充标志             | 预留字段                                                                                                                      |                                                |
| 用户指定订单数量固定级别 | 直接指定该订单的数量固定级别时使用                                                                                            | 例30数量固定级别                               |
| 订单种类                 | 显示订单的种类，默认为制造                                                                                                    |                                                |

#### 5.5.3 盘点库存

录入盘点库存数据作为供应数据。注意录入的盘点库存时点不能大于计划基准时间，同一个物料只能录入一行盘点库存。

![](media/eac1d0bd6fd8130838c4d27f26adcbe1.png)

| 字段名称     | 字段说明                               |
|--------------|----------------------------------------|
| 物料代码     | 物料的代码，具有唯一性                 |
| 订单代码     | 自动输入物料的代码作为订单代码         |
| 盘点库存时点 | 盘点库存时的时间，不能大于计划基准时间 |
| 库存数量     | 盘点的库存数量                         |

#### 5.5.4 计划外出入库

录入计划外出入库数据，如果录入正数是作为供应数据，如果录入负数是出库作为需求。

![](media/fabf725e65076cc7acb9cd6583c46319.png)

| 字段名称 | 字段说明                                                                       |
|----------|--------------------------------------------------------------------------------|
| 订单代码 | 计划外出入库的订单代码。                                                       |
| 物料代码 | 物料的代码。                                                                   |
| 交货期   | 物料外出入库的日期。                                                           |
| 计划数量 | 计划出入库的数量，如果录入正数是入库作为供应数据，如果录入负数是出库作为需求。 |

#### 5.5.5 工作

主菜单导航栏中单击[排产计划数据]-〉[工作]，打开工作明细表，本表是显示排产工作结果的一张表，记录订单对应的工作分派结果，工作是订单根据工艺路线展开每道工序形成的工作。

![](media/441db1e556234e5bb3d8f83fd3f49c60.png)

| 字段名称       | 字段说明                                                            |
|----------------|---------------------------------------------------------------------|
| 工作           | 根据订单代码和工艺产能的工序编号生成的工作代码。                    |
| 订单           | 显示工作来源的订单代码。                                            |
| 物料代码       | 显示工作制造的物料代码。                                            |
| 制造数量       | 显示工作的制造数量。                                                |
| 主资源         | 工作使用的主资源，取工艺产能所设定的主资源。                        |
| 制造开始时间   | 由分派结果得出工作开始制造的时间。                                  |
| 制造结束时间   | 由分派结果得出工作制造结束的时间。                                  |
| 制造时间       | 根据订单数量和主资源制造能力计算出的工作制造时间。                  |
| 前设置开始时间 | 该工作前设置开始的时间。                                            |
| 前设置结束时间 | 该工作前设置结束的时间。                                            |
| 前设置时间     | 前设置需要花费的时间，取工艺产能中前设置的值。                      |
| 后设置开始时间 | 该工作后设置开始的时间。                                            |
| 后设置结束时间 | 该工作后设置结束的时间。                                            |
| 后设置时间     | 后设置需要花费的时间，取工艺产能中后设置的值。                      |
| 交货提前期     | 交货提前期=工作结束时刻-工作开始时刻。                              |
| 开始时刻       | 有前设置时，为前设置的开始时间；无前设置时，为制造开始时间。        |
| 结束时刻       | 有后设置时，为后设置的结束时间；无后设置时，为制造结束时间。        |
| 分派标志       | 表示是否分派。                                                      |
| 分派方向       | 表示工作的分派方向。                                                |
| 任务or工作状态 | 表示工作的状态，有计划完毕、指示完毕、确定、开始生产、结束5种状态。 |
| 实绩数量       | 取生产报工录入的报工数量。                                          |
| 工序模板       | 取工艺产能的工序代码。代表工作展开所采用的工艺模板。                |
| 选定器         | 取工艺产能的任务选定器代码。代表工作所使用的任务选定器。            |
| 工序编号       | 取工艺产能的工序编号。                                              |
| 最后分派顺序   | 该工作最后的分派顺序。                                              |

#### 5.5.6 工作任务明细

主菜单导航栏中单击[排产计划数据]→[工作任务明细]，打开工作任务明细表；工作根据工艺路线设置可再细分为前设置任务、制造任务、后设置任务，资源锁定任务，工作任务明细是把工作拆解为多个任务进行详细显示。

![](media/a2085f7bc9b29d5ba5ce7aa0ada28a27.png)

| 字段名称 | 字段说明                                                                                                                                         |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------|
| 资源代码 | 系统根据工艺产能表维护的使用指令资源设定及资源选择策略分派的资源，代表工作任务所使用的资源。                                                     |
| 订单代码 | 工作任务来源的订单代码。                                                                                                                         |
| 工作代码 | 订单根据工艺路线展开的工作代码。                                                                                                                 |
| 任务类别 | 任务的类别，工作可以拆分为前设置任务、制造任务、后设置任务、资源锁定任务；另外还有配送任务、库存任务。                                           |
| 开始时间 | 任务的开始时间。                                                                                                                                 |
| 结束时间 | 任务的结束时间。                                                                                                                                 |
| 总工时   | 任务花费的总时间，单位为秒。前设置任务、后设置任务分别取工艺产能维护的前设置时间、后设置时间；制造任务根据订单数量和工艺产能维护的制造能力计算。 |
| 资源量   | 系统根据工艺产能表维护的必要资源量或者任务资源量解析的，代表这个任务分派时占用的资源量。                                                         |
| 数量     | 任务制造的数量。根据订单数量和工艺产能维护的输入指令的物料需求数量计算。                                                                         |

#### 5.5.7 物料需求明细

主菜单导航栏中单击[排产计划数据]-〉[物料需求明细]，打开物料需求明细表，物料需求明细是根据工作任务明细计算出对于每个任务的物料需求。

![](media/2920e1e3fb3c774d73d95070013b08ef.png)

| 字段名称         | 字段说明                               |
|------------------|----------------------------------------|
| 料号代码         | 所需的物料代码。                       |
| 订单代码         | 需要该物料的订单代码                   |
| 工作代码         | 需要该物料的工作代码。                 |
| 订单or工作or任务 | 需求类别。有制造、配送任务、库存任务。 |
| 时间             | 物料的需求时间。                       |
| 数量             | 物料的需求数量。                       |
| 不足数量         | 需求数量-库存数量所得的欠料数量。      |

#### 5.5.8 订单关联明细

订单关联明细显示的是订单供需之间的关联关系，关联种类有订单之间关联、同一订单关联、后订单。订单之间关联是指不同订单的工作间物料及数量的关联对象；同一订单关联是指同一订单内的工作间物料及数量的关联对象。后订单关联是由制造订单维护的后订单属性形成的。

![](media/a05a3ba3c1a09c0c9a8cbd885324592e.png)

| 字段名称   | 字段说明                                               |
|------------|--------------------------------------------------------|
| 代码       | 发生关联的物料代码。                                   |
| 关联种类   | 订单关联的种类。有订单关联、订单之前关联、后订单关联。 |
| 数量       | 订单关联的数量。                                       |
| 左订单代码 | 供应方的订单代码。                                     |
| 右订单代码 | 需求方的订单代码。                                     |
| 左工作代码 | 供应方的工作代码。                                     |
| 右工作代码 | 需求方的工作代码。                                     |

#### 5.5.9 工作指示发布

发布已确定的工作，给车间下发计划。

![](media/5cb21d307752c13dc40c9f6bbd24d26d.png)

1.  录入要发布工作的时间周期，
2.  勾选要发布工作的资源，
3.  查找符合条件的工作，
4.  发布工作指示，发布的工作为右边工作指示一栏的工作。

#### 5.5.10 工作指示一览

已成功发布的工作信息在工作指示一览表中查看。

![](media/611c44bf6b68930dffd9127d0cbd419b.png)

-   删除已发布的工作：
1.  勾选要删除的工作，
2.  点击删除选中行，在弹出的询问框确定是否删除。

![](media/e178f5e67abbd4a2c3a96117950e36ac.png)

![](media/6fb6b47295866b0784babdd827d14142.png)

### 5.6 排产生产报工

#### 5.6.1 生产报工录入

车间按照生产指示生产，完成的实绩可以直接录入到EasyAPS中。不同的用户只能录入资源分配中有权限的资源的工作。

主菜单导航栏中单击[排产生产报工]-〉[生产报工录入]，打开生产报工录入画面。

-   生产报工新增：
1.  点击新增按钮，
2.  选择工作编号，
3.  选择工作状，完工是指该工作已全部生产完成；运行中是指该工作已完成一部分，还有一部分正在生产。

    ![](media/2af5250f1c7afdc28414a29969ac9d0a.png)

4.  输入报工数量，如果有报废品可输入异常数量.异常数量仅做一个记录，不影响排产。
5.  确认报工信息无误，点击提交，完成生产报工。

![](media/1db3dc32525b9ec3ee089d824ac62e34.png)

-   生产报工查询：
1.  选择查询条件，有报工日期、工作编号、资源编码、物料代码、报工数量、报工用户。
2.  点击查询按钮，查询出的报工信息在界面下边显示。

![](media/03408305b50c8ee7b5f00e53c692e1d2.png)

-   生产报工修改：如果生产报工有异常，需要对录入的生产实绩进行修改，可以点击修改按钮进行修改，确认修改的信息后点击提交。

![](media/22a8d54e264cfa80d26d574890254471.png)

-   生产报工删除：
1.  点击要删除的报工信息，
2.  点击删除按钮
3.  确认是否删除，点击“是”则删除该报工数据。

![](media/0df285afc9c6a801549480f8e3b2d73e.png)

-   生产报工详情：点击详情按钮弹出生产报工详情窗口，方便查看。

![](media/f542cf6e8fb6d74e1acaca53098d40af.png)

### 5.7 报表中心

#### 5.7.1生产日计划

生产日计划是一个样例报表，根据多工序排产结果解析到天的日报表，可以查看每天的具体工作计划。

1.  输入要查询的时间段。
2.  只筛选已发指示的数据：勾线此选此选项则只查找已发布工作指示的工作；

    着重显示：勾选此选项则日计划数量表格会填充黄色。

3.  按条件查找日计划。
4.  查看结果后如果需要导出，可以点击Excel导出。

![](media/7bc401455a90223a7e37e1b1c60ffcdc.png)

### 5.8 计划控制塔

此模块主要是排产和工作进度的分析和提醒功能。

#### 5.8.1 KPI分析

根据系统管理的[KPI设置](#KPI设置)显示统计结果，使用户可以通过查看图表快速知道生产的达成率。

![](media/ec271aa0e066344173c488a1e12e643e.png)

![](media/cca3e0def89639751a92e857cd45a938.png)

#### 5.8.2 关键事件

根据系统管理设置的[任务提醒](#任务提醒)参数展示提醒信息。方便用户知道当日要生产的订单或延期订单等信息。点击消息可查看任务明细，任务明细可以导出Excel。

![](media/77e40551df21954ea2bc2374892002b0.png)

#### 5.8.3 生产进度

生产进度可以查看每个工作的生产进度，方便用户查看每个工作的完成进度。

![](media/e1f66a5cf452ce75dcec9686777e2745.png)

#### 5.8.4 订单进度

订单进度可以查看每个订单的生产进度，方便用户了解订单生产情况。

![](media/fcf517c55c0aaaabda191b272f0ee2fa.png)

### 5.9系统管理

此模块是排产易软件对全局的设置参数。

#### 5.9.1 排产方案管理

在排产方案管理可以新增排产方案，并设置排产方案参数。

新建排产方案

1．点击【新建方案】在弹出的画面新建方案名称。

![](media/96f8724d7499d4f1f4b0ad4fa47a2a6e.png)

2．增加排产方案菜单

①点击排产方案库；②点击要增加的方案名；③点击【+】添加。

![](media/c64554dd51f1bd109395beac175136df.png)

3．增加排产方案内部命令

1.  点击要增加命令的方案；②点击要增加的排产命令；③点击【+】添加。

![](media/8483cf90df0d0cd0acd7df6012800c24.png)

1.  调整方案
    1.  点击排产方案或排产命令，然后再点击![](media/b935ed91091cf6eb7897c08593c3183b.png)，可以删除排产方案菜单或则排产命令。
    2.  点击排产方案或排产命令，然后再点击![](media/889570c44f71461b33e287a7dff9637f.png)，可以把排产方案菜单或排产命令的顺序往上调；点击![](media/790f5738d16af7dc87207b34f2dd3d4d.png)，可以把排产方案菜单或排产命令的顺序往下调。

        ![](media/f4677caffa39d2f41bed9be4cfb422f2.png)

2.  保存方案设置

    确定方案后，可以点击保存设置保存排产方案。

![](media/598f202b6967ce37f1eaf7342e1c31a4.png)

1.  编辑排产方案参数

属性设置说明

| **分派属性**                   |                                                                                                                                                                                                                                                                     |
|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 按分派规则顺序排列             | 设置在各资源上的分派位置是否绝对按照分派规则。                                                                                                                                                                                                                      |
| 分割工作靠拢在一起             | 设定分割工作是否靠拢在一起，为了使某些分割的工作按照特定的分派规则重新进行分派，分割工作靠拢在一起可以设置为“否”。                                                                                                                                                  |
| 分派方法                       | 设定分派方法，有限能力分派还是无限能力分派。                                                                                                                                                                                                                        |
| 分派方向                       | 设定分派的方向，具体说明请查看[例32分派方向](#_例32分派方向)。                                                                                                                                                                                                      |
| 分派规则                       | 设定在排产时决定订单分派顺序的规则。                                                                                                                                                                                                                                |
| 分派失败时（资源锁定制约）     |  当未能满足资源锁定时候的应对方法。如果没有设置，就认为期间外强制分派。 期间外强制分派：把资源锁定制约相关的所有工作全部强制分派期间外。 忽视制约:忽视资源锁定制约而把最初试图分派的工作单独分派。 虚拟资源:把相互制约的所有工作分派在虚拟资源上。                  |
| 分派失败时（最大移动时间制约） |  当未能满足最大移动时间制约时候的应对方法。如果没有设置，就认为期间外强制分派。  期间外强制分派：把最大移动时间制约相关的所有工作全部强制分派期间外。 忽视制约:忽视最大移动时间制约而把最初试图分派的工作单独分派。 虚拟资源:把相互制约的所有工作分派在虚拟资源上。 |
| 分派停止条件式                 | 设定排程过程中想要中途停止分派时的条件式。                                                                                                                                                                                                                          |
| 分派资源                       |  分派评估值中最大资源。 评估值最大资源：分派评估值中最大资源。 优先资源：只分派资源优先度最高的资源。 当前资源：分派当前资源。首次分派的子工作会把分割前的工作分派的资源作为当前资源。工作未被分割时的情况和选择【出现顺序】时相同。 出现顺序：分派最先出现的资源。 |
| 更新关联/补充订单              | 设定通过订单展开命令是否进行关联，是否生成自动补充订单。                                                                                                                                                                                                            |
| 工作临时固定                   | 设定再排程时的临时固定工作方法。（[工作临时固定](#工作临时固定)）                                                                                                                                                                                                   |
| 忽视未分派的前后工序的工作     |  如果设定为[是]，就算关联的前后工序的工作未分派也会对其进行分派 否：分派时，等待关联的前后工作被分派。正向的时候等待前工序，逆向的时候等待后工序。 是：分派时，不等待关联的前后工作被分派。正向的时候忽视前工序，逆向的时候忽视后工序。                             |
| 起用原料库存制约               | 设定是否起用原料制约，如果起用，则物料表的[物料制约标志]需设定为“是”，原料不足的工作将分派虚拟资源。                                                                                                                                                                |
| 筛选订单                       | 设定订单的筛选条件。                                                                                                                                                                                                                                                |
| 筛选工作                       | 设定工作的筛选条件。                                                                                                                                                                                                                                                |
| 适用组合设置时间的设定         | 设定是否采用生产特征切换、物料切换表的设置。默认值为[是]。                                                                                                                                                                                                          |
| 锁定订单间关联                 | 设置是否锁定销售订单和制造订单之间的关联关系。                                                                                                                                                                                                                      |
| 严格遵守后资源制约             | 设定是否启用后资源制约，在某资源上进行工作时，限制其后面的工序进行的资源被称作后资源制约。（[后资源制约](#例16后资源制约)）                                                                                                                                         |
| 越过分派开始时刻时             | 逆向排序时越过工作分派开始时刻的过去方向分派的处理方法。                                                                                                                                                                                                            |
| 越过分派结束时刻时             | 正向排序时越过工作分派结束时刻的未来方向分派的处理方法。                                                                                                                                                                                                            |
| 越过最迟开始时刻时             | 逆向排序时越过工作最早开始时刻的过去方向分派的处理方法。                                                                                                                                                                                                            |
| 越过最早结束时刻时             | 正向排序时越过工作最迟结束时刻的未来方向分派的处理方法                                                                                                                                                                                                              |
| 允许工作分割                   | 设定展开订单/工作分割时是否进行工作分割。默认为[是]。                                                                                                                                                                                                               |
| 制造时间计算                   |  设定制造时间的计算方法。 基于主资源：基于主资源的能力值 最长时间的资源：主资源和全部的副资源的能力值中，基于制造时间最长(最低能力值)的能力值。 最长时间的副资源：全部副资源的能力值中基于制造时间最长(能力值最低)的能力值。                                        |
| 制造效率                       | 设定制造效率。1为100％。0的情况时默认为1                                                                                                                                                                                                                            |
| 资源选择策略                   | 设定在分派时资源的选择规则。（[资源选择策略](#6325资源选择策略)）                                                                                                                                                                                                   |
| **时间属性**                   |                                                                                                                                                                                                                                                                     |
| 分派开始时间                   | 设定分派期间的开始时间。                                                                                                                                                                                                                                            |
| 分派结束时间                   | 设定分派期间的结束时间。                                                                                                                                                                                                                                            |
| 用户指定最早开始时刻           | 指定工作分派最早开始时刻。                                                                                                                                                                                                                                          |
| 用户指定最迟结束时刻           | 指定工作分派最迟结束时刻                                                                                                                                                                                                                                            |

①点击要编辑的方案菜单；②点击属性设置，在弹出的界面编辑参数。

![](media/9100ff7b123339a499ea47c65f5c4240.png)

参数有的是下拉选框，选择后确定即可。

有些是要配置选择的。例如分派规则，要点击【…】后进入编辑画面编辑。

![](media/3a61ad5dceace45b28b044560c256ad1.png)

如下图，点击![](media/b3a78013e1ddc77e3c310089e35a5c94.png)可以新增自定义的分派规则。

![](media/fe9362b086f77d0d2ed7be43ca8d2e5f.png)

如下图，点击![](media/7757fa6c96d11050c243b7c961e39aa8.png)可以编辑分派规则。

![](media/c685531912a0068e2278726e1546e205.png)

资源选择策略设置：

点击【…】进入资源策略设置画面

1.  点击![](media/dd913b862caade75353319a9b953b598.png)；②设置策略名称；③选择策略对象（资源）；④确定；
2.  点击右边的![](media/dd913b862caade75353319a9b953b598.png)；⑥选择评估评估方案；⑦点击保存，完成资源选择策略的新增。

另外，点击![](media/f68126645f207167247e68eda1cccddc.png)可以新增自定义评估方案，点击![](media/b54f1efd508f6b5a562336bc33786b42.png)可以修改自定义评估方案。

![](media/427619ad1774908d4f2538e0b3d3db49.png)

![](media/f3cf5a2a3cfc5098bec4443de8a53ae5.png)

注：参数设置完毕后，记得点击【保存设置】保存方案

运用排产方案

新增的排产方案可以在排产引擎看到，可以使用该排产方案进行排产。

![](media/7f94b3604b558d55051d99a3078b621c.png)

内部命令说明

订单收集：收集所有订单（包括制造、销售、库存）的数据。

订单筛选：根据订单筛选条件对收集的订单进行筛选。

解除分派：将已排产分派的订单数据进行解除分派操作，方便重新展开工作和任务数据。

订单展开：将制造订单根据工艺产能表的工艺流程展开成工作。

分派实绩工作：分派已经存在实绩（完工回报）的工作。

分派固定工作：分派工作状态为固定的工作。

分派实绩制约工作：分派与实绩工作存在制约的相关工作。

分派固定制约工作：分派与固定工作存在制约的相关工作。

订单分派/关联：进行游离的工作的分派、关联。

分派调整：调整被分派工作的一部分分派。

工作收集：收集订单展开的工作。

工作筛选：筛选收集到的工作。

计划评估：评估排程结果。

删除数据：能够删除条件指定的。如下图，点击删除数命令，然后点击属性设置可以设置删除条件。

![](media/b63ba5e11d88da77cc01662e00235b4a.png)

属性编辑：设定编辑订单、工作、资源、物料的属性的表达式。如下图，点击属性编辑命令，然后点击属性编辑可以设置。

![](media/09ec82fef81b89e385b31b9edd82d661.png)

执行存储过程：调用数据库的存储过程。点击执行存储过程命令，然后点击属性编辑，在弹出界面设置存储参数。

![](media/a7bba272a4127f799801807d6e5c9498.png)

#### 5.9.2 环境设置

此功能主要设置排产引擎的一些参数，这些数据默认带到引擎里面。

![](media/163b080fd3e8e00335c9222619991d2e.png)

**操作步骤：**

1.  打开环境设置
2.  点击全体或期间
3.  设置参数
4.  保存

**参数说明：**

**全体设置**

是否弹出保存备份询问对话框：勾选此参数排产引擎保存时会弹出“是否需要保存备份”对话框。

备份文件最大数：备份引擎文件的最大数量。

是否独占排产引擎：如果勾选，当打开排产引擎时，APS其它模块的操作被冻结。

是否产生时序：保存计划排产结果时，是否把各资源的排产时序保存到数据库，此功能会产生产量的排产时序数据，对排产速度和数据交互的速度有较大影响，非必要不启用。

**期间设置**

计划基准日期：a.固定日期：录入固定的的排产引擎基准时间。

b.系统载入日期：默认当前系统的日期作为计划基准日期。

工作日的起始时间：设置在甘特图一天的起始时间。

![](media/ed217a55e17bda09c183dd68d77dc109.png)

设置的时间会被引用到排产引擎的环境设置-期间设置：计划基准时间和日境界时刻。

![](media/2e4264b0a977c61502e7de855b6e283e.png)

#### 5.9.3 KPI设置

此功能可以以图形化形式自定义统计各种与订单、生产进度和资源分布等信息，使管理者在进入系统时第一时间掌握这些信息。在配置这些统计KPI时需要掌握基础的SQL语言编写能力。

打开[系统管理]→[KPI设置]功能。

**画面和元素说明：**

分类：各KPI的分类名称，比如车间层面、订单层面，便于在KPI显示模块中分类集中显示，可自行设定。

名称：KPI的名称，唯一值。

类型：KPI图型样式（饼状图，柱状图、曲线图、表格）。

说明：备注。

宽度：在我的门户中图表的宽度（单位：像素），可自行调整合适屏幕的大小。

高度：在我的门户中图表的高度（单位：像素），可自行调整合适屏幕的大小。

是否启用：系统启动时是否自动刷新此KPI,并显示在”KPI分析”和”我的门户”中。

移动端显示：预留给移动端显示使用。

是否在门户显示：是否显示在“我的门户”页面中。

所有者：可以查看此KPI的用户。

属性：KPI数据源设置。

![](media/9d33625fb37a52863c2457cb699d7dac.png)

1.  饼状图设置

    如下图：点击新建按钮，设定分类、名称、类型、等基本信息。

    ![](media/286485d4702b5b5151ec3485d9c8780a.png)

点击[属性…]按钮进行KPI数据源设置

![](media/b4bdbb75c3a367ee39794d04372e1cac.png)

最终显示结果：

![](media/e05df296602cc1ce5d81dcf333f7848f.png)

1.  柱状图

    如下图：点击新建按钮，设定分类、名称、类型、等基本信息。

    ![](media/2bd7899e3133b459d207bf5aea8ab6cb.png)

点击[属性…]按钮进行KPI数据源设置

![](media/7064f8114561031e97f7a892dd3ced62.png)

最终显示结果：

![](media/83dd84451e4de4c1811868a5985f5d7b.png)

1.  表格设置

如下图：点击新建按钮，设定分类、名称、类型、等基本信息。

![](media/9a848a08da3fd57f87c21b7b2f7e7924.png)

点击[属性…]按钮进行KPI数据源设置

![](media/05125221c883c49b75a1c090485ad15e.png)

最终显示结果：

![](media/66ca41b05090f2159eb4b1ae494674a9.png)

#### 5.9.4 窗体属性设置

此功能用于配置排产易系统基础及业务数据的维护画面或查询界面，如基础表追加字段，字段的数据源发生变化，及字段的数据源的取数方式变化采用此功能配置即可，无需修改程序代码。

如下图，此功能的画面主要分为三部分：

左侧显示已追加的所有数据表。

右上显示当前主信息表格的主要内容 。

右下显示当前基础表（字段）设定的明细信息 。

注：SQL语句字段区分大小写，请确保和数据库中定义的一致。

![](media/3b7ecce2ecf7e90fa163fa3b254d78bc.png)

**各项目具体说明:**

**1.主信息**：

1）【数据表名】：当前数据表的表名，在修改状态下只读。

2）【窗体标题栏】:用于指定当前功能画面打开时，显示在标签页上的标题。

3）【菜单组名】：

4）【自动追加到菜单中】：勾选，此表自动添加到所在菜单模块。

5）【是否只读】：设置表格数据能否进行编辑，因有些数据由系统产生，只是查询，不能编辑。

6）【具备审核功能】：

7）【启动时加载数据】：勾选，数据表启动时加载数据。

8）【SQL语句】：用于设定在浏览时，显示数据时用到的 SQL 语句。

注意:

① 如果 一个表有 10 个字段，此语句中只包含有 6 个字段，则在画面显示表格中只会显示 6 个字段。

② 如果一个字段没有出现在此 SQL 语句中，但在明细设定画面中的 【包含在 Insert 语句中】或【包含在 update 语句中】打上了√，则系统会提示不能保存。因为在画面中显示的字段由此 SQL 语句中的字段决定。

9）【备注】：备注。

**2 明细信息:**

1.  【字段名称】：数据表的的字段名称，用户不能修改。
2.  【数据类型】：字段的数据类型，用户不能修改。
3.  【字段长度】：字段的长度，用户不能修改。
4.  【缺省值】：字段的缺省值，用户不能修改。
5.  【最小值】：设定当处于编辑状态时，该字段的最小值，此设定为保留功能，设定后也不会在系统中生效。
6.  【最大值】：设定当处于编辑状态时，该字段的最大值，此设定为保留功能，设定后也不会在系统中生效。
7.  【表格头显示】：在表格维护画面中，表格头中显示的每个字段的名称，如数据表格 字段名称为 Code，在维护画面显示为“资源代码“，如图：

    ![](media/b2c1a586caff7f42384186d06f225f13.png)

8.  【下拉框过滤条件】：字段输入方式为下拉框，该下拉框的过滤条件。
9.  【编辑器】：设定当前字段进行编辑时，绑定到当前字段的编辑器。

    下拉多选输入框:字段为需要下拉选择，并且是多选的，可以选择此编辑器。

    下拉选择输入框：字段为需要下拉选择，并且是单选的，可以选择此编辑器。

    颜色选择框：字段为颜色选择，选择此编辑器。

    日期输入框：字段类型为日期时间型，选择此编辑器。

    表达式对话框：字段内容为表达式，可以选择此编辑器。

    弹出式多选编辑窗体：如果字段需要参考其他基础资料，并且可以选择多笔，可以选择此编辑器。

    弹出式单选编辑窗体：如果字段需要参考其他基础资料，并且是单项选择，可以选择此编辑器。

    如下为应用的画面，选择了此 编辑器，如要使配置生效，还需要对其他两个项目进行设置，“输入框中追加数据时所选择的基础表名称”及“输入框中追加数据时所选择的基础表返回的字段名” 比如，资源中的【资源组】的字段来源于基础表【资源组】，要达到可以选择的功能，则需要分别设定输入框中追加数据时所选择的基础表名称为资源组的表名

    ![](media/eaa23460506456672766de2caf0201d0.png)

    数字输入框：字段类型为数字型，选择此编辑器。

    备注输入框：字段类型为文本型的，选择此编辑器。

    文本框输入框：字段类型为字符串的，选择此编辑器。

10. 【是否要求必须输入】：如果勾选，这个字段保存时校验是否为空，没有输入值就会提示不能为空。
11. 【编辑时只读】：勾选此选项，数据表在编辑状态下该字段为只读，不能修改。
12. 【显示时合并单元格】：
13. 【包含在Insert语句中】：勾选此选项，且在SQL语句有这个字段，则该字段会在数据表显示并且可以插入数据。
14. 【包含在Update语句中】：勾选此选项，则该字段可以更新数据。
15. 【是否主键】：该字段是否是主键，用户不能修改。
16. 【输入框中追加数据时所指向的基础表名称】：输入框中追加数据时所指向的基础表名称，与编辑器“弹出式单/多选编辑窗体”使用。
17. 【输入框中追加时所指向的基础表返回的字段名】：输入框中追加数据时所指向的基础表名称，与编辑器“弹出式单/多选编辑窗体”使用。
18. 【显示格式】：数据的显示格式。
19. 【辅助信息字段】：
20. 【辅助信息SQL语句设置】：
21. 【参与行复制】：该字段是否参与行的复制。

**使用操作说明：**

一般来说，KM 排产易系统中使用到的数据表设定系统已给出了相关的设定初始值，如在使用过程中需要对其进行调整，可以点击修改，进入配置修改状态，修改完毕后，点保存即可。

1）修改表，以增加一个insert字段为例

1.  点击修改
2.  勾选要增加的字段
3.  在SQL语句增加“ai.PurchaseOrderQtyMax,”
4.  点击保存

![](media/c93f6a3fd23236acc19c5c2599990bf0.png)

如果没有在SQL语句增加新增字段的语句保存会有如下提醒;

![](media/5287901c6b322c8d377204395f66f929.png)

2）新增表

1.  点击新增
2.  选择要新增的数据表、输入窗体标题。
3.  勾选选项设置
4.  点击修改SQL语句弹出SQL语句-维护
5.  输入数据表别名
6.  勾选主表字段，生成SQL语句
7.  确定
8.  保存设置

![](media/4fd38e28758e61cd1b6c4a934cb48a8a.png)

![](media/b8845d853e501c6bde405fa55a67d08c.png)

![](media/ef13a9d6491d28dcf2430e8736279db3.png)

3）窗体属性设置—同步

该功能可以把表的窗体属性设置同步到其它单元。

1.  选择要同步的表
2.  点击同步
3.  选择要同步的排产单元
4.  确定同步

![](media/af569f9e7e852e2bf371467c89301644.png)

4）导出

该功能可以导出表或视图、字段列表。

1.  选择要导出的表。
2.  点击选择导出“表或视图”还是“字段列表”。
3.  选择导出的文件格式。

![](media/5bdbb0a4c878cd35c2ca16260611d725.png)

5）应用工具栏数据处理

使用方法请看[执行自定义操作](#执行自定义操作)。

6）同步设置

使用方法请看[配置同步](#配置同步)。

#### 5.9.5 任务提醒设置

此功能用于配置 KM 排产易系统任务提醒设置

1.  新增任务提醒
    1.  点击新建
    2.  设置提醒分类、名称、类型等
    3.  点击数据源，设置SQL语句
    4.  设置提醒周期
    5.  设置要提醒的用户
    6.  保存设置

![](media/e028584713e9d1a55dd1188c3bdf16e0.png)

1.  各字段说明

    分类：提醒的分类

    名称：提醒的名称

    类型：分数据库和文本。一般选数据库，然后在“数据源”按钮点开SQL语句编辑器。

    优先级：高和普通，给操作系统运行线程时参考。

    频率：每天和一次

    说明：可对设置增加说明。

    数据源：设置提醒的SQL

    ![](media/2ae22167e45a553c786af86b07c99840.png)

    是否启用：勾选则启用该提醒。

    移动端显示：勾选的话，提醒消息发送到移动端（预留）

    一次：当频率设置是一次时，可以设置开始提醒的时间点

    ![](media/1b9ddaf9bac122a045d9b6396146f113.png)

    每天：当频率设置为每天时，可以设置是每天一次还是间隔执行多次

    所有者：勾选的用户，可以接收该任务提醒。

#### 5.9.6 系统日志

此功能可以记录系统核心表的操作日志。核心表有物料、资源、工艺产能、销售订单、制造订单、盘点库存、计划外出入库。

操作步骤：

1.  选择要查看的数据类型。
2.  选择要查看的操作时间。
3.  点击查看。

![](media/8b8ccecc3fdd9904b2d9344cee49c249.png)

注：要能显示操作日志，服务端的是否启用日志功能要设置为“True”。

#### 5.9.7 PSI设置

对排产结果进行行列转换形成二维的透视表，透视表数据行，设置透视表纵轴上的数据分组，透视表数据列，设置透视表横轴上的数据分组，透视表数据内容，设置透视表纵轴、横轴分组归并后的数据统计。

![](media/7eddeebc52279669efef4f8ec8c8ba37.png)

#### 5.9.8 配置同步

概述：配置同步可以把本单元的设置同步到另一个排产单元，配置同步可以同步PSI设置、排产方案、数据导入、表格布局。

1）同步PSI设置

1.  选择需要同步的PSI设置
2.  选择同步的目的排产单元
3.  点击同步
4.  确定同步

![](media/b1bbd42b05a19cd7bf29726f21c84052.png)

2）同步排产方案

① 选择需要同步的排产方案

② 选择同步的目的排产单元

③ 点击同步

④ 确定同步

![](media/130777e48968e27fbf7382109e2e9707.png)

3）数据导入

① 选择需要同步的导入方案

② 选择同步的目的排产单元

1.  点击同步

④ 确定同步

![](media/c0aefc0f6396aaea3e2abbfdd9362970.png)

4）表格布局

1.  选择需要同步的用户的表格布局
2.  选择同步的目的排产单元的用户，如图为同步到CS1单元的M.Chen用户中。
3.  点击同步
4.  确认同步

![](media/570d90788d6b7692140fdd02d7bcf5ea.png)

## 第六章 生产排产

设置并录入基础数据和计划数据，可以从下图①或②的按钮进入排产引擎进行排产作业。

![](media/64dec2f6b739cc6a42e984e9608fbaff.png)

进入排产引擎后的界面：

![](media/9d80d62d715487a2628240f230a1f4e0.png)

菜单栏名称：

![](media/b58fec62dc009f508f04ce0171188c1a.png)

### 6.1图表构成

可视化甘特图窗口概要

可视化甘特图是横轴为时间的图表，主要用来展示计划结果。右侧图表与左侧图表显示通过鼠标对境界线的拖拉，可调整显示范围。

附有时间的表格图中有以下的种类。

-   资源甘特图
-   订单甘特图
-   订单关联甘特图
-   资源负荷图表
-   库存图表

可视化甘特图按照以下部分进行区分：

![](media/09abdd5c1e2a145adc93b8baf649c18d.png)

上部

图表的①部分被称为上部。图表的上部显示时间。当表格足够宽时，可直接看到具体日期，当表格宽度很小时（如下图）将鼠标放在日期部分，能确定日期及星期几。

![](media/a63d5f800be494045a6590bf18713d43.png)

左部

图表的②的部分被称为左部。在表格显示的最左边，显示排产单元的资源。

本体部

图表③的部分称为本体部。日期的列与表格显示的行进行交差的部分的矩形被称为单元格，该部分中主要显示排产的结果。可以通过上下左右滚动条调整显示位置。

时间的分隔线、期间的显示方式

![](media/abc104c864f039fffbfe8c136c493a8d.png)

如上图，用图的方式显示各种时间的分隔线，各分隔线、期间表示各种以下含义。

1）计划基准时间：固定日期：设置从哪天开始排产。

系统载入日期：设置以电脑系统日期作为开始排产的起始日期。

2）分派开始时间：设置从哪一天开始分派。

3）分派结束时间：设置从哪一天结束分派。

4）生产指令结束时间：（旧）。

5）显示开始时间：显示排产界面的开始日期。

6）显示结束时间：显示排产界面的结束日期，这个日期后的时间就不显示了。

**单位期间：**图表时间轴的默认单位为1日。单位期间可以变更为小时、星期或者月。

![](media/966f1de093f99bf97666e01e898da517.png)

**拖动时刻线**

将鼠标指针移动到甘特图的计划基准时间线上的话，会变为下图中的形状，并且可以通过拖动来改变时刻，分派开始时间和分派结束时间会根据期间设置随之改变。

使用鼠标拖动时刻会以1个小时为单位。分钟和秒的值会继续保持，并且在拖动后沿用。此外，拖动时如果按下Ctrl键，则可以以分钟为单位拖动。

![](media/80f81ffc421637241b4a9397b60f805d.png)

### 6.2图表的基本操作

![](media/050009159db4bd69334c2e0d0ac4d0a5.png)

**单元格的操作**

通过鼠标操作，可以对图表的单元格的横竖大小进行变更，或者对单元格区域进行选择。

1.  的部分通过向左右进行拖拉操作，可以对日期的宽度进行变更。
2.  的部分通过向上下进行拖拉操作，可以对单元格的高度进行变更。

按住Ctrl键来改变高度，只改变选择的那一行的高度：

![](media/25423822057154ae777dfc1d4fe467cc.png)

连续选择多行，改变选中行高度：

![](media/1b77972ecb8c79dcaa4eae535953215b.png)

1.  的部分通过向上下进行拖拉操作，可以对上部的高度进行变更。
2.  的部分通过向左右进行拖拉操作，可以对左部的宽度进行变更。

**单元格的选择**

按住Shift，单击⑤的部分(本体部单元格)后，其单元格被选中，按下进行拖拉后，扩大选中的单元格区域。更进一步，同时按住Shift和Ctrl，可进行多选。鼠标左键单击可解除选择。

![](media/e2eec7f1d4c4d9a8fd2dd22f08eb7389.png)

按住Shift，单击⑥的部分(上部单元格)后，其列的本体部单元格被选中，按下进行拖拉后，扩大选中的列范围。进一步，同时按住Shift和Ctrl，可进行多选。鼠标左键单击可解除选择。

![](media/93172dad01c0801d1429800bf9137e49.png)

单击⑦的部分(左部单元格)后，其的本体部单元格被选中，按下进行拖拉后，扩大选中的行范围。进一步按住Ctrl，可进行多选。鼠标左键单击可解除选择。

![](media/6e7ef0f96a347656db4c4090a8c15f95.png)

单击⑧的部分(左上部)后，所有的单元格被选中，可进行全部单元格的选择解除。

![](media/7879e5453bec8a6ee2f2208a507bf1e6.png)

**缩放**

按住Ctrl的同时转动鼠标的滚轮后，可变更窗口的显示比率进行显示。通过在甘特图显示设定缩放比率，也可进行显示比率的变更。

数据提示

数据提示是当鼠标放置在以下位置的时候，会弹出一个数据显示窗口。如下图所示。

\* 图棒上方

\* 图表的时间轴上方

\* 工具栏图标上方

![](media/8a7fd778e9fa834d165d94cbeecef23f.png)

![](media/d4b45b002cabdaf4598a51f2269c0a1c.png)

图棒的数据提示中显示的内容，可以修改棒提示文本格式来改变显示信息。

![](media/be4a363334e44a524c24273fd2b1bf65.png)

资源甘特图、负荷图上的生产日历的设定

在单元格右击打开班次设置对话框。班次设置中可以设置班次及资源量，点击确认应用到选择的单元格上。

![](media/0608109f827fe9de7a05be26015f6d37.png)

也可以点击右键，在弹出菜单中选择合适的班次。相应班次自动应用到选择的单元格上。

![](media/a8d04dcd4749d41b257cf5cc89fd58de.png)

### 6.3排产全局设置

#### 6.3.1环境设置

##### 6.3.1.1全体

![](media/9684f8117b592dab88016efcb727ceab.png)

1）字体编码：为简体中文。

2）数值格式：数值的显示格式。

3）日期格式：日期的显示格式。

1.  星期格式：星期显示的显示格式。

![](media/3b9cf53e1e6557d8f0ebd9c45e57d2a4.png)

##### 6.3.1.2期间设置

![](media/788719f0784dec0a0b87873a71f95d74.png)

1）计划基准时间：固定日期：设置从哪天开始排产。

系统载入日期：设置以电脑系统日期作为开始排产的起始日期。

2）分派开始时间：设置从哪一天开始分派。

3）分派结束时间：设置从哪一天结束分派。

4）生产指令结束时间：（旧）

5）显示开始时间：显示排产界面的开始日期

6）显示结束时间：显示排产界面的结束日期，这个日期后的时间就不显示了。

7) 日境界时刻：设定计算一天开始的时刻，即甘特图的起始时间。

-   1天的日境界时刻= 00:00:00  
     “3月7日”= 3/7 00:00:00 - 3/7 23:59:59
-   1天的日境界时刻 = 08:00:00  
     “3月7日”= 3/7 08:00:00 - 3/8 07:59:59

##### 6.3.1.3排程

![](media/66964c1cb1118e85c7edf84b79c048ee.png)

1）制造效率：设置所有工序的制造效率，默认为1。

2）设置时间计算方法：系统计算所需资源的工作时间的方法。（具体请看[设置时间计算方法](#例31设置时间计算方法)）。

3）分派候补数的上限：在分派计算各种可能排产结果的数量限制，防止计算量太大导致效率下降。

4）相同品目的设置时间为零：相同品目之间如果设置了切换时间时，是否需要计算。

![](media/e9bf494fbaa8f1f10ae7772b6bef01b1.png)

5）同一分割作业的设置时间为零：同一资源上同一个订单的同一个工程的分割作业相邻时，中间设置时间为零。

6）自动补充制造订单序列号：设置补充订单的单号从哪个号开始。

7）启用移动时间MAX：勾选启用移动时间MAX。

8）消息级别：设定消息的显示内容，有错误信息、简易和详细。

9）当前排产单元：显示当前排产单元。

#### 6.3.2 排产方案参数设置

##### 6.3.2.1 基本

![](media/5566fc12ecb9e0e26818cd3fc8c21ba6.png)

1）分派方法：设定分派方法，有限能力或无限能力；

有限能力是指考虑工厂的资源负荷能力、人员技能、物料等因素的基础上进行排程。 无限能力是指在排程时不考虑工厂的资源负荷能力、人员技能、物料等因素。

一般选有限能力，如果选无限能力时，排产分派就不会考虑资源的约束，只考虑基础的时间设置。

2）分派方向：设定订单的分派方向。[（分派方向）](#例32分派方向)

| 名称       | 说明                                                    |
|------------|---------------------------------------------------------|
| 未指定     | 没有指定分派方向                                        |
| 正方向     | 订单按正方向分派                                        |
| 逆方向     | 订单按逆方向分派                                        |
| 遵从订单   | 订单的分派方向根据订单的[优先度]和分派方向]的设置决定。 |
| 强制正方向 | 与关联的工作实绩（时间固定级别）无关，强制正向分派。    |
| 强制逆方向 | 与关联的工作实绩（时间固定级别）无关，强制逆向分派。    |

3）分派资源：设定分派时的资源选择方法。

| 名称           | 说明                                                                                                                |
|----------------|---------------------------------------------------------------------------------------------------------------------|
| 评估值最大资源 | 分派评估值中最大的资源。                                                                                            |
| 优先资源       | 只分派优先度最高的资源。                                                                                            |
| 当前资源       | 分派当前资源。首次分派的子工作会把分割前的工作分派的资源 作为当前资源。工作未被分割时的情况和选择[出现顺序]时相同。 |
| 出现顺序       | 分派最初资源（最先出现的）。                                                                                        |

1.  工作临时固定：设定再排程时的临时固定工作方法。

| 名称                     | 说明                                                                                                                       |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------|
| 末端工作                 | 临时固定正向排序订单的第一工序工作，逆向排序订单的最终工序工作。正向排序的情况下，库存订单关联的最先工序的工作为末端工作。 |
| 分派结束工作             | 将现在分派的工作全部临时固定。                                                                                             |
| 瓶颈资源                 | 有瓶颈资源标志的资源的分派工作进行临时固定。                                                                               |
| 不                       | 不进行临时固定。                                                                                                           |
| 末端工作（限于制造任务） | 末端工作大体上相同，只临时固定制造订单内的末端工作。                                                                       |

1.  制造时间计算：设定制造时间的计算方法。

| 名称             | 说明                                                                   |
|------------------|------------------------------------------------------------------------|
| 基于主资源       | 基于主资源的能力值                                                     |
| 最长时间的资源   | 主资源和全部的副资源的能力值中，基于制造时间最长(最低能力值)的能力值。 |
| 最长时间的副资源 | 全部副资源的能力值中基于制造时间最长(能力值最低)的能力值。             |

1.  严格遵守后资源制约：设定是否启用后资源制约，在某资源上进行工作时，限制其后面的工序进行的资源被称作后资源制约。（[后资源制约](#例16后资源制约)）
2.  起用原料库存制约：设定是否启用原料制约（[例5物料制约标志](#_例5_物料制约标志)）

| 名称                                       | 说明                                                                         |
|--------------------------------------------|------------------------------------------------------------------------------|
| 否                                         | 违反原料制约也分派。                                                         |
| 是                                         | 把违反原料制约的工作以后的工作分派在虚拟资源上。                             |
| 是(违反就把订单的所有工作分派在虚拟资源上) | 只要有一个违反原料制约的工作，就把该工作所属订单的所有工作分派在虚拟资源上。 |

1.  越过分派开始时刻时：逆向分派时越过工作分派开始时刻的过去方向分派的处理方法。

| 名称         | 说明               |
|--------------|--------------------|
| 强制分派     | 强制分派。         |
| 忽视         | 忽视时间制约。     |
| 切换为正方向 | 切换方向再次分派。 |

1.  越过分派结束时刻时：正向分派时越过工作分派结束时刻的未来方向分派的处理方法。

10）越过最早开始时刻时：逆向分派时越过工作最早开始时刻的过去方向分派的处理方法

11）越过最迟结束时刻时：正向分派时越过工作最迟结束时刻的未来方向分派的处理方法。

##### 6.3.2.2 设置

![](media/323b1286377c9e7cc26da7569ab39a1a.png)

1.  制造效率：设定制造效率。1为100％。0的情况时默认为1。
2.  允许工作分割：设定展开订单/工作分割时是否进行工作分割。

| 名称             | 说明                                                               |
|------------------|--------------------------------------------------------------------|
| 是               |  进行工作分割。                                                    |
| 是，限于订单展开 | 限于展开订单时，进行工作分割。                                     |
| 否               | 不进行工作分割。分派解除时，动态分割的工作会保持分割状态进行解除。 |

1.  分割工作靠拢在一起：在一个工序的分割工作当中，有任何一个时间被固定的工作，那么把其它工作尽量靠拢该固定工作而分派。如果未指定，就默认为“是”。

| 名称 | 说明                                                         |
|------|--------------------------------------------------------------|
| 是   | 把其它的分割工作尽量分派在跟时间被固定的工作的附近。         |
| 否   | 并不特意把其它的分割工作尽量分派在跟时间被固定的工作的附近。 |

1.  适用组合设置时间的设定：设定是否采用生产特征切换、物料切换表的设置。默认值为[是]。
2.  分派失败时（最大移动时间制约）：当未能满足最大移动时间制约时候的应对方法。如果没有设置，就认为期间外强制分派。

| 名称           | 说明                                                 |
|----------------|------------------------------------------------------|
| 期间外强制分派 | 把最大移动时间制约相关的所有工作全部强制分派期间外。 |
| 忽视制约       | 忽视最大移动时间制约而把最初试图分派的工作单独分派。 |
| 虚拟资源       | 把相互制约的所有工作分派在虚拟资源上。               |

1.  分派失败时（资源锁定制约）：当未能满足资源锁定时候的应对方法。如果没有设置，就认为期间外强制分派。

| 名称           | 说明                                             |
|----------------|--------------------------------------------------|
| 期间外强制分派 | 把资源锁定制约相关的所有工作全部强制分派期间外。 |
| 忽视制约       | 忽视资源锁定制约而把最初试图分派的工作单独分派。 |
| 虚拟资源       | 把相互制约的所有工作分派在虚拟资源上。           |

1.  按分派规则顺序排列：设置在各资源上的分派位置是否绝对按照分派规则。

| 名称 | 说明                               |
|------|------------------------------------|
| 否   | 从最早开始时刻开始分派。           |
| 是   | 在各资源上，绝对按照分派规则分派。 |

1.  忽视未分派的前后工序的工作：如果设定为[是]，就算关联的前后工序的工作未分派也会对其进行分派。不进行指定的时候为[否]。

| 名称 | 说明                                                                             |
|------|----------------------------------------------------------------------------------|
| 否   | 分派时，等待关联的前后工作被分派。正向的时候等待前工序，逆向的时候等待后工序。   |
| 是   | 分派时，不等待关联的前后工作被分派。正向的时候忽视前工序，逆向的时候忽视后工序。 |

1.  分派停止条件式：排程过程中想要停止分派的工作的条件式。
2.  帅选订单：筛选订单的条件。
3.  筛选工作：筛选工作的条件。
4.  更新关联/补充订单：设定通过订单展开命令是否进行关联，是否生成自动补充订单。
5.  锁定订单间关联：设置是否锁定销售订单和制造订单之间的关联关系。

##### 6.3.2.3 期间

![](media/4a40267ece54d28f7563bc5dbeaa43aa.png)

1）用户指定最早开始时刻：对于工作的用户指定最早开始时间。

2）用户指定最迟结束时刻：对于工作的用户指定最迟结束时间。

3）分派开始时间：设定分派期间的开始时间。

4）分派结束时间：设定分派期间的结束时间。

##### 6.3.2.4分派规则

分派规则设定订单根据什么规则进行排序，这个排列顺序就是排产时订单的分派顺序。

![](media/ba19851538c8da2f0e6e075a6b6384dc.png)

1.  分派键

    设定分派键。

2.  升/降序

设定分派键为升序进行排序，还是降序进行排序。分派键按照编号小的分派键为优先进行分派。例如，

| **顺序** | **分派键** |
|----------|------------|
| 1        | 订单优先度 |
| 2        | 订单交货期 |

订单优先度的降序(从大到小的顺序)首先进行评估，订单优先度相同的话，订单交货期的升序(从小到大的顺序)进行评估。

![](media/427f67351e897020921c9659ce21baef.png)：删除所有分派规则。

![](media/c3e7f16b8fba163f43c175885c7b6a35.png)：添加分派规则行。

![](media/838774599dc90912e5f1104aabe668d6.png)：删除所选择的分派规则。

![](media/e296e9602ffde0b7b03b8f0eefdb0a6a.png)：提高所选择的分派规则的优先排序。

![](media/8ed19f4333ef4b9dd7d7d1f2db89ea5b.png)：降低所选择的分派规则的优先排序。

操作步骤

![](media/a42b37b2cac437b50ffa9a90e472c426.png)

1.  添加分派规则行。
2.  选择分派规则键。
3.  选择分派规则的排序，升序或降序。

④ 确定分派规则的设定。

##### 6.3.2.5资源选择策略

资源选择策略设置工作分派时资源的选择规则。

![](media/90f4974a4b6ea7b41480d57620efaaaa.png)

![](media/e6d87c667e85f5bd9c00e595779e8a38.png)

修改资源策略设置。

![](media/151f1c243d747fc6f7b95a89c8efdb8f.png)

新增资源选择策略。

![](media/90a2c3f60f67f38a4b7c5bb508747aab.png)

删除资源选择策略。

**策略对象：**使用该评估方案对象的资源。没有指定表示适用于所有资源。

**资源负荷计算开始时间：**资源负荷的计算对象的开始时间。

**资源负荷计算开始时间：**资源负荷的计算对象的结束时间。

新增资源选择策略

1.  点击新增按钮，打开资源策略设置。
2.  输入策略名称、策略对象等。
3.  新增评估方案行。
4.  选择评估方案及设置权重。
5.  ⑥确定策略设置。

| 评估方案       | 说明                                                                                                 |
|----------------|------------------------------------------------------------------------------------------------------|
| 负载均衡       | 负荷均衡，就是排产结果会平均分派到相同的资源，尽量少出现有的资源全部排满，有的资源没有工作，要停线。 |
| 资源优先度     | 按工艺产能的资源优先度数值，数值大的资源优先分派。                                                   |
| 制造时间最小化 | 制造时间最小的资源优先选择这个资源                                                                   |
| 相同物料优先   | 相同物料的工作优先选择这个资源                                                                       |
| 前后工作优先   | 有前后关系的工作优先选择这个资源                                                                     |
| 逾期最小化     | 最小逾期的资源优先                                                                                   |

### 6.4资源甘特图

资源甘特图可对每个资源的分派进行把握，直观展示各个设备上的任务安排。

#### 6.4.1界面介绍

![](media/7a7571b7f0ab690c24d9a238b1b8e52b.png)

单元格

1.  资源和日期交叉形成的矩形称为单元格。
2.  单元格里的灰色部分是工作时间。
3.  灰色以外部分（计划部分为白色，过去部分为黄色）是非工作时间。

出勤时间

资源甘特图的本体部的单元格的背景为灰的部分表示资源的出勤时间。

使用指令图棒

排程的话，资源甘特图上排程的结果会以使用指令图棒排列来表示。

使用指令图棒上，可以显示出这个工作的各种关联信息。这些信息文字叫做图棒文字。

将鼠标放在使用指令图棒上，会有[数据提示](#数据提示)。

使用指令图棒文字，数据提示文字，都可以在甘特图显示设置中修改显示内容。

可以通过[资源甘特图搜索对话框](#资源甘特图搜索)来搜索甘特图上的使用指令图棒。

图棒显示

在甘特图显示设置可以设置棒显示颜色、棒文本格式、棒提示文本格式、缩放比例。

![](media/246641372a5a5dc1801c4b61119531e0.png)

切换时间的显示

切换时间显示为墨绿色中央粗线

![](media/d42a4978ba2d238fb74159a53631a34d.png)

资源

资源甘特图左部（纵轴）显示是资源，资源的背景色可在资源中的“显示颜色”设定。

状态

根据工作或任务的状态，图棒的下方附有标记。

**实绩**

工作指令图棒上具有斜线，下方具有灰线。

**工作确定**

使用指令图棒的下方附有黑线。

**指示完毕**

使用指令图棒的下方附有绿线。

固定

使用指令或者工作可以固定时间，资源。根据固定的方法的不同，显示的方法不同。

**工作全固定**

使用指令图棒的下端附有蓝色的键标记。

**工作时刻固定**

使用指令图棒的下端附有蓝色竖线。

**工作资源固定**

使用指令图棒的下端附有蓝色横线。

**使用指令资源固定**

使用指令图棒的下方附有红色横线。

连接线

在使用指令图棒上单击后，表示其任务所属订单的工作的前后关系用连接线表示，因此，可以很快分辨出同一订单前后的工作被分派在什么地方。

关联种类为“同一订单关联”时显示蓝色，“订单之间关联”为粉红色，在违反时间制约的情况下，连接线是红色。

警告显示

排程的结果，有可能会违反各种限制条件。资源甘特图中显示相应限制违反的警告。

**违反最迟结束时间(交货期延迟)**

交货期延迟发生的工作中任务字符串为红色，工作的右下方出现红色标记。

**违反最早开始时间**

在最早开始时间之前进行分派的工作，其任务字符串变为蓝色。

**超过资源量**

使用指令图棒上方附加红线。

**强制分派**

使用指令图棒上方附加红线。

**违反工序间时间关系**

违反工序间的时间关系后(反转)，连接线显示为红色。

工作信息

在指令图棒上双击，会显示工作内容信息。

![](media/c9557e73c0157fc2c26b29c3692343b5.png)

**任务**

任务代码：订单代码+工序编号。

资源：分派的资源。

计划数量：分派的数量。

制造开始时间：工作开始的时间。

制造结束时间：工作结束的时间。

总使用时间：工作制造时长。

资源量：工作使用的资源数量。

![](media/f96c7e11cc331cf34217cdb41e736b09.png)

**工作和父工作**

工作代码：订单代码+工序编号。

工作模板：工序名称。

工序编号：工序编号。

物料代码：物料代码。

制造数量：工作数量。

分派方向：工作分派方向。

最后分派顺序：分派时的顺序。

![](media/b06438147d4f7d6f83445bb3b3ea60e2.png)

**订单**

订单代码：订单代码

订单种类：订单种类

物料代码：物料代码

Base物料代码：工艺产能代码（可选）

开始时刻：订单开始生产的时间

结束时刻：订单结束生产的时间

资源无效显示

右击左侧资源可以快速设置选中的资源是否无效，无效资源用阴影进行显示。

![](media/2ca1a58d0c5456a4dcf5d7cdf639a56f.png)

#### 6.4.2资源甘特图的操作

资源甘特图不但可以显示排程结果，还可以对排程结果进行修改。

工作的固定

移动使用指令图棒时，自动的将其工作全固定。

可在甘特图上进行工作固定、确定及解除的操作。

**1、使用工具栏按钮固定工作。**

一个或以上工作在选中的状态下执行[工作全固定]或[工作确定]后，可对这些工作进行固定、确定，[工作未确定]可解除工作固定。

**2、工作移动时自动固定**

使用鼠标移动工作的时候可自动将其工作全固定。

工作的移动

鼠标移动

甘特图上的工作可使用鼠标进行移动。在希望进行移动的工作上点击鼠左键，资源甘特图左部可进行移动的资源变为高亮，将工作拖拉到可移动的位置上，然后松开鼠标的左键，完成工作的移动。缺省设定中，“用鼠标进行工作的移动方法”为无限能力，“用鼠标+Ctrl进行工作的移动方法”为有限能力。

键盘移动

甘特图上的工作还可以使用键盘的操作进行工作移动。选择希望移动的工作，使用“Ctrl+箭头键”将工作拖动到其它资源以及其它时间段上面。缺省的设定中，“用Ctrl+箭头键进行移动的方法”为无限能力，“用Ctrl+Shift+箭头键进行移动的方法”为有限能力。

使用鼠标或键盘拖动工作时可以无视工序之间的时间关系。重新排程时以固定的工作为中心周围的工作分派位置发生变化，重新符合工序之间的时间制约关系。

弹出菜单

在资源甘特图的各部分按下鼠标的右键后，显示弹出菜单。

**班次设置**

右键资源工作框弹出班次的设置对话框，可对单个或多个工作框的班次进行设置。

![](media/97976ff17e08a81e074e62e9685c3e0a.png)

**详细显示**

在使用指令图棒上方右击弹出菜单，选择详细显示，可显示工作关联的库存、订单和工作

![](media/c2e781f88b8c71a081c2dbfdb41095cf.png)

**切换**

在使用指令图棒上方右击弹出菜单，可将选择的工作切换到工作表格、订单表格等。

![](media/ef56b66f81684ae21a6073def2a05f51.png)

订单甘特图：关联订单：显示本工作关联订单的排产

![](media/6896b77067c4cc3d343f36c79fcce095.png)

复合图表：订单、分派资源：显示工作相关联的订单和资源复合图。

![](media/8537a771376cb33c1e923845304a6916.png)

复合图表：订单、可分派后补资源：显示工作相关联的订单和后补资源复合图。

![](media/b7bcd290eafa31e11f97dc1a2a7fe0e3.png)

工作表格：链接到工作对应的表格，方便查看。

![](media/ba6f72c1305fbb03d6602622800b1869.png)

订单表格：链接到工作对应的表格，方便查看。

![](media/26d31738dc7177e558efe9bb0e426757.png)

**订单**

在使用指令图棒上方右击弹出菜单，可将选择的订单删除或重新分派等

![](media/9071ca26be277ada0aee34f1eabed3fa.png)

删除工作：删除选定工作对应订单的工作。

解除分派：解除选定工作的订单分派。

重新分派：重新分派选定的订单工作。

非分派对象：设定选定的工作订单为非分派对象。

**工作**

在使用指令图棒上方右击弹出菜单，可将选择的工作解除分派或重新分派等

![](media/9bfd1a74b189b65c74a615c3d553832a.png)

父工作编辑：

解除分派：解除选定工作的分派。

重新分派：重新分派选定的工作。

移动任务选定器：

**强调显示**

在使用指令图棒上方右击弹出菜单，可将选择的工作或相同品目强调显示等。

![](media/4007a3fc08f3e36f4559031ead5547db.png)

解除：解除强调显示，回到强调显示前图棒的颜色。

关联订单筛选：强调显示订单的筛选条件。

| 条件         | 说明                           |
|--------------|--------------------------------|
| 无           | 关联订单不强调显示             |
| 全部         | 关联订单全部强调显示           |
| 仅限补充订单 | 仅关联订单上的补充订单强调显示 |
| 仅限库存     | 仅关联订单上的库存订单强调显示 |

选择的订单：只强调显示选中的工作对应订单的所有工作（如下图）

![](media/95ebc917ba8bbd64d68f6d546d3abdc7.png)

相同品目（订单）：强调显示选中的工作对应物料的所有工作。

相同客户：强调显示选中的工作对应客户的所有工作。

相同品目（工作）：强调显示相输出品目相同的工作

相同状态：强调显示与选中工作相同状态的工作。

选择的工作：强调显示选中的工作。

资源甘特图查找对话框

使用键盘按Ctrl+f，弹出资源甘特图查找对话框，可查找指定的订单代码或者工作代码。

查找到的订单或工作会被强调显示。

![](media/9da98b884cfc7808ca4de035a6d94687.png)

### 6.5订单甘特图

打开订单甘特图可以看到订单甘特图的纵轴显示订单，横轴显示日期。用户可以从订单的角度确认各个制造订单的计划安排以及进度情况。其中订单甘特图中红色倒三角表示订单的交货期。

![](media/18bb760c4ccbdd99ef9720371a9161cf.png)

在订单甘特图中可以删除工作、解除分派或者重新分派订单。

1．打开订单甘特图。

2．在重新分派订单的纵轴(订单代码的部分)上。

3．单击右键，在弹出菜单选择相应选项。

![](media/40fadc956a8dedbe937c3e37108d2f03.png)

### 6.6订单关联甘特图

订单关联甘特图是以某一个关联的订单为对象，显示与之相关联的订单的图表， 显示销售订单、生产订单、库存之间的供需关系，可以展开到详细关系。

\* 根据关联订单的图棒，能够把握所有关联订单的整体制造时间。  
\* 能够把握所有关联订单的状态。

![](media/576d3690fca98028488631fd0fa0edfa.png)

### 6.7负荷图

负荷图是显示资源利用率的图表。资源负荷图表的纵轴显示资源，横轴显示日期。用户可以以资源的角度确认各个资源的负载情况。可以以天、周、月来确认负荷。

![](media/288a97cef6f550923fb4879efb2706c0.png)

### 6.8库存图表

显示物料供应的库存图表，这里还显示工序转移状态的物料库存；库存图表的纵轴显示物料，横轴显示日期。每个物料的数量的增减用图和数值进行显示，用户可以从物料的角度确认各个物料未来时间的库存推移。

![](media/7561a2d5053ed75ab214dcc886f0e536.png)

### 6.9 消息

消息为在排程时所发生事件内容的显示窗口。

![](media/faf9003850c573e97be9fdbf01b96622.png)

在环境设置-排程，可设置消息的显示级别。

![](media/1d0e4c54b59fe18f6f76565915b402a6.png)

### 6.10评估结果

评估结果是对排产方案评估进行逾期订单数、交货期遵守率、平均等待时间等评估的结果。

![](media/1c64edb17939da58fcda90eedbe68717.png)

### 6.11 PSI

PSI表是统计每天，每周，每月的供给和需求的表格。还可以显示库存的数量，根据数量的不同还可以显示不同的背景颜色。从而实现库存的可视化管理。

![](media/14a105d5b45b156e966f90570c913b1c.png)

### 6.12订单

订单表显示订单信息，包括制造订单、销售订单、库存、计划外出入库，可从订单展开到工作。

![](media/8a5390db1ceb13655db40896e9baf1cb.png)

### 6.13工作

工作表显示的是工作信息（排程结果）。工作是订单根据工艺路线展开每道工序形成的工作，可以看到每一个工作在哪个机台生产、工作的开始和结束时间、制造时间等。在该工作表部分属性可以进行编辑，编辑保存后重新排程，可以得到新的排程结果。例如，可以选定某个工作，设定工作分割数量为2，保存后重新排程，可以看到该工作分割成两个工作。

![](media/9257407961cb18baa4a4ffbb46e09b77.png)

排产引擎的工作布局由计划数据的工作表设定的布局决定

![](media/26cd9ce783bd4a7cb3cf36d83edf74c8.png)

## 第七章 齐套数据管理

### 7.1物控基础数据

#### 7.1.1物料信息（CTB）

物料信息表CTB主要维护齐套计算涉及的物料信息。物料可以是成品、原料、也可以是半成品。

![](media/ae9c82e137d8cae795b00a1b3b3eb748.png)

物料信息表字段含义：

| 字段名称           | 字段说明                         | 使用说明                                     |
|--------------------|----------------------------------|----------------------------------------------|
| 物料编号           | 物料的编号                       |                                              |
| 材料名称           | 材料的名称                       |                                              |
| 单位               | 物料的单位                       |                                              |
| 是否关键料         | 该物料是否是产品的关键物料       | [例33关键料齐套率](#关键料齐套率)            |
| 是否参与齐套运算   | 该物料是否参与齐套运算           |                                              |
| 最小齐套数量       | 该物料的最小齐套数量需要达到几套 |  [例34最小齐套数量、数量单位](#最小齐套数量) |
| 数量单位           | 该物料的数量单位，用于数量取整   |                                              |
| 单价               | 物料的单价                       |                                              |
| 物料组别           | 物料的分组的组别                 |                                              |
| 损耗率             | 该物料的损耗率                   |                                              |
| 有效条件表达式     | 设定该物料有效的条件             | [例35供需分配有效条件](#供需分配有效)        |
| 材料规格           | 材料的规格                       |                                              |
| 供应商编号         | 供应该物料的供应商编号           |                                              |
| 供应商名称         | 供应该物料的供应商名称           |                                              |
| 供应商简称         | 设定供应商的简称                 |                                              |
| 供应商地址         | 供应商的地址                     |                                              |
| 供应商联系人       | 供应商的联系人                   |                                              |
| 采购员编号         | 采购员的编号                     |                                              |
| 采购员名称         | 采购员的名称                     |                                              |
| 送货地             |                                  |                                              |
| 交付点             |                                  |                                              |
| 交付区间           |                                  |                                              |
| 交付提前期         |                                  |                                              |
| 交付锁定期间       |                                  |                                              |
| 特殊交付点间隔天数 |                                  |                                              |
| 特殊交付点起始日期 |                                  |                                              |
| 外部更新标志       |                                  |                                              |
| 外部更新时间       |                                  |                                              |
| 外部接口更新时间   |                                  |                                              |
| 排产单元编号       |                                  |                                              |
| MOQ                |                                  |                                              |
| MPQ                |                                  |                                              |
| PO LT              |                                  |                                              |
| 成品损耗率         |                                  |                                              |
| 安全库存天数       |                                  |                                              |
| 自定义日期         |                                  |                                              |
| 自定义数值         |                                  |                                              |
| 自定义字符串       |                                  |                                              |

#### 7.1.2物料（BOM）

物料BOM主要维护齐套计算涉及的BOM信息。BOM是指生成一个产品需要用到的物料，通常是完成品或半成品的组成情况——该物料有哪些下级物料组成，每一下级物料的用量是多少。

![](media/9e084f88a26e256b180dc28a49960664.png)

物料BOM表字段含义：

| 字段     | 说明                   |
|----------|------------------------|
| 产品编号 | 产品的编号（父项料号） |
| 产品名称 | 产品的名称（父项名称） |
| 物料编号 | 物料的编号（子项料号） |
| 材料名称 | 材料的名称（子项名称） |
| 单位     | 物料的单位             |
| 用量     | 物料的用量             |
| 损耗率   | 物料的损耗率           |

#### 7.1.3材料配额

材料的配额是按供应商设置配额的比例，当计算出欠料时，可以按预设的配额生成相应的采购订单，以满足从多个供应商购买的需求。

![](media/575775622c3b68a0e7a5357b6a9a33b6.png)

| 字段     | 字段说明                     |
|----------|------------------------------|
| 父层编号 | 父项料号                     |
| 组别     | 物料的组别                   |
| 子层编号 | 子项料号                     |
| 配额比例 | 材料的在不同供应商的采购比例 |
| 生效日期 | 该材料配额的生效日期         |
| 失效日期 | 该材料配额的失效日期         |

#### 7.1.4有效仓库维护

有效仓库主要维护放置物料的仓库信息。

![](media/52d8796f05760621d5618c76135897bc.png)

有效仓库维护字段含义：

| 字段     | 说明               |
|----------|--------------------|
| 工厂代码 | 工厂的代码         |
| 仓库代码 | 仓库的代码         |
| 仓库名称 | 仓库的名称         |
| 库位代码 | 库位的代码         |
| 库位名称 | 库位的名称         |
| 是否有效 | 设定该仓库是否有效 |

#### 7.1.5齐套替代料设置

齐套替代料设置主要维护物料的替代料信息。有些原料库存不足时，可用其它原料代替，该原料称为替代料。替代料设置可用设置成组替代或单料替代，且在同一个BOM中如果存在多个单料或者成组替代的关系那么不能存在替代物料交叉的情况。例如（产品A有x y z3个物料其中z单料替代，x y为成组替代，那么就不能出现y z也是成组替代情况）。

![](media/0890f0e0e9d30ff816f956691fc20830.png)

齐套替代料字段含义：

| 字段           | 说明                                                           |
|----------------|----------------------------------------------------------------|
| 替代类型       | 替代的类型，单料替代或成组替代                                 |
| 父项料号       | 父项的料号                                                     |
| 被替代子项料号 | 可以被替代的子项料号                                           |
| 替代组号       | 同一个产品输入替代料的顺序，可以显示一个产品共有几种替代       |
| 替代后子项料号 | 替代后子项料号                                                 |
| 生效日期       | 指定替代料设置的生效日期                                       |
| 是否混用       | 设定原物料与替代料是否可以混用                                 |
| 优先度         | 同一个物料有不同的替代料时，可用优先度设定优先使用哪个替代料。 |
| 有效条件表达式 | 设定替代料的有效条件                                           |

### 7.2 物控计划数据

#### 7.2.1采购订单

采购订单主要维护采购订单的信息。

![](media/390ad170c41b240ea60a1fe616a9d819.png)

采购订单表字段含义：

| 字段       | 说明               |
|------------|--------------------|
| PO编码     | 采购订单的编码     |
| PO明细编码 | 采购订单的明细编码 |
| 下单日期   | 采购订单的下单日期 |
| 供应商编号 | 供应商的编号       |
| 供应商名称 | 供应商的名称       |
| 物料编号   | 采购的物料编号     |
| 物料名称   | 采购的物料名称     |
| 到货日期   | 物料的到货日期     |
| 采购单数量 | 物料的采购数量     |
| 未交数量   | 物料的未交数量     |

#### 7.2.2 库位库存

库存库位主要维护物料的库存信息。记录物料具体放在哪个仓库的哪个库位，什么时候入库等

![](media/c47343b7d230fcf4135a877377e9b4ff.png)

库位库存表字段的含义:

| 字段         | 说明                 |
|--------------|----------------------|
| 物料编码     | 物料的编码           |
| 物料名称     | 物料的名称           |
| 物料规格     | 物料的规格           |
| 物料助记码   | 物料的助记码         |
| 仓库编号     | 仓库的编号           |
| 仓位编号     | 仓位的编号           |
| 失效日期     | 库存的生效日期       |
| 库存数量     | 物料库存数量         |
| 批次号       | 物料的批次号         |
| 批次项次     |                      |
| 有效截止时间 | 库存的有效的截止时间 |

#### 7.2.3 订单预占料

订单预占料主要维护订单预占料信息，存在有订单预占料的情况时可以用该表维护信息。

![](media/f0501001c0b0ecccf4b079cf6ae3679c.png)

订单预占料的字段：

| 字段     | 说明                 |
|----------|----------------------|
| 订单编号 | 有预占料的订单编号   |
| 工序编号 | 工序的编号           |
| 父项料号 | 父项的料号           |
| 父项单位 | 父项的单位           |
| 子项料号 | 子项的料号           |
| 子项单位 | 子项的单位           |
| 占料日期 | 订单占料的日期       |
| 占用数量 | 订单占用的数量       |
| 仓库编码 | 占用的物料的仓库编码 |

#### 7.2.4 未领料明细

未领料明细表主要维护订单未领料的明细，有些已经发料的订单，有可能未领料或则料没有领完。

![](media/1abe67839f9dc062b1f45ecebe71b292.png)

未领料明细字段：

| 字段       | 说明               |
|------------|--------------------|
| 订单编号   | 订单的编号         |
| 父项料号   | 父项的料号         |
| 父项单位   | 父项的单位         |
| 子项料号   | 子项的料号         |
| 子项单位   | 子项的单位         |
| 需求日期   | 子项物料的需求日期 |
| 需求数量   | 子项物料的需求数量 |
| 发料日期   | 子项物料的发料日期 |
| 已发料数量 | 已经发料的数量     |
| 未发料数量 | 还未发料的数量     |

#### 7.2.5在途库存

在途库存表主要维护物料的在途信息，在途库存是尚未到达目的地、正处于运输状态或等待运输状态而储备在运输工具中的库存

![](media/a77a15397d77ed22ccb8e2b8b9c06e68.png)

#### 7.2.6 物料欠料追踪表

主菜单导航栏中单击[物控计划数据]→[物料欠料追踪表]，打开物料欠料追踪表；物料欠料追踪表显示的是订单的欠料追踪明细。

![](media/ff128bebeab6f196ad1c934e450ae3a2.png)

#### 7.2.7 齐套订单欠料明细

主菜单导航栏中单击[物控计划数据]→[齐套订单欠料明细]，打开齐套订单欠料明细；齐套订单欠料明细显示的是每一张订单的欠料明细。有欠料的订单才会显示在欠料明细表。

![](media/21c46273f5414e667bf8231c6e998ac7.png)

#### 7.2.8 齐套供需分配明细

主菜单导航栏中单击[物控计划数据]→[齐套供需分配明细]，打开齐套供需分配明细；齐套供需分配明细显示在齐套运算时根据齐套方案等设置的规则进行供需匹配生成供需分配明细表，以订单维度查看每一个子项物料的来源。

![](media/61611975bb7bdc994ff4012e9bd11d1e.png)

#### 7.2.9 齐套物料供应明细

主菜单导航栏中单击[物控计划数据]→[齐套物料供应明细]，打开齐套物料供应明细；齐套物料供应明细显示齐套运算供需匹配后生成以物料维度的物料供应明细表，其中已分配数量为0则没有消耗。点击供应明细按钮可用查看哪些订单使用了该物料。

![](media/f843723bc95bb1aeacf83c719a88bc3c.png)

### 7.3 物控工作台

#### 7.3.1 库存可用量配置

主菜单导航栏中单击[物控工作台]→[库存可用量配置]，打开库存可用量配置，库存可用量维护齐套运算中参与运算的库存可用量（物料库存、采购订单、订单预占料等参与齐套运算的库存数据）,物料库存必须作为必要的可用量录入且数据为增方向。可用量配置目的就是整合各类库存，但是各类库存来源不一，业务表也不同，字段也不同，通过可用量配置，可以统一成一个数据格式，建立供需分配有效条件的时候，就可以引用统一的字段。

![](media/be4d02d57b0dff465f1582944577ef05.png)

库存可用量字段：

| 字段         | 说明                                                                                   |
|--------------|----------------------------------------------------------------------------------------|
| 可用量编码   | 自定义的可用量编码                                                                     |
| 可用量名称   | 自定义的可用量名称                                                                     |
| 可用量类型   | 库存指实际的库存，比如物料库存，常规一般指不在仓库内的库存，例如采购订单、在途库存等。 |
| 业务表名     | 可用量的来源表名                                                                       |
| 库存方向     | 设定可用量的库存是增加的还是减少的。                                                   |
| 业务单据字段 | 可用量来源表中的业务单据字段，例如仓库编号、订单编号等                                 |
| 物料编码字段 | 可用量来源表中的物料编码字段。                                                         |
| 库存数量字段 | 可用量来源表中的库存数量字段。                                                         |
| 业务日期字段 | 可用量来源表中的库存生效日期字段。                                                     |
| 库存有效字段 | 判定库存是否有效的字段                                                                 |
| 附加数据字段 | 除以上字段，还可以增加在供需明细结果要显示的字段                                       |

#### 7.3.2 齐套分析方案

菜单导航栏中单击[物控工作台]→[齐套分析方案]，打开齐套分析方案。齐套分析方案用于设置齐套运算的规则。

![](media/90ee32aaf83e81fbf4087a16be6dc3a0.png)

通用参数设置

| 参数分类     | 参数名称                                                                 | 说明                                                                                              |
|--------------|--------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
| 齐套比率选项 | 项数齐套【按下级物料齐套的项数计算(项数齐套率=100%的项数之和/总项数)】   | 数齐套率=100%的项数之和/总项数                                                                    |
|              | 关键料项数齐套                                                           | 关键料项数齐套率=100%的关键料项数之和/关键料总项数                                                |
|              | 非关键料项数齐套                                                         | 非关键料项数齐套率=100%的非关键料项数之和/非关键料总项数                                          |
|              | 数量齐套【按下级物料齐套的套数计算(数量齐套率=齐套套数之和/总需求套数)】 | 数量齐套率=齐套套数之和/总需求套数                                                                |
|              | 关键料数量齐套                                                           | 关键料数量齐套率=关键料齐套套数之和/关键料总需求套数                                              |
|              | 非关键料数量齐套                                                         | 非关键料数量齐套率=非关键料齐套套数之和/非关键料总需求套数                                        |
|              | 常规齐套【常规齐套率=下级物料齐套率的最小值】                            | 常规齐套率=下级物料齐套率的最小值                                                                 |
| 齐套计算选项 | 齐套运算是否考虑替代料                                                   | 设置齐套方案是否考虑替代料的情况，需要在齐套替代料中设置替代规则（成组或者单料）                  |
|              | 齐套运算时主(替代)料消耗的优先规则(考虑替代时生效)                       | 设置发生替代时先消耗主料还是先消耗替代料。                                                        |
|              | 齐套运算是否释放不齐套物料                                               | 在供需匹配计算出最小的齐套数量之后，订单占用的可用量供应数据是否需要释放物料的设置。              |
|              | 齐套运算是否启用最小齐套数量                                             | 经济批量，设置齐套占料需要达到最小的齐套数量。                                                    |
|              | 齐套运算是否启用数量单位取整                                             | 计算齐套时需要参考的物料的数量单位（取整精度）。                                                  |
|              | 齐套运算通过物料BOM展开时计算物料需求数量所采用的公式                    | 父项数量\*BOM使用量 （不考虑损耗） 父项数量\*BOM使用量\*（1+损率） 父项数量\*BOM使用量/（1-损率） |
|              | 齐套运算所使用数据(物料、BOM、仓库、库存等)所定义的排产单元编码          | 齐套数据来源的排产单元编码。                                                                      |
|              | 齐套运算中设置制造订单(当前单元)的过滤条件                               | 设置当前排产单元制造订单的过滤条件。                                                              |
|              | 齐套运算中设置制造订单(所有单元)的排序规则                               | 设置齐套运算时，所收集的订单的排列顺序。                                                          |
|              | 齐套运算中设置供需分配(所有单元)有效条件 式                              | 设置供需匹配时供应数据的有效性规则和范围                                                          |
| 其它相关选项 | 齐套运算结果写入制造订单表的字段映射关系设置                             | 齐套运算需要把齐套结果回写到制造订单表里，该参数设置齐套运算结果写入制造订单表的字段映射关系      |
|              | 齐套运算结果最多保留的次数                                               | 设置在齐套分析管理界面保留齐套结果的次数                                                          |
|              | 齐套运算(计划开始日期)是否以当前时间为准                                 | 设定齐套运算(计划开始日期)是否以当前时间为准，也就是系统的当前时间。                              |
|              | 齐套运算(计划开始日期)的起始日期                                         | 指定齐套运算(计划开始日期)的起始日期                                                              |
|              | 齐套运算默认的计算区间长度【天】                                         | 设定齐套运算开始日期到结束日期的天数                                                              |

参与库存运算项设置

![](media/7675bf8912a902c6e7ede80e9d292659.png)

勾选参与库存运算的可用量，物料库存默认勾选，且不能修改（可用量在库存可用量配置表设置）。

参与运算库位设置

![](media/4b05e53b8f5ffe2f17b9a76de9496037.png)

勾选需要参与齐套运算的库存库位。

参与运算排产单元

![](media/cbfe41dc1ace83b134deb6713ffa8195.png)

勾选需要参与齐套运算的排产单元，即制造订单数据来源的排产单元。

#### 7.3.3 齐套分析管理

齐套分析管理是进行齐套运算的窗口，,需要排产后制造订单数据生成计划开始时间和完成时间后才能进行齐套运算。

![](media/bbb16963046dfe2d777fedc56904fc44.png)

**第一步：点击新增按钮，设置齐套参数。**

计划开始日期：设置需要进行齐套运算的订单的计划开始时间范围。

齐套方案：选择当前齐套分析的齐套方案。

LT天数：物料需求的时间对于订单计划开始时间的提前天数。

检查物料BOM：设置运算过程是否要检查物料BOM。

齐套结果写入订单表：设置齐套运算的结果是否写入订单表。

**第二步：点击开始计算进行齐套运算。**

![](media/b243b046d974d83146729c67443073d8.png)

查看齐套详情

齐套计算完毕后，返回主界面，点击【详情】查看齐套计算详细结果。订单欠料明细、供需分配明细、物料供应明细就是物控计划数据中的齐套订单欠料、齐套供需分配明细、齐套物料供应明细。可以在此界面查看，也可以在物控计划数据查看齐套明细信息。

![](media/2c245e005ffa8e388f70ada27f1fd3dd.png)

![](media/05c22398f938f37dd43596c255605fe3.png)

## 第八章 逻辑

### 8.1 订单、工作、任务、指令

订单

订单指制造订单、销售订单等。

工作

1个制造订单或者自动补充订单中基于工艺产能的指令模板数据，在每个工序中进行展开。该工序展开处理在排产易中被称为订单展开。被进行订单展开的各工序的工作被称为工作。

任务

1个工作由前设置，制造，后设置。工作中包含的各部分称为任务。

指令

在1个任务中，为了执行其任务所需使用的设备，模具，工具，操作人员等，一般需要1个以上的资源。这些被称作使用指令。

### 8.2排程逻辑

排产易中执行“排程”命令后，选定排产方案的命令被连续执行。排产方案的命令在排产方案管理中可自由进行编辑，在此以缺省排产方案——标准排产方案（订单级）为例对排程逻辑进行说明。

![](media/3c5445b97c5d30c50307e0cd386728e1.png)

订单收集：收集所有订单（包括制造、销售、库存）的数据。

订单筛选：根据订单筛选条件对收集的订单进行筛选。

解除分派：将已排产分派的订单数据进行解除分派操作，方便重新展开工作和任务数据。

订单展开：将制造订单根据工艺产能表的工艺流程展开成工作。

分派实绩工作：分派已经存在实绩（完工回报）的工作。

分派固定工作：分派工作状态为固定的工作。

分派实绩制约工作：分派与实绩工作存在制约的相关工作。

分派固定制约工作：分派与固定工作存在制约的相关工作。

订单分派/关联：进行游离的工作的分派、关联。

分派调整：调整被分派工作的一部分分派。

#### 第一阶段：加载待分派订单

根据排产方案参数设置中的“筛选订单”条件，过滤订单表中的订单，符合条件的订单将成为本次排产的待分派订单。

![](media/fa6d4dda2f4acb0240136f99a36724f7.png)

#### 第二阶段：订单展开

订单展开中，从订单展开对象的订单中进行工作的生成。已经有工作存在的时候，保留其工作，只对生产数量等信息进行更新。但是，考虑到相应订单不存在的情况，或模板数据的构成改变的情况，对不需要的工作进行删除。

工作生成的同时，输入指令与输出指令也生成。输入指令为其工作中的使用指令中物料和数量(即其工作中进行投入的物料)，输出指令为从其工作中的使用指令输出的物料和数量(即其工作中生产出的物料)。

其它的处理

在工作生成阶段中，其它按照以下进行处理。

-   参照模板数据的设定，如需要的话，自动生成中间物料。自动生成的情况下，使用其物料创建模板数据输入指令和数据输出指令。
-   算出低级别代码。
-   在采购订单和库存订单中加入指令。
-   对每个低级别代码进行订单的展开及关联。
-   在工作中进行实绩的反映。
-   订单的中间工序指定被设定的时候，将其反映在工作中。

#### 第三阶段：分派方向和分派顺序决定

##### 分派方向

分派方向由小的低级别代码的品目订单开始进行确定。

假如有实绩、时间固定的工作不存在的时候，按照排产方案参数设定的分派方向分派。

| 名称       | 说明                                                    |
|------------|---------------------------------------------------------|
| 未指定     | 没有指定分派方向                                        |
| 正方向     | 订单按正方向分派                                        |
| 逆方向     | 订单按逆方向分派                                        |
| 遵从订单   | 订单的分派方向根据订单的[优先度]和分派方向]的设置决定。 |
| 强制正方向 | 与关联的工作实绩（时间固定级别）无关，强制正向分派。    |
| 强制逆方向 | 与关联的工作实绩（时间固定级别）无关，强制逆向分派。    |

正向分派是尽量从最早可分派时间从第一个工序开始分派。

![](media/fdabd7b54acab7235c947af4f5243a47.png)

逆向分派是从最后工序中离交货期尽可能近的日期开始向前分派。

![](media/c40930885d34e9567240b9dabbd8bda9.png)

**正方向分派：**订单按正方向分派。

![](media/33643597d1059df6ec6911b5efc57d0b.png)

**逆方向分派：**订单按逆方向分派。

![](media/d21904bb82bf06663f3cef91de69c2e1.png)

**遵从订单：**订单的分派方向根据订单的优先度和分派方向决定。

![](media/c6047ef4ad846b21e09f0845e8d399b1.png)

[订单优先度和分派方向]

用数值设定哪个订单可以进行优先分派。优先度的设定使用大于0小于100的数字，一般情况下数字大的优先考虑。根据优先度的值决定以下订单的分派方向。

| **订单优先度的范围** | **解释**       | **分派方向** |
|----------------------|----------------|--------------|
| 大于90，小于100      | 特急订单       | 正向分派     |
| 大于50，小于90       | 重视交货期订单 | 逆向分派     |
| 大于0， 小于50       | 填空订单       | 正向分派     |

**强制正方向：**与关联的工作实绩（时间固定级别）无关，强制正向分派。

当有固定工作时，正方向和强制正方向的分派区别如下图：

![](media/480000d5e3be7af9473414a72bceff0d.png)

![](media/068008d35ce794d7715e32782aac1420.png)

**强制逆方向：**与关联的工作实绩（时间固定级别）无关，强制逆向分派。

当有固定工作时，逆方向和强制逆方向的分派区别如下图：

![](media/feb1853d8ef67617cfe6ee0b5076cf38.png)

![](media/eddb347d70aebbc522c8e62a84bdabd4.png)

##### 分派顺序

分派顺序根据排产方案参数命令的分派规则属性的设定进行确定。在此，设定了的排序顺序作为分派顺序。

分派命令中被固定的工作也可进行分派。被时间固定的工作由于分派时间固定，首先进行分派，然后其它的工作按照順序进行处理。

由于排产易进行正向/逆向混合排程，一般来说分派顺序与资源上的排列顺序将不会一致。

![](media/ebe0c6310576d8ac33bc1fbcf4db0516.png)

#### 第四阶段：工作分派

##### 工作试分派

排产易中，按照分派顺序对每个工作进行分派处理。对于1个工作而言，一般有若干个候补资源，对于这些全部的组合将进行分派检查及评估值的计算。以此为假定分派。假定分派分为以下阶段。

###### 1、候补资源选择

一般在工作中包含有若干的任务，每个任务中包含几个候补资源。例如，假设在工艺产能(使用指令)中有如下的设定。

[工艺产能]

| **物料代码** | **指令类别** | **指令代码** | **物料or资源** |
|--------------|--------------|--------------|----------------|
| A1           | 使用指令     | M            | R1;R2          |
| A1           | 使用指令     | M            | R3             |
| A1           | 使用指令     | S1           | K1;K2          |
| A1           | 使用指令     | S2           | W1             |
| A1           | 使用指令     | I1           | W1             |

该例中，作为主资源有3个候补资源。副资源中有2种，S1(例如模具)中有2个，S2(例如工作员)中有1个候补资源。内设置副资源(相同的工作员)的候补也有一个。该情况下，有

3×2×1×1 = 6

个组合候补资源。假定分派中对于6个候补的全部组合进行处理。

[工艺产能]

| **品目** | **任务选定器** | **指令类别** | **指令代码** | **品目/资源** |
|----------|----------------|--------------|--------------|---------------|
| A1       | 1              | 使用指令     | M            | R1;R2         |
| A1       | 1              | 使用指令     | M            | R3            |
| A1       | 1              | 使用指令     | S1           | K1;K2         |
| A1       | 1              | 使用指令     | S2           | W1            |
| A1       | 1              | 使用指令     | I1           | W1            |
| A1       | 2              | 使用指令     | M            | R4;R5;R6      |
| A1       | 2              | 使用指令     | S1           | K1            |
| A1       | 3              | 使用指令     | M            | R1;R2         |
| A1       | 3              | 使用指令     | S1           | K3;K4         |

该情况下，有

3×2×1×1＋3×1＋2×2＝13

个组合候补。

###### 2、制造时间计算

工作的制造时间按照一般来说，用订单展开中算出的工作生产数量与选择的资源相对应的使用指令模板的“制造”处设定的能力值表达式来进行计算。

[工艺产能]

| **物料代码** | **指令类别** | **指令代码** | **物料or资源** | **制造** |
|--------------|--------------|--------------|----------------|----------|
| I1           | 使用指令     | M            | R1             | 10ps     |
| I1           | 使用指令     | M            | R2             | 15ps     |

的10ps以ps为单位，表示“每1秒钟生产的个数(Pieces Per Second)”，该情况下在R1上生产9000个的I1需要900秒，R2上生产需要600秒。再除以制造效率的结果即为最终的制造时间。

###### 3、时间限制计算

某工作并不是在计划期间任何时间都进行分派。对每个工作可进行分派的时间段进行限制。按正向分派的时候和逆向分派的时候的时间限制有少许差异。

正向分派的情况

时间限制按最早开始时间(EST)进行计算。最早工作也要在其以后才进行分派。工作的最早开始时间根据以下设定算出各个要因的最早开始时间中最晚的时间。

-   第1工序工作的情况，订单的最早开始时间为工作的最早开始时间。订单的最早开始时间未指定的时候，计划开始时间为工作的最早开始时间。
-   对于第1工序以外的工作来说，前工序的工作被分派的时间再加上移动时间的时间为工作的最早开始时间。由于合流、分割等原因存在多个被关联的前工序时，对于每一个计算移动时间，并把最迟的时间作为最早开始时间。
-   如果指定了物料的库存最小值、就哪怕消耗掉工作的输入物料也不会低到物料表里设定的库存最小值的时刻就变成工作的最早开始时刻。
-   工作的用户指定最早开始时间或者订单的中间工序指定的最早开始时间进行设定后，其作为工作的最早开始时间。

逆向分派的情况

时间限制作为最迟结束时间(LET)进行计算。最迟工作也要在其以前进行分派。工作的最迟结束时间为根据以下设定算出的各个要因的最迟结束时间中最早的时间。

-   最终工序工作的情况，订单的交货期为工作的最迟结束时间。
-   最终工序以外工作的情况，后工序的工作进行的分派时间减去重叠时间的时间为工作的最迟结束时间。
-   由于合流、分割等原因存在多个被关联的前工序时，对于每一个计算移动时间，并把最迟的时间作为最早开始时间。
-   工作的指定最迟结束时间或者订单的中间工序指定的最迟结束时间进行设定后，其作为工作的最迟结束时间。

最早开始时刻以及最迟结束时刻会适用于工作的哪一个任务，按以下规则来决定：

**[最早开始时刻]**

从左依次搜寻任务而最初发现输入指令的任务。

**[最迟结束时刻]**

从右依次搜寻任务而最初发现输出指令的任务。

###### 4、分派时刻决定

分派时刻决定阶段，在时间限制的范围内寻找可能进行分派工作的时间。对象的资源为现在全部的候补资源。该时刻也同时进行设置时间的计算。该阶段的处理方法根据正向分派和逆向分派，会有差别。

正向分派的情况

按照以下顺序进行。

1.  时间限制计算阶段中算出的时刻开始向未来方向除去与设置相关的资源以外，对所有资源的出勤时间进行搜索。找到这些资源共同的空闲时间后，计算其左边分派的工作和其设置时间。

②空闲时间超过设置时间，并且，对于设置中使用的全部资源，确认是否有足够的必要资源量。这些条件都满足的话向③进行。否则向未来方向搜索下一个空闲时间，返回到1。

③从设置时间结束开始，搜索全部资源共同的空闲时间(能够确保有足够资源量的连续时间段)。找到之前在资源上进行别的工作使用指令的分派，如果没有足够的必要资源量，或者找到的空闲时间比生产时间计算阶段中计算的时间少的话，以该时间。为起点从①开始重新计算。

逆向分派的情况

按照以下顺序进行。

①时间限制计算阶段中算出的时刻开始向过去方向除去与设置相关的资源以外，对所有资源的空闲时间(能够确保有足够资源量的连续时间段)进行搜索。在生产时间计算阶段，到发现超过计算时间的空闲时间为止反复进行①的操作。否则，计算其左边分派的工作与其设置时间。

②从生产时间开始的时间开始向过去方向搜索全部资源共同的空闲时间。考虑到设置时间，发现足够的空闲时间为止，反复进行②的操作。资源上有别的工作使用指令分派，不满足必要资源量的要求的话，以该时间为起点返回①

违反时间限制的时候

正向的时候，超过计划结束时间/分派结束时间/订单交货期的其中之一的话，逆向的时候，超过计划开始时间/分派开始时间/订单最早开始时间的其中之一的话，分派命令忽视其限制进行分派。超过计划开始时间后就成为过去，并且，超过计划结束时间的话，考虑到出勤时间不存在等的情况，强制进行分派。

###### 5、评估

已经找到多个候补资源的可分派的位置，但不确定那个最优，通过线性规划计算评分，找出评分最高的资源。

在评估阶段中，基于到此为止的阶段中分派的状态和计划参数的资源评估对象里设定的内容而计算评估值。对于全部的候补资源的组合进行评估值的计算，使用其中的评估值最高的一个组合，实际分派阶段中按照此规则进行分派。

评估值在如下的评估函数中进行计算。

评价值是指，当项目设置（点击菜单“生产计划/项目设置”可以显示）的设置标签内的“分派中的消息级别”属性设定为“详细”的情况下，消息窗口中会显示资源的评价值。

F (x) = ΣJ(ΣI (F I (x) ×WI )) / J

I 为计算评估值的评估因子。其为“最小延迟交货期”“负荷均衡化”“最小外购依存度”等，分派状态是否进行动态观点进行评估的意思。  
X表示现在的分派状态。  
 F I(x)为基于现在的分派状态，与评估因子I相关的内部评估值。内部评估值为0～1范围的数值。  
 WI为评估因子I相关的权重，其为在计划参数的命令评估值中进行设定的数值。  
 J为评估对象的工作中包含的候补资源的数量。例如制造BOM如下设置时，  
① M ... 资源A、 S0 ... 副资源X、 S1 ... 副资源Y  
② M ... 资源A、 S0 ... 副资源X、 S1 ... 副资源X  
 虽然候补资源的组合有2种，但在①的情况下J的值是3（资源A、副资源X、副资源Y），②的情况下J的值是2（资源A、副资源X）。

| **指令种类** | **指令代码** | **品目/资源**   |
|--------------|--------------|-----------------|
| 使用指令     | M            | 资源A           |
| 使用指令     | S0           | 副资源X         |
| 使用指令     | S1           | 副资源X;副资源Y |

工作中包含的每个候补资源中对于全部的评估因子为内部评估值和权重相乘的值，再相加后进行平均的数值，基于现在的分派状态，最后计算得到的评估值为 F(x)。

对于某评估因子其权重越大，其内部评估值的大小对于评估值 F(x)的影响就会越大。相反，评估因子越小，即使内部评估值变动很大，对于评估值 F(x)的影响也很小。也就是说，赋予重要的评估因子的权重以大的数值，相反，如果忽视也无影响的评估因子的权重应该赋予小的数值。并且，如果不希望使用某些因子，赋予负数也是一个很好的解决办法。例如，尽可能希望进行外购资源的情况下，对“最小外购依存度化的权重”赋予绝对值大的负值。

但是作为多数的评估因子的权重设定了大的数值后，由于大多数的时候存在交换的关系，结果将不能进行筛选，无法得到预期的结果。一般来说充其量对于1个或2个的权重设定大的数值，对于其它的权重设定为0或者极小的数值来进行协调。

并且，由于评估值的计算中需要考虑很多的要素，权重进行动态设定后得到预期的结果。目前不存在这样的基准，因此在结果中很难保证得到预定需要的结果。与最优化处理不同，只能对排程结果赋予某方面的傾向。作为设定的方法，在感觉上

**对极少数希望进行重视的评估因子设定一个很大的数值(例如10000左右)，其它的为0，或者极小的数值(例如0.1左右)进行设定。**

按照这样进行就足够了。

资源评估对象和对象资源

通过资源评估对象的对象资源属性，可以设定对于哪些资源使用哪些资源的资源评估对象。

在对象资源属性里，可以设定资源代码(可以设定多个)或者资源组的代码。  
对象资源属性的设定和资源评估对象适用于哪些资源，会遵循以下的规则：

-   设有对象资源属性的资源评估对象，就使用于那些资源。
-   在资源评估对象里作为对象资源评估未出现的资源，就使用没有设定对象资源属性的资源评估对象。

如果一个资源在多个资源评估对象被指定为对象资源，那么只采用其中的一个资源评估对象。具体采用哪一个是不确定的。另外，如果存在没有设定对象资源的多个资源评估对象，那么也只采用其中的一个资源评估对象。具体采用哪一个是不确定的。也就是说，对于所有资源来说，同一个资源会只采用一个资源评估对象。

比如，在计划参数里设有如下的4个资源评估对象：

|   | **资源评估对象** | **对象资源** |
|---|------------------|--------------|
|   | 资源评估1        | 资源1；资源2 |
|   | 资源评估2        | 资源1        |
|   | 资源评估3        |              |
|   | 资源评估4        |              |

此时，资源1会采用资源评估1或资源评估2中的任意一个资源评估对象。资源2采用资源评估2，而其它的资源会采用资源评估3或者资源评估4中的任意一个资源评估对象。

因此，当使用对象资源属性时候，明确哪些资源使用哪些资源评估对象(不要重复)为好。

追加评估式

作为评估工作候补的基准、除了资源评估对象所配备的标准的“权重－负荷均衡化”等评估式之外、还有追加评估式。  
追加评估式是表达式类型的属性、可以自由地用表达式来记述评估的内容。追加评估表达式把追加评估式评估的结果加到标准评估式计算结果。并且，如果最后如果评估式的计算结果不是实数或者整数就忽视那个评估结果。

追加评价式中可以设定多个评价表达式。如下图所示，逐个追加并设定评价表达式。

![](media/b5baa61615b7a44e3928ac5d9180cfe6.png)

在写追加评估式的时候、一定要注意当追加评估式被调用时候工作尚未分派。换而言之，工作的诸多属性还是上次分派的结果(正确地讲是解除分派的状态)。如果想使用假分派的结果、就使用ME的以TentAssign开头的属性。

属性的例：

ME.TentAssignCurrOper.OperationProductionTime

→ 上次分派结果的制造时间

ME.TentAssignPRodTime

→ 这回的假分派结果的制造时间

追加评估式的具体例：

希望左邻工作是同一个用户：

IF(ME.TentAssignLeftOper.Order.Customer==ME.TentAssignCurrOper.Order.Customer,1,0)

资源的数值规格1最小值越接近工作数值规格1越好：

1/Abs(ME.TentAssignCurrRes.NumSpec1Min-GetApplicableNumSpec(1,ME.TentAssignCurrOper))

##### 工作正式分派

在试分派阶段，评估值最高的资源组合中，在实际的资源时序上进行分派。同时更新工作的生产开始/结束时间及生产时间等信息。已经进行了实际分派处理的工作从分派对象中取消。

#### 第五阶段：分派调整

分派结果，超过分派开始时间，分派结束时间等的时间进行分派的工作，或者该工作中包含的订单根据在排产方案参数的命令中设定的属性进行分派调整。

通过调整进行参照的属性如下所示。

超过分派开始时间的时候

通过逆向进行分派的时候，对于超过分派开始时间的分派了的工作进行相应的设定。

**强制分派**

对违反限制的工作进行无限能力的强制分派。

**忽视**

忽视违反限制进行分派。

**切换到正向**

违反限制的工作的订单重新按正向分派。

超过分派结束时间的时候

**强制分派**

对违反限制的工作进行无限能力的强制分派。

**忽视**

忽视限制违反进行分派。

**不分派**

对违反限制的工作不分派

超过最早开始时间的时候

**强制分派**

对违反限制的工作进行无限能力的强制分派。

**忽视**

忽视限制违反进行分派。

**切换到正向**

违反限制的工作的订单重新按正向分派。

超过最迟结束时间的时候

**强制分派**

对违反限制的工作进行无限能力的强制分派。

**忽视**

忽视违反限制进行分派。

#### 第六阶段：描绘排程结果

当最后一个待分派的工作完成分派后，根据工作明细，描绘生成资源甘特图、订单甘特图、负荷图表、库存图表等，排程结束。

### 8.3齐套逻辑

#### 第一阶段 订单收集

根据参与齐套运算的排产单元收集符合条件的制造订单，收集到的制造订单根据开始时间的先后排序。（排序规则可在齐套分析方案中“齐套运算中设置制造订单(所有单元)的排序规则”修改）。

![](media/0cb312c6ae5763e013d0a230c5f36d7f.png)

#### 第二阶段 需求展开

先获取未领料明细信息，根据需求数量-已发料数量-已占料数量得到物料的净需求数量，如果没有未领料信息，则把收集到的订单根据物料BOM的信息及计算物料需求数量所采用的公式进行需求展开。

![](media/5c643381005bb2c14601d6d34f00c557.png)

#### 第三阶段 获取供应

根据库存可用量配置、参与运算的仓库、参与运算的库位设置，获取供应数据，供应的数据按照供应顺序进行排列。

![](media/9b720db9c3d336351c2050e4a29b529d.png)

#### 第四阶段 进行齐套计算及结果输出

加载齐套基础数据

加载物料数据、需求数据、供应数据、替代料设置。

处理订单预占料

如果有订单预占料，先处理订单预占料数据，预占料订单先占用库存。

处理齐套供需分配

1\. 是否设置供需分配有效条件式

**没有设置**

对物料的供需分配不做限制。

**有设置**

根据供需分配有效条件式获取有效的物料供应。

2．是否考虑最小齐套量

**考虑最小齐套量**

当齐套数量没有达到物料信息（CTB）设置的最小齐套量时，订单不会占用物料。

**不考虑最小齐套量**

即使齐套数量为0，只要任意子项物料有库存都会占用物料

3．是否考虑替代

**不替代**

不考虑替代料时，齐套计算时不会占用替代料库存；

**替代**

当考虑替代料时，根据消耗规则（“先消耗主料，不足再消耗替代料”或者“先消耗替代料，不足时再消耗主料”）占用物料。

4．是否释放物料

**释放**

在供需匹配计算出最小的齐套数量之后，订单占用的不齐套物料会释放出去。如下图，B的齐套数量为100，C齐套数量为200，所以A只齐套了100，最小齐套量为100，A会释放100的C物料。

![](media/90a3bc8827d4cf2f3c5120606b01019b.png)

**不释放**

不释放物料的话，订单会占用的不齐套的物料，如下图，即使C有100不齐套的物料，但A还是会继续占用200的C。

![](media/a7cdededd069e372cb8b15088de38e8d.png)

提交齐套运算结果

齐套计算完成后输出齐套结果、齐套订单欠料、齐套供需分配明细、齐套物料供应明细。

![](media/2a0ba8ad2fc79a9f572088645219d4d5.png)

### 8.4订单的关联

排产中，在排程后，订单间通过关联对象进行关联。

作为代表性的例子，使用自动补充生产功能进行制造订单，销售订单，库存订单的关联，也有其它的订单间关联的情况。

使用自动补充生产功能

自动补充生产功能使用后，制造订单根据设定的不同自动生成进行排程。生成制造订单的关联。关联根据数量进行关联。

关于详细自动补充生产功能的说明请参考[这里](#_例1_自动补充标志)。

不使用自动补充生产

即使不使用自动补充生产功能的情况，制造订单里的物料有输入/输出关系的订单会在分派时自动进行关联。

但是，由于不是自动补充，物料即使有不够的情况，关于不够的那部分也不会自动进行生成。

[物料]

![](media/c4c4a6547537b85c81acc8a60d1281e6.png)

[工艺产能]

![](media/72d5aa6a729b16c39f854dfcaa002464.png)

例如上述的模板数据构成中，物料的自动补充标志为不补充的情况下(不进行自动补充)，如下所示，各自的物料设定订单后进行再排程，可以进行订单间的关联。

[制造订单]

![](media/cb6ca89cfb56f2e28cc0cd7ca08ad197.png)

[订单关联明细]

![](media/675037729feb33e8011443446d3ab4b2.png)

由于物料B，B1，C在工艺产能上有输入/输出的关系，因此自动进行关联。

关联时会考虑数量的大小，例如对于物料B1的20物料C的2个订单(10和10工20)进行关联。

上述订单的例子中，对于物料B的输入对象B1，尽管订单数量很少，由于不是自动补充，因此对于不足的那部分，并不生成制造订单。不足部分希望自动进行补充的时候，可通过使用自动补充生产功能进行解决。

## 第九章 使用说明

### 例1 自动补充标志

自动补充标志是对于关联的订单（库存不足时）是否补充对应数量订单的功能，主要有如下5种补充方法：

![](media/e67ceac823f1fe855e310cd73224987f.png)

补充订单的命名规则：

1.  1对1关联订单代码式，例M000001。
2.  补充制造订单代码式，例S01-产品D。

假设产品D有库存20，制造订单一张数量100，销售订单2张，数量为200和150，相关数据设置如下图所示：

![](media/0344bafc08a02d26970c364fa1d2e354.png)

基于以上数据，我们来看一下设定不同补充标志的排产结果和订单补充结果。

**注：**补充的订单数据是通过排产计算出来的，所以记得保存排产结果，然后在制造订单表刷新，即可查看补充结果。

1.  不补充：如下图没有补充订单。

    ![](media/189bfeb2c0565b66cf95090cc55c6af6.png)

    ![](media/cb2827d8061f1c207529be9c8a82cf19.png)

1.  按批量补充：如下图关联库存后补充批量订单M000001，数量为230。

    ![](media/f456bfb8eeb10431a5ac82a320cc6f47.png)

![](media/a6ab63616dab4264651b7619db0503e8.png)

1.  制造1对1（不考虑库存）：如下图忽略库存而1对1关联制造订单，补充订单S01-产品D和S02-产品D。

![](media/e4019e926f3766aee3cda92b50a6e7ed.png)

![](media/726235bdf6ccb7bad427849b22575a4f.png)

1.  制造1对1（考虑库存）：如下图关联库存且1对1关联制造订单，产品D库存数和制造订单M01先关联到销售订单S01，不足的数量分别1对1补充订单S01-产品D和S02-产品D。(在此阶段里，改为“供需调整1对1”也可以得出同样结果)。

![](media/663f84d01b3f21667c4faa36b547d051.png)

![](media/7c764b5fab7f890694d89d4ef5e894a0.png)

1.  供需调整1对1：供需调整1对1会根据实绩数量的变化而产生补充订单。

1对1制造和实绩

说明实绩数量对于制造1对1（不考虑库存）、制造1对1（考虑库存）、供需调整1对1各自的影响。

模板数据的设定如下图所示：

![](media/2f01f7b72b53e512abafdd9118e745c6.png)

![](media/276dc1a3e8ed5093b915800a1acc7b9b.png)

![](media/590fafb27a83bc23e0d4708492202de0.png)

![](media/571acd150ce92a285ed3ca1cf6b675fb.png)

**制造1对1（不考虑库存）**

对于制造1对1（不考虑库存）来说，实绩的变化对于1对1关联工作如同一个订单内工作般地的影响订单的数量。

比如，在如下分派状态下给订单“M01-产品F”的工作输入了实绩。因为产品D需要200个产品F和产品E需要500个产品F，且自动补充标志为“制造1对1（不考虑库存）”，所以不关联库存产生补充订单M01-产品F和M02-产品F。

![](media/1fa57fda86b3cb791987b8e046a6dc11.png)

当订单“M01-产品F”的工作里输入了比计划数量200小的实绩数量20而重新排程，订单“M01”的工作的制造数量减少为10。

![](media/ad2e5b81583cf5ce2cdf1271ce838d4b.png)

订单“M01-产品F”的工作里输入了比计划数量200大实绩数量220，重新排程之次订单“M01”的工作的制造数量增加到110。

![](media/15d56909211ea5c933209a98fc657f8f.png)

**制造1对1（考虑库存）**

对于制造1对1（考虑库存）来说，在使用库存的同时随着关联订单的实绩而制造数量发生变化。修改物料自动补充标志位制造1对1（考虑库存）。

假定在如下分派状态给订单“M01-产品F”的工作输入了实绩。因为产品D需要200个产品F和产品E需要500个产品F，且自动补充标志为“制造1对1（考虑库存）”，所以关联库存产生补充订单M01-产品F和M02-产品F。数量分别为120和500。

![](media/1c72fa01a5d238f69f1e6517e8797dd2.png)

给订单“M01-产品F”输入了比计划数量120小的实绩数量20，订单“M01”工作的最大限度地使用库存而订单“M01-产品F”实绩数量为20，所以制造数量减少为“50”。

![](media/adb89a2e1bcf7f0cf1eee36ef4bfd13f.png)

给订单“M01-产品F”输入了比计划数量120大的实绩数量220，重新排程之次订单“M01”的制造数量变为150。维持库存关联。

![](media/e46185e45b36a709007daaab7f723e4e.png)

**供需调整1对1**

对于供需调整1对1制造来说，使用库存同时、如果库存不足就生成补充不足数量的补充订单，而有剩余数量就关联到其它订单。跟1对1制造和库存+1对1制造不同，不会发生关联的订单像同一个订单似地相互影响的现象。

因此，供需调整1对1制造严格来讲不是1对1制造。所以补充订单的命名规则并不遵循“1对1关联订单代码式”而遵循“补充制造订单代码式”。

比如，在如下的分派状态下给订单“M01-产品F”的工作输入实绩。

![](media/f2a17bdc0342668eb83d8e8aff4aa67f.png)

订单“M000001”里输入比计划数量120小的实绩数量20而重新排程，那么光靠实绩数量和库存是不够用(比原计划少100)的，所以为了补充订单“M01”的工作所需的制造数量而生成数量为100的补充订单“M000001”。

![](media/694d05695e464e5dc756b5121f00ddd8.png)

### 例2 生产特征、数值特征

进行生产特征/数值特征的设定可以对工作分派的可能资源进行限制，某工作的分派候补资源取决于工艺产能使用指令的资源数据，检查该工作在实际中是否可能对该资源进行分派，生产/数值特征将会被参照。

例如，通过下面的数据设定，我们可以判断订单L1会分派在哪个资源上。

【工艺产能】

![](media/22177ba6c8b09521c6060e72e9489649.png)

【资源】

![](media/5a6de6983b4fe988478b143a1fe1185b.png)

【制造订单】

![](media/78cb1ac7766482a5ff4e328719528151.png)

【物料】

![](media/ac11542a6ccd61fd73235a6c36517f60.png)

**对于包装1：**订单L1的生产特征1为“黑”，因此匹配；生产特征2为空白，然后查看物料的生产特征2，因其为“标准”因此匹配。数值特征1“13”，在10\~20之间，因此匹配；数值特征2为空白栏，查看物料的数值特征2，因其为“40”因此匹配。如同这样“查看订单，如为空白栏则查看品目”，按照这样的顺序，与资源进行匹配，因此可以知道订单L1可以向包装1进行分派。

**对于包装2：**包装2的生产特征1、生产特征2、数值特征1均匹配，但是订单L1的数值特征2为空白，则查看物料的数值特征2，因其为“40“大于包装2的数值特征2MAX，因此不匹配，所以订单L1不能向包装2分派。

**注：**

1.  订单的生产/数值特征不为空白栏时，直接与资源进行匹配，当为空白栏时，则查看物料的生产/数值特征与资源进行匹配。
2.  数值特征的单位可以任意指定，该数值特征只要保持前后一致，任何单位都可以，例如，资源的数值特征1的单位设定为厘米时，物料或订单的数值特征1的单位设定为米或公斤后，就变得完全没有意义了。

### 例3 BASE物料代码

BASE物料可以指定订单展开时使用的工艺产能，在物料表或制造订单表可以设定，当物料表和制造订单表都设定时，采取制造订单的BASE物料；当物料表和制造订单表BASE物料都为空时，则采取物料本身的工艺产能。

如下图，在物料表设置了BASE物料产品B，所以订单展开时采用产品B的工艺数据，且最终工序输出的是订单物料产品A。

[物料]

![](media/0742c2ab2554c28b4c50a864dc03c694.png)

[制造订单]

![](media/89f4382cc554b8efbab2d56ec2f55e39.png)

[资源甘特图]

![](media/895432382437cf004b1909351dde210a.png)

### 例4 原料切换

物料切换对象

物料切换是指当初始的原材料数量不足的情况下，可以切换到替换初始原材料的其它原材料，其它原材料称作物料的切换对象。

物料切换方法

设定物料切换的方法，该属性的默认值为“每个工作”。

每个工作：不允许将多个原料和一个工作关联起来。

混存：允许将多个原料和一个工作关联起来。

设置方法

[物料]

![](media/b023fc9c63de115c72c24bebbebfa0f5.png)

[工艺产能]

![](media/0ee478292bd6dcf7426aae59233bc510.png)

工艺产能中需要设定原材料和物料切换对象的输入指令，且指令代码必须相同。

[分派结果]

物料切换方法——工作为单位：

![](media/97471af68f8eb51df7af658be8ec1d44.png)

物料切换方法——混合：

![](media/6138749a0be9c75f8452d9d2626115bd.png)

### 例5 库存MIN、目标库存MIN

当库存变化存在不确定性时，需求随机变化，提前期难以预测，机器可能出现故障影响库存供给，需要通过保留一些额外存货来预防这种不确定性。这个额外存货，就是安全库存。安全库存用于弥补由于不确定性的库存不足，以保证客户满意度。

使用自动补充功能和库存MIN或目标库存MIN可设置安全库存，设置安全库存可以使库存不低于安全库存的量，进行订单的自动补充。

模板数据产品D和产品F的工艺产能：

![](media/211dc616a278d11bbd17e276db2089c8.png)

1.  **只设置库存MIN**

如下图，在库存MIN设置了300，使消耗产品C的工作(M01：10)等到库存上升到库存最小值(300)之后而被分派。

![](media/f4ac0cbcc0781432ff6bfb23e29cc465.png)

![](media/258fd7ec1afddb7f561c0941bf6c8f93.png)

1.  **只设置目标库存MIN**

如下图，在目标库存MIN设定了700、就生成自动补充订单，不过消耗产品F的工作(M01：10)并不等待超过设定的库存量700而被分派。

![](media/da074f6c0ae549ff63fc4903b5efb326.png)

![](media/96079bd98216dc4edd2e41847047ec41.png)

1.  **同时设置库存MIN和目标库存MIN**

如下图，在库存最小值设定300、在目标库存最小值设定700、消耗产品F的工作（M01：10）等到超过库存MIN(300)之后被分派、最终通过补充订单的生成保证超过目标库存MIN。

![](media/4e77c0f9811774ebf9f982fd21602cc8.png)

![](media/430ab5356dce1747a5dc66ed960a5494.png)

### 例6 物料制约标志

把物料的“物料制约标志”设定成“是”，且把排产方案参数的“启用原料库存制约”设定成“是”，则该物料变成了原料制约物料。对于输入原料制约物料的工作来说，如果该物料不够工作所需的数量就变成原料制约的违反，而该工作会分派在虚拟资源上。

例：订单1数量为300，需要钢铁150，但是钢铁的库存为100。以下分派状态时没有原料制约的状态。

![](media/02306baed4434dca0c0fc85f70b63068.png)

![](media/bb334aaf896b677ceda009f5df3d2208.png)

把钢铁“物料制约标志”设定为“是”，且起用原料库存制约，则钢铁数量不够用，工作1：10就变成原来制约违反。其结果：工作1：10分派在虚拟资源、其后工作也分派在虚拟资源上。

![](media/9ba9e165e777104766c444665023a846.png)

![](media/1dba0da71e7d0670054a999a6ef041e7.png)

### 例7 制造批量MAX、MIN、单位

制造批量MAX、MIN、单位可以对自动补充订单的大小进行限制。

按照以下的数据进行功能的说明。

【物料】

![](media/f187ece6a9a78c1c11f64af6f314dac9.png)

【销售订单】

![](media/e31a9bb469cf4a24d0d911b53f64dadb.png)

【订单补充结果】

![](media/138ccf2c4063204805a113ba4c158112.png)

产品A的制造批量MIN为35，制造批量单位为1，订单数量25，所以补充一张数量35的制造订单。

产品B的制造批量MAX为10，制造批量单位为1，订单数量25，所以补充2张数量10和一张数量5的制造订单。

产品C的制造批量MAX为20，制造批量单位为10，订单数量45，所以补充2张数量20和一张数量10的制造订单。

产品D的制造批量MIN为20，制造批量MAX为60，制造批量单位为15，订单数量65，所以补充一张数量60和一张数量30的制造订单。

**制造批量大小计算方法**

**常规：**需求量使用制造批量MIN、MAX， 单位，尽量按照制造批量MAX进行生成，最后对于自动补充的订单按照制造批量MIN和制造批量单位进行数量调整。如上图例子，制造批量大小计算方法都为“常规”。

**平均：**算出平均化的订单大小，避免生成大小极端的订单。按照制造批量MAX进行需求量的除法计算。

把产品B的制造批量大小计算方法改为“平均”，订单补充结果如下：

![](media/8a26ec2b1ec5cc49015eee8e394fdcdb.png)

产品B订单数量为25，即需求量为25。

首先25除以制造批量MAX10，结果为2.5，所以需要补充3张制造订单；

然后25除以3，结果为8.33，由于制造批量单位为1，调整为9;

然后25-9×2（从需要的订单数3减去1的值）=7；

最终结果，会补充2张数量9和一张数量7的制造订单。

### 例8 制造批量尾数为末尾

制造批量尾数设定剩余工作的关联方式，以[例7](#_例7_制造批量MAX、MIN、单位)中产品C、产品D数据为例。

制造批量尾数为末尾为是：

![](media/1294981fc9a3ef72fcdd7125a4bb21df.png)

制造批量尾数为末尾为否：

![](media/079355e15efe399fe442f514de1c5822.png)

可以看到，当为“是”时，将包含计算剩余量的工作最后关联，实际上形成批量订单时，尾数计算放在最后一批；当为“否”时，将包含计算剩余量的工作先关联，先把尾数放在第一批，先关联。

### 例9 工作分割

排产易中可进行工作的分割。比如：用容量为100升的容器进行250升处理时，需进行2次100升的处理和1次50升的处理。花费时间的工序通过分割让多个资源并行处理，可缩短提前期时间。

**分割方法：**工作进行分割有以下方法

1.  在物料表设定工作分割数量、工作分割比率、工作批量MAX
2.  设定资源表中的资源制造批量MAX
3.  设定工艺产能中使用指令的工作批量MAX
4.  直接在特定的工作中设定分割

**分割工作的分派：**分割完的工作按照方案在资源上就可以进行分派了，但是通过以下的设定可以控制分割工作的分派规则。

1.  工作并行数量

设定分割完了的工作在几个主资源上进行并行工作。

例如，工作并行数为3时，在3个资源上进行分割工作的分派。

当工作并行数比候补资源的数量大时，会出现不遵守工作并行数制约的情况，这时把候补数当作并行数来使用。

### 例10 关联条件

关联条件表达式使用后，对订单间的关联可以进行条件限制，符合条件的订单间可进行关联。

物料表中的关联条件指令一般用在两种情况：

第一是不同工艺产能的订单在建立前后置关联关系时

第二是在销售订单库存进行供需匹配订单补充的时候进行关联时

例：录入工单和销售订单不能够关联进行供需匹配的表达式。

IF(ME.Order.IsReplenishmentOrder=='0'&&OTHER.Order.Type=='S',FALSE,TRUE)

![](media/e72bdc1ffb92536cce1e2193ce0dc59d.png)

![](media/b758210a53a9ef7e6f16683f510dff45.png)

### 例11 炉资源

炉资源为分派同时开始、同时结束的多个工作的资源。能否工作同时分派，只有以下条件（a、b、c）全部满足，才判断为能同时分派。

a.资源表资源区分设定为炉资源

b.设定资源量和必要资源量

炉资源中同时有多个工作时，能够同时处理的上限是由日历设置表的资源量和工艺产能的必要资源量来计算决定的。

例如，生产日历表的资源量为4，使用指令的必要资源量为1的情况下，最多可以同时处理4个工作。

生产日历表的资源量虽然为4，但是使用指令的必要资源量为2的情况下，最多可以同时处理2个工作。

生产日历表的资源量虽然为4，但是使用指令的必要资源量为0.5的情况下，最多可以同时处理8个工作。

如果设置能够同时处理的上限和工作的制造数量有关系的情况下，请使用资源的“分派资源量标志”属性。

c.生产时间相同

对于制造任务来说，只有分派工作的制造时间相同，才能分派在相同时间段。

※作为分派的结果是否可以同时进行分派，除上述的条件以外也受分派状況等的影响。

**设定方法举例：**

[资源]

![](media/e1205398211c9549629b4a682f775906.png)

[日历设置]

![](media/e28831b742cf2e345e4a9613b63e2df4.png)

[工艺产能]

![](media/62f680ca9e96a38eabd4e1531bfe255f.png)

[制造订单]

![](media/fa1493dca921885a291f2afb26209fa1.png)

排产结果：

![](media/b0097e0dcb62161a8dbd61f70ae408f0.png)

假如把订单M1计划数量改成200，不满足生产时间相同，所以订单M1不能与其它订单同时分派。

![](media/d0126bf0ad4109bba7e7908db62359b2.png)

此时，把资源区分改为单纯资源，重新排产的结果如下图，可以看到与炉资源的分派结果不一样。

![](media/fc2f0391d9393413a590f16ad0a06d0a.png)

炉有效条件

除了基本的条件要满足以外，还要满足炉有效条件，才可以并行生产。炉有效条件可以对能否同时分派在炉资源进行限制，在资源的炉有效条件表达式属性里设置，表达式的评估成功，并且其结果相同才能同时分派在炉资源。

**例：**相同客户

[资源]

![](media/2cb70d0dec27502e5199dcbee6af9658.png)

[制造订单]

![](media/6f3aa6b70dc094188cffef805df3a828.png)

[排程结果]

订单M2、M3、M4本来可以同时分派在炉资源上，因为没满足炉有效条件——相同客户，所以最终只有订单M2、M3可以同时分派在炉资源上。

![](media/25ea01e3f1cf8fbb6ed8b614ac7e907b.png)

### 例12资源量制约

将资源设定为资源量制约

将资源表的“制约方法”设定为“制约”。 将资源设定为有资源量制约时，将不超过日历中设定的资源量而进行工作分派。

将资源设定为无资源量制约

将资源表的“制约方法”设定为“不制约”。 将资源设定为无资源量制约时，将无视日历中设定的资源量(有无限资源量)而分派工作。

将资源按照资源量进行分派

将资源表的“制约方法”设定为“按资源量分派”。将资源按照资源量进行设定时，可根据分派位置日历的资源量而变化生产时间。

资源的“制约方法”设置为“按资源量分派”时，如果也想反映在前后设置任务上，则可以在资源的“按资源量分派的任务”字段中（1：前设置、2：制造、3：后设置）设定。不设定的话，默认仅会反映制造任务。

**设定举例**

[日历设置]

![](media/7cdec023feabd48ce918654e0730857e.png)

[制造订单]

![](media/acc06faed18f26e199e5137addd93697.png)

在以上条件下，修改资源表的制约方法，可以查看不同制约方法的分派区别。

**制约：**M1工作的使用时间为6h40m。

![](media/3677f7cbba379ce0b1f6843ae8e8fc10.png)

**不制约：**不考虑资源量有多少，所有工作的开始时间一样。

![](media/fd92c241ab85e46c079f705ee811e9f8.png)

**按资源量分派：**M1工作的使用时间为2h13m20s，是资源制约使用时间的1/3。

![](media/f19f02d818299ee7ad24872b0b854253.png)

### 例13分派资源量标志

分派资源量标志可对炉资源能够同时处理的工作数量进行限制。

“分派资源量标志”属性有以下两个值可供选择。

| 设定             | 说明                                         |
|------------------|----------------------------------------------|
| 常规             | 分派资源量为使用指令的必要资源量。           |
| 与制造数量成比例 | 按照制造数量和必要资源量的比例进行分派资源量 |

设定举例

炉资源“开料”，生产日历表中设置的资源数量为4。

工艺产能中用到“开料”的工序的必要资源量为1。

如果想限定开料最多能够同时处理的工作数量为4的情况下，“分派资源量标志”属性设定为“常规”。

分派该炉资源时，不考虑工作的制造数量，一个炉资源处理一个工作，4个炉资源最多能够同时处理4个工作。

![](media/6db69eec588f501e6002757bc4a861f1.png)

如果想限定开料资源最多能够同时处理的工作的制造数量为4的情况下，“分派资源量标志”属性设定为“与制造数量成比例”。

分派该炉资源时，考虑工作的制造数量。订单002和订单003在该工序的工作的制造数量都是2，各自所消耗的资源量为2（制造数量2 \* 必要资源量1 = 2）。因此，只能同时分派订单002和订单003的工作。

订单004在该工序的工作的制造数量为4，一个工作所消耗的资源量为4（制造数量4 \* 必要资源量1 = 4）。因此，只能同时分派一个订单004的工作。

订单001在该工序的工作的制造数量为1，一个工作所消耗的资源量为1（制造数量1 \* 必要资源量1 = 4）。因此，分派一个订单001的工作后，还剩下3个空闲资源量。

![](media/7dbdf7ea6a0c94adfc4d00f4d9873a3c.png)

注：对于炉资源以外的资源，也可以将“分派资源量标志”属性设置为“与制造数量成比例”，来实现对资源处理能力的上限的控制。

### 例14工作临时固定

在排程中设定特定的工作为临时固定状态。再排程结束后，解除临时固定。

设定方法

1．从排产引擎工具栏中按下“排产方案参数设置”按钮。

2．选择设置窗口的“基本”标签。

3．单击“工作临时固定”下拉框，从下拉列表框中选择相应项目。

工作临时固定中可选择的项目如下所示。

| 名称                     | 说明                                                                                                                       |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------|
| 末端工作                 | 临时固定正向排序订单的第一工序工作，逆向排序订单的最终工序工作。正向排序的情况下，库存订单关联的最先工序的工作为末端工作。 |
| 分派结束工作             | 将现在分派的工作全部临时固定。                                                                                             |
| 瓶颈资源                 | 有瓶颈资源标志的资源的分派工作进行临时固定。                                                                               |
| 不                       | 不进行临时固定。                                                                                                           |
| 末端工作（限于制造任务） | 末端工作大体上相同，只临时固定制造订单内的末端工作。                                                                       |

设定举例

设定折弯机1\#为瓶颈资源，分派开始时间由12/14改成12/15，订单005使用不同的工作临时方法排程结果如下：

**不固定**

![](media/792f2ff868966dee7ecd999cb82890ac.png)

末端工作

![](media/1b4d82b4f3d31bd8823328dbd21df9e7.png)

分派结束工作

![](media/cf2ff477b07837786d55dc29495e7670.png)

瓶颈资源

![](media/f443e7a02c46f0bcb2956318267b1d71.png)

### 例15中断时间

中断时间MAX

中断时间MAX指的是允许中断的最大时间，通过资源或者工艺产能使用指令的制造中断时间MAX、前设置中断时间MAX、后设置中断时间MAX的设定中断时间MAX的设定，使工作不跨过指定时间之外的非运转时间（中断时间）而分派。

| 中断时间 | 含义                           |
|----------|--------------------------------|
| -1       | 表示不允许任何中断             |
| 0或为空  | 允许任意长度中断时间           |
| 大于0    | 可中断的最大时间(单位为分钟)。 |

例如，如果设定为60，那么允许60分以内的中断时间，不允许超过60分的中断时间，这样午休的中断没关系，却能够防止工作跨到第二天分派。

设置和制造之间中断时间MAX

需要不分开制造和设置，又想在中断时间里留有余裕，这样的情况下利用以下属性。

前设置和制造之间的中断时间MAX

后设置和制造之间的中断时间MAX

设定设置和制造可以分离的最大时间。设定的只是数值的话就会分别处理。如果设定为0或-1的话，则完全不允许中断，没有设置的话，则允许任意长度的中断。

例1

例如，请看下图的冲压机1\#分派。设置时间跨过中断时间而分派。

![](media/22c1a7f00b27c03209c1b95e49bff3d0.png)

如果前设置中断时间MAX设定为-1，分派就不会中断。

![](media/25f9a751ed438287e134360abc7937d7.png)

例2

请看下图的充填1的分派。设置时间很长，总要跨过午休时间。这种情况下，既不想前设置与制造分离，又不想前设置跨越日子。如果前设置中断时间MAX设定为-1，那么不仅要不分离前设置与制造，还不允许前设置时间本身出现中断，这样可以分派的时间带没有了。

![](media/d342b13d9744964100952697c56db758.png)

因此，将前设置中断时间MAX设定为60、前设置和制造间的中断时间MAX设定为-1，就会很好地分派。

![](media/9e083539f963e408022f368952a704fb.png)

### 例16后资源制约

在某资源上进行工作时，限制其后面的工序进行的资源叫后资源。生产线的生产等（制造能力）是必须的功能。可以设定一个或多个后资源。

**例**

在资源表设定后资源：

![](media/5092cf9f43506d3875d5f5d3be6c1229.png)

在工艺产能设定后资源的制造能力相等：

![](media/3382f167a810df6c5093455dfc131eb7.png)

没有启用后资源的排产结果：

![](media/15adc17bdb18b20fd16c4be87d1f9c21.png)

启用后资源后的排产结果：

![](media/905a6e66f069445a6ffc67e44cec7192.png)

**注：**在排产方案参数设置选择“严格遵守后资源制约”属性 等于对于所有后

源制约设定了严格遵守后资源制约 。

在资源表“严格遵守后资源制约”属性设定为“是” 只针对于该资源严

遵守后资源。

### 例17实绩输入标志

实绩输入标志可以设定资源是否必须输入实绩，设定必须，则没有实绩的工作在计划开始以后会进行分派；设定非必项，则指示完毕工作已过去，并且没有其它信息的情况下，视为遵守计划，即该工作已经完成。

设定开料资源的实绩输入标志为“必须”如下图，可以看到开料资源上没有实绩的工作在计划开始以后会进行分派。

![](media/3ebd76ad640a25f1c80c3b0945a6a714.png)

设定开料资源的实绩输入标志为“非必须”如下图，可以看到指示完毕工作已过去，并且没有其它信息的情况下，视为遵守计划，即该工作已经完成。

![](media/f0f04ff3192a757b9c38bc4cc68ab0d6.png)

### 例18制造任务可开工日期、时间段

可以设定分派制造任务的时间段或者日期。

**制造任务可开工时间段**

指定在一天当中制造任务可以开工的时间段。工作的制造任务会在在所指定时间段里开工。

**例：**

08:00-12:00

10:00-12:00；14:00-16:00

制造任务可开工日期

指定工作可以开工的日期。工作的制造任务会在所指定范围内开工。如同生产日历支持日期或者星期格式。

**例：**

星期二-星期五

2005/6/16;星期一-星期三

制造任务适用多个资源生产，那么只能在满足所有资源的制约的时间段/日(所有资源的共同时间段/日)里开始。比如：

主资源 → 制造任务可开工日期：星期一-星期三

副资源 → 制造任务可开工日期：星期三-星期五

在上述的情况下，工作除了星期三以外不能开工，换而言之，只能是星期三开工。但是，如果制造任务的“可开工日期”在计划设定的显示开始时间之前，或者显示结束时间之后的话，“可开工日期”将无效。

制造任务同时使用多个资源来生产而多个资源没有共同的可开工时间段/日(也就是说，没有可开工的时间段)，就分派在虚拟资源上。(如果有其它的有效的候补资源就是用它)。均支持逆向和正向分派。

### 例19跨其它工作分派

根据资源的“跨其它工作分派”属性的设定，可以选择工作的中断时间里能否分派其它的工作。设定为“Yes”的话，工作的中断时间里则会插入分派其它的工作，跟在后面分派的工作跨其它工作分派。设定为“否”，则不能跨越其它工作而分派。

**例:**

工作3：10和工作4：10之间有空闲时间，因为工作05：10的工作时间大于空闲时间，且不能跨其它工作分派，所以工作05：10分派在工作4：10后面。

![](media/c3f05dac9f1e33ea9c0d64c01e6fd59c.png)

工作3：10和工作4：10之间有空闲时间，虽然工作05：10的工作时间大于空闲时间，但是允许跨其它工作分派，所以工作05：10跨过工作4：10分派在工作4：10前后。

![](media/a06218a8c2b60ed278f389ffaaa653a2.png)

### 例20指令类别

指令类别中有输入指令，使用指令。输入指令表示该工序中投入(输入)的物料。使用指令表示在该工序中使用的资源。

输入指令的设定

用于在工序中设定输入物料的相关信息。

| **字段名**     | **说明**                                                                                                                                                                 | **备注**                          |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
| 指令代码       | 指令代码默认为In，也可以任意设定。相同工序中存在多个输入指令并且指令代码也相同的情况下表示使用其中一个输入指令，指令代码不同的情况时表示同时使用多个输入指令(合流工序)。 | 必须设定(默认为In)                |
| 物料or资源     | 设定工序中需要输入的物料代码。                                                                                                                                           | 必须设定                          |
| 先行工序编号   | 设定与该指令相关联的先行工序的工序编号。原料的输入指令必须指定[-1]。                                                                                                     |                                   |
| 前设置         |  一般为空，如果输入数值代表输入物料的比率                                                                                                                                |                                   |
| 制造           | 设定相对1个单位的输出指令物料，所必需的输入指令物料数量。                                                                                                                | 必须设定(没有设定的情况时默认为1) |
| 后设置         |                                                                                                                                                                          |                                   |
| 接续方法       | 用于定义和前工之间序的时间关系。默认情况为ES。                                                                                                                           |                                   |
| 移动时间MIN    | 设定与前工序之间需要留出的时间最小值。                                                                                                                                   |                                   |
| 移动时间MAX    | 设定与前工序之间需要留出的时间最大值。                                                                                                                                   |                                   |
| 废品数量       | 计算所要量时，如果考虑废品数量和成品率的情况时使用。计算表达式为，(工作的数量×必要量＋废品数量)×(1/成品率)                                                               |                                   |
| 成品率         |                                                                                                                                                                          |                                   |
| 指令有效条件   | 用条件表达式设定指令的有效条件。                                                                                                                                         |                                   |
| 资源优先度     | 无意义                                                                                                                                                                   | 无需设定                          |
| 必要资源量     | 无意义                                                                                                                                                                   | 无需设定                          |
| 制造效率       | 无意义                                                                                                                                                                   | 无需设定                          |
| 工作批量最小值 | 无意义                                                                                                                                                                   | 无需设定                          |
| 工作批量最大值 | 无意义                                                                                                                                                                   | 无需设定                          |
| 工作批量单位   | 无意义                                                                                                                                                                   | 无需设定                          |

使用指令的设定

通过使用指令可以指定制造物料时使用的资源(设备、模具、作业员等)和它的生产能力值等。以下为使用指令行中设定的项目和内容。

| **字段名**     | **说明**                                                                                                                                              | **备注**                             |
|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
| 指令代码       | 默认的情况下为M，M表示主资源，主资源指制造该产品时需要的设备或作业员。Sn (n=0～9)，表示副资源，副资源指主资源的附属资源，如：模具、夹具或作业者等等。 | M必须设定。但S可以根据需要进行设定。 |
| 物料or资源     | 设定工序中使用的资源代码。                                                                                                                            | 必须设定                             |
| 先行工序编号   | 通常情况下根据工序编号判定工序之间的连接，设定与前面工序连接时使用。                                                                                  |                                      |
| 前设置         | 设定前设置时间（前设置时间是指工作开始前相关准备工作等所花费的时间），可以使用能力值＋单位进行设定。                                                  |                                      |
| 制造           | 设定资源的生产能力。用能力值＋单位设定                                                                                                                | 必须设定                             |
| 后设置         | 设定后设置时间（后设置时间是指工作结束后相关整理工作等所消耗的时间），可以使用能力值＋单位进行设定。                                                  |                                      |
| 接续方法       | 用于定义和前工序的时间关系。默认为ES。                                                                                                                |                                      |
| 移动时间MIN    | 设定与前工序之间需要留出的最小时间值。                                                                                                                |                                      |
| 移动时间MAX    | 设定与前工序之间需要留出的最大时间值。                                                                                                                |                                      |
| 资源优先度     | 有多个工作分派候补资源，根据资源优先度选择。                                                                                                          |                                      |
| 指令有效条件   | 用条件表达式设定指令的有效条件。                                                                                                                      |                                      |
| 必要资源量     | 设定需要使用的资源量。默认为1。                                                                                                                       |                                      |
| 制造效率       | 设定比1大的比例值时制造时间变短，设定比1小的值时制造时间变长。。生产时能力值中发生故障的情况下使用。                                                  |                                      |
| 工作批量最小值 | 设定分割工作制造数量的下限。工作批量最小值中，制造数量少的情况时，自动将数量增加到工作批量最小值。                                                    |                                      |
| 工作批量最大值 | 使用此可以设定制造时数量的上限。比如，订单的数量为25，工作批量最大值为10时，分别以10、10、5分割到3个工作上进行分派。                                  |                                      |
| 工作批量单位   | 使用工作批量最小值、最大值分割后的剩余数量，是这个值的倍数。                                                                                          |                                      |

### 例21副资源的设定方法

设定副资源时，将指令代码设定为Sn(n为0以上的整数),根据前设置/制造/后设定，有可能出现下面的副资源。

**1) 通常的副资源**

(主资源的设定)

| 前设置            | 制造 | 后设置            |
|-------------------|------|-------------------|
| 任意值（0也可以） | 必须 | 任意值（0也可以） |

(副资源的设定)

| 前设置          | 制造              | 后设置            |
|-----------------|-------------------|-------------------|
| 任意值(0也可以) | 任意值（0也可以） | 任意值（0也可以） |

![](media/5261254bd0873e580d4799294f990768.png)

制造时间的计算，在排产方案参数设置中可以选择主资源、最长时间的资源、最长时间的副资源(默认情况下为主资源)。当主资源、副资源中设定有设置时间时，采用最长的设置时间。

**2) 内设置副资源**

设定进行前后设置工作的副资源，这样的资源称为内设置副资源。

(主资源的设定)

| 前设置          | 制造 | 后设置          |
|-----------------|------|-----------------|
| 任意值(0也可以) | 必须 | 任意值(0也可以) |

(副资源的设定)

| 前设置          | 制造 | 后设置          |
|-----------------|------|-----------------|
| 任意值(0也可以) | 空白 | 任意值(0也可以) |

![](media/330664da73802fd4d93c662a48b0160a.png)

主资源、副资源中设定有设置时间的时，采取最长的设置时间。

**3) 外设置副资源**

主资源没有设定设置时间，而副资源设定了设置时间，这样的资源称为外设置副资源。

(主资源的设定)

| 前设置 | 制造 | 后设置 |
|--------|------|--------|
| 空白   | 必须 | 空白   |

(副资源的设定)

| 前设置 | 制造 | 后设置 |
|--------|------|--------|
| 任意值 | 空白 | 任意值 |

![](media/7ec672167b6e0ac4b29a58e3145244c9.png)

### 例22任务选定器

由于某些条件，主资源与副资源的组合不同的场合时使用任务选定器。下表中，生产特征1的设定为S的场合下，加工工序中需要使用PS的组合装置。

[工艺产能]

![](media/e16178af5fe9187d72b20c4bb2ce1e8c.png)

制造订单的生产特征1中，设定S或S以外的生产特征然后排程，设定了S的订单加工工序选择任务选定器2，即采用主资源加工机和副资源PS生产。

### 例23工序选定器

制造相同物料时，由于某些条件制造工序发生变化的情况时使用工序选定器，可以理解为一个产品有不同版本的工艺产能。以下例子是，由切断、加工1、加工2、检查4个工序制造产品A，制造数量超出100的情况时将加工的工序委托给外协公司的设定例子。

[工艺产能]

![](media/a571315f30b82c3524a2bf196ab166c1.png)

从上面的设定例子中可以看到，当订单数量大于100时进行外协分派。

### 例24制造、移动时间

制造字段中，设定本工序中制造所需要的输入物料必要量或资源的能力值和能力单位。

输入指令的制造

输入指令行的制造字段中输入必要的数量，按比例输入在本工序中制造一个产品所需要的输入指令的物料数量。

按照比例设定了必要的输入指令物料数量，所以输入物料和输出物料中即使单位不一致也可以进行设定。

例如：

制造1个产品A需要12个产品A-冲压。 → 设定制造必要量为12。

制造1个产品A-冲压需要1升产品A－材料混合。 → 设定制造必要量为1。

使用指令的制造

在使用指令行的制造字段中输入资源的能力值和能力单位。

**能力值**

填入生产该物料时所用资源的能力值，数据类型为数值(标准时间)。

**能力单位**

设定资源的制造能力单位。

[单位的种类]

| **单位** | **解释**                     |
|----------|------------------------------|
| sp       | 制造1个单位所消耗的时间秒    |
| mp       | 制造1个单位所消耗的时间分    |
| hp       | 制造1个单位所消耗的时间小时  |
| ps       | 1秒钟能够制造的数量。        |
| pm       | 1分钟能够制造的数量。        |
| ph       | 1小时能够制造的数量。        |
| s        | 与制造数量无关，单位为秒。   |
| m        | 与制造数量无关，单位为分钟。 |
| h        | 与制造数量无关，单位为小时。 |

例如

使用指令的制造设定为20.5mp。意思是资源制造1个产品需要20.5分钟。

如果能力值设定为不带单位的数值，会按分钟处理。例如，设定为60，表示60m。

移动时间MIN

设定前工序和本工序之间需要间隔的最小时间值，单位为“分钟”。

[移动时间MIN的时间设定方法]

下图中，接续方法设定为ES，移动时间MIN时间设定为60的情况。从前工序的制造结束时刻开始到本工序的制造开始时刻，最少间隔60分。

![](media/7d32645d4b76e18d64b54f4328f27e58.png)

移动时间MAX

设定前工序和本工序之间需要间隔的最大时间值，单位为“分钟”。（排程设置需勾选“起用移动时间MAX”）

[移动时间MAX时间的设定方法]

下图中，接续方法设定为ES，移动时间MAX时间设定为60。从前工序的制造结束时间到本工序的制造开始时间，最大间隔需要60分。

![](media/d8827102dbdd8ff181c77e9c9c24397c.png)

### 例25接续方法

接续方法设定前后工序间连接的时间关系。

**接续方法的种类**

ES

(End-Start)

前工序的结束时间与自工序的开始时间进行。  
前工序与自工序之间空闲时进行使用。

SS

(Start-Start)

前工序的开始时间与自工序的开始时间进行关联。  
前工序与自工序重叠后进行使用。

SSEE

(Start-Start，End-End)

前工序的开始时间与自工序的开始时间及前工序的结束时间与自工序的结束时间进行关联。  
 前工序与自工序被重叠，但是由于自工序的生产时间短，按照开始时间进行关联后，在早于前工序时结束自工序进行使用。

EES

(End-Each-Start)

前工序的任意的时间与自工序的生产开始时间进行关联。自工序的工作被分割的情况时，分割后的工作根据各自的生产数量与前工序的任意时间进行关联。不被分割的情况下与ES相同进行分派。

ESE

(End-Start-Each)

前工序的生产结束时间与自工序的任意时间进行关联。前工序的工作被分割的情况下，分割后的工作按照各自的生产数量与后工序的任意时间进行关联。未被分割的情况下与ES相同进行分派。

ESSEE

(Each-Start-Start、End-End)

当自工序的工作被分割的时候，把分割的各自工作的制造开始时刻和制造结束时刻与分割工作的制造数量相结合跟前工序的工作时刻关联。类似于SSEE和EES融合在一起的形象。如果没有分割就像SSEE似地分派。

SSEEE

(Start-Start、End-End-Each)

当前工序的工作被分割的时候，把分割的各自工作的制造开始时刻和制造结束时刻与分割工作的制造数量相结合跟自工序的工作时刻关联。类似于SSEE和EES融合在一起的形象。如果没有分割就像SSEE似地分派。  
注：以上接续方法的前工序与后工序的资源出勤时间不同等时，有可能会有时间关系无法正确计算的情况。

**接续方法前工序和后工序的关系如下图所示:**

![](media/f0b366ea6d701d47858949ba76d3177e.png)

接续方法和移动时间MIN在工艺产能表的输入指令和使用指令中都可以指定。

如果在输入指令模板中同时设定了接续方法和移动时间MIN的话，会采用输入指令的接续方法和移动时间，而使用指令中的设定将被无视。输入指令单独设定接续方法或者移动时间，则采用使用指令的设定。

### 例26工序有效条件式

每个工序都可以设定工序有效条件式，在工艺产能表中通过工序的有效条件式动态控制产品BOM的工艺流程。

工序有效条件式为FALSE的情况下，该工序中的所有指令都将无效。订单展开的时候，将会无视该工序。（它的效果相当于设置工序类的无效标志。）

**例：**

产品A经过4道工序制成。工序有效条件式中，对于订单的生产特征1值有

生产特征1为"X"，工序30无效，工序40有效

生产特征1为"Y"，工序40无效，工序30有效

这样的设定。

![](media/50c502394cb74c5aaf863862ec8e215b.png)

订单生产特征1为X时，工序30无效，则订单的分派结果如下：

![](media/48da93381c4120ca65a9021dc3fa6542.png)

订单生产特征1为Y时，工序40无效，则订单的分派结果如下：

![](media/1198753f7b44f1470b1acae3dad2cb26.png)

### 例27必要资源量、任务资源量

在使用指令模版里指定当前工序消耗多少资源的资源量。没有指定的时候看作１。消耗资源量的设定方法有两个。

总括指定

如果前设置、制造、后设置任务消耗的资源量是一起的，那么设定使用指令模版的必要资源量。

任务个别指定

前设置、制造、后设置任务消耗的资源量不同的时候，使用指令模版的“前设置任务资源量”、“制造任务资源量”、“后设置任务资源量”设定。

注：

\* 对于各任务需要必要资源量，先参照个别的设定。如果没有个别的设定就参照总括设定的必要资源量。

\* 如果没有指定或者设定非正（负值等），必要资源量则为1。

**例：**

没有被任务个别指定的时候，如下所示产品M的副资源既进行前设置又进行工作，那么前设置和工作用相同的资源量进行分派。

![](media/9b1339bcff4f9817e52cead4fe248b11.png)

![](media/e959b6c6546711677f04fb02ff619796.png)

如果任务个别指定是如下所示这样设定：产品M的前设置任务资源量1，制造任务资源量为２，那么即使是相同的任务使用指令，也会在各种任务上按照所设定的任务资源量来分派。

![](media/f7619637afeb9bde62424640438a9b76.png)

![](media/9ae8392bf343026a4a9224a11d088b3c.png)

### 例28 1对1关联指定料号

在物料的自动补充标志里没有选择“制造1对1”，而使用订单的1对1关联指定料号”属性，对于在该订单里所指定的物料而言不管制造批量大小和库存，针对于关联订单所需数量生成补充订单并且1对1关联。

[工艺产能]

![](media/250176473af1e96ee76a747397f22a4d.png)

在上述的工艺产能基础上，订单的1对1关联指定料号设定成如下的内容，1对1关联指定料号设定的是“\*”，因此从物料B开始追溯输入/输出的所有物料的制造订单自动生成而分派。

[制造订单]

![](media/536a70fb5c04b2a28ef484d3da6f2ea6.png)

分派结果：

![](media/552baea2013b7bf2625cc90b3c6ee0b9.png)

把订单的1对1关联指定料号设定为B1，那么只生成所设定物料的制造订单而分派。

[制造订单]

![](media/1a784f7dbfe96b538a846d2c3b013a31.png)

分派结果：

![](media/47f329d16619a3fa6e26c98796e14355.png)

### 例29后订单

后订单的作用是在工艺以外可以额外定义两张订单的关联关系，并且形成前后工序的制约，这样可以实现两张订单的顺序关系。

**例：**如图，没有设置后订单，订单3分派在订单4的前面。

![](media/94b0630b534323d9480051091c5ef3a6.png)

![](media/177fa535c0146077e03e754f964aae22.png)

设置订单4的后订单为订单3，由于订单关联关系的制约，订单3分派在订单4后面。

![](media/327802cca32346197bc4a016284ece21.png)

![](media/bbe28fb94368664771517d0023e0a388.png)

### 例30数量固定级别

订单中可设定数量固定级别，根据数量固定级别设定的不同，决定订单内工作的生产数量的传播方法。多工序工作数量计算时会以最高的数量固定级别的工作开始推算。数量固定级别没有进行设定的时候，某个工序结束了，默认这个工作的数量固定级别就是50，以这个工作的实绩数量推算其他未完成的工作的计划数量；数量固定级别设定大于50的时候， 则还是一订单数量为准推算其他工序的计划数量。

**例：**

工序001：10的报工数量为500.也就是实绩数量为500。

![](media/a2d6591e1f2e6230b5db7b52f1d91a33.png)

如下图，订单001没有设定用户指定订单固定级别，以实绩数量500推算其它未完成工作的计划数量。

![](media/4fa61678c772e991d590b50688be20ae.png)

![](media/e572875a64b57756358cb397b38934b3.png)

如下图，订单001设定用户指定订单固定级别为100，大于50，所以其它未完成工作以订单数量1000推算工作的计划数量。

![](media/1b88dbf522c7e750af2ee015a8bda6b2.png)

![](media/ab7aae07cbcd3ebde28d9f864d5f7992.png)

### 例31设置时间计算方法

实际产生的设置时间，是从各处的设置中取最大值还是合计值，可以通过排程设置的【设置时间计算方法】来指定。

| A1 | 静态设置   | 工艺产能的前设置、后设置  | 指定此工作制造开始之前和结束之后需要进行设置的时间。                 |
|----|------------|---------------------------|----------------------------------------------------------------------|
| B1 |   动态设置 | 物料切换                  | 根据前工作物料、后工作物料的组合来计算设置时间。即物料切换设置时间。 |
| B2 |            | 资源切换                  | 根据前工作资源、后工作资源的组合来计算设置时间。即资源切换设置时间。 |
| B3 |            | 生产特征（1\~10）切换     | 根据前工作生产特征、后工作生产特征的组合来计算设置时间。             |

| 计算方法 | 计算公式           | 意义                         |                                                  |
|----------|--------------------|------------------------------|--------------------------------------------------|
| 1        | 最大值（所有资源） | Max( (A1 , B1, B2, B3)       | 最先发现的静态设置及所有动态设置的最大值。       |
| 2        | 合计值（所有资源） | (A1 + B1 + B2 + B3           | 最先发现的静态设置及所有动态设置的合计值。       |
| 3        | 最大值(出现顺序)   | Max( A1 , (B1 or B2 or B3) ) | 最先发现的静态设置及最先发现的动态设置的最大值。 |
| 4        | 合计值(出现顺序)   | (A1 + (B1 or B2 or B3)       | 最先发现的静态设置及最先发现的动态设置的合计值。 |

### 例32分派方向

排产方案参数中的分派方向可设定订单的分派方向。

正向分派是尽量从最早可分派时间从第一个工序开始分派。

![](media/fdabd7b54acab7235c947af4f5243a47.png)

逆向分派是从最后工序中离交货期尽可能近的日期开始向前分派。

![](media/c40930885d34e9567240b9dabbd8bda9.png)

**正方向分派：**订单按正方向分派。

![](media/33643597d1059df6ec6911b5efc57d0b.png)

**逆方向分派：**订单按逆方向分派。

![](media/d21904bb82bf06663f3cef91de69c2e1.png)

**遵从订单：**订单的分派方向根据订单的优先度和分派方向决定。

![](media/c6047ef4ad846b21e09f0845e8d399b1.png)

[订单优先度和分派方向]

用数值设定哪个订单可以进行优先分派。优先度的设定使用大于0小于100的数字，一般情况下数字大的优先考虑。根据优先度的值决定以下订单的分派方向。

| **订单优先度的范围** | **解释**       | **分派方向** |
|----------------------|----------------|--------------|
| 大于90，小于100      | 特急订单       | 正向分派     |
| 大于50，小于90       | 重视交货期订单 | 逆向分派     |
| 大于0， 小于50       | 填空订单       | 正向分派     |

**强制正方向：**与关联的工作实绩（时间固定级别）无关，强制正向分派。

当有固定工作时，正方向和强制正方向的分派区别如下图：

![](media/480000d5e3be7af9473414a72bceff0d.png)

![](media/068008d35ce794d7715e32782aac1420.png)

**强制逆方向：**与关联的工作实绩（时间固定级别）无关，强制逆向分派。

当有固定工作时，逆方向和强制逆方向的分派区别如下图：

![](media/feb1853d8ef67617cfe6ee0b5076cf38.png)

![](media/eddb347d70aebbc522c8e62a84bdabd4.png)

例33关键料齐套率

对于一些供应商数量少、市场价格波动大、到货周期长的物料可设置关键料，可以计算产品的关键料齐套率。

**例：**勾选物料M、Y、Z为产品的关键料。

![](media/00f5d24f59b9edb1a1ec4c335bfe730c.png)

在齐套分析方案，勾选要计算的关键料指标。

![](media/92cc59e2da32b9cf67b1660f15db10f6.png)

在齐套分析结果可以看到关键料的齐套结果。

![](media/d5c2b6e96cb7721f229479794d030322.png)

例34 最小齐套数量、数量单位

最小齐套数量是针对父层订单的成品最低齐套标准，低于这个最小齐套数量则不占用物料；物料的数量单位是计算材料需求量的时候数量取整的精度，物料的数量单位可设1、0.1、0.01等。

**例：**

设置产品A的最小齐套量为400，物料N的数量单位为1。

![](media/58d6f3722eee39e711c6d0a1f7def66c.png)

齐套方案勾选“齐套运算是否启用最小齐套数量”及“齐套运算是否启用数量单位取整”。

![](media/e7aa8e70371bb2df377cfc2fc2095b59.png)

如下图，当没有设置启用最小齐套数量和数量单位时，产品A的齐套率为22.8%，物料N的需求数量为20.4。

![](media/139125b62dd3f219314e1e0a19139e95.png)

如下图，当设置了启用最小齐套数量和数量单位时，产品A的齐套率为0，是因为产品A中的最小齐套数量为228，没有达到物料信息设置的400，所以产品A不占用物料。物料N的实际需求数量为20.4，因为其数量单位为1，则需求数量为21。

![](media/d898b02bfdd8fce632c69be2b611ef00.png)

例35供需分配有效条件

供需分配有效条件指物料供应与订单物料需求的关联条件，供需分配条件可以限制物料的分配，符合供需分配条件的物料才可以分配给订单。

设置供需分配的方法

1、在物料信息的“有效条件表达式”设置，这里的条件只针对设置的物料。

![](media/d23bf6c23078a7a19313bb2cea04b520.png)

2、在齐套方案的“齐套运算中设置供需分配(所有单元)有效条件式”设置，这里设置的条件对所有物料起作用。

![](media/70119d0ef9601e3250f190d5ba76a88e.png)

**例：**

设置物料Z的有效条件表达为ME.UserStr1=OTHER.Order.Customer，指供应表（库存可用量配置的供应）的UserStr1等于订单的Customer时，物料Z才可以分配给订单使用。

![](media/adb7029edb7ef43b0e59ced51a1f34b3.png)

如下图，没有设置供需有效条件进行限制，在库位B1、B2的Z都可以进行供应。

![](media/730cf855c5a1f133fae550c6772d2c69.png)

如下图，设置了供需有效条件进行限制，在库位B2的Z不符合条件，只有在库位B1的Z符合供需条件，可以进行分配。

![](media/498b42df5fb6c3b7a1886d9872007efe.png)

# 附录

**附录一：查看服务器IP的方法：**

方法一：

1.  在电脑桌面找到网络图标，鼠标右键，然后点击属性打“网络和共享中心”界面；

    ![](media/a7bfd7ad6ada8fb2cb629dfb1aeb7914.png)

2.  然后在“网络和共享中心”界面上，点击我们正在连接的网络；

    ![](media/03473127eb61c72e0185b0b3e83bdfeb.png)

3.  在弹出的WLAN界面上，选择“详细信息”；

![](media/bd293337a46666b9758420bb271ee94a.png)

1.  最后在弹出的界面上， ipv4后面的ip就是我们电脑的ip地址，也就是服务器的IP。

![](media/fce54009249ea311c9417022ca012c15.png)

方法二：

1.  在电脑桌面左下角的开始鼠标右键，然后点击“运行”打开运行界面；

    ![](media/6a6fd4aeed19b4315b7ec129f7068768.png)

2.  在运行界面上输入“cmd”，点击确定；

    ![](media/2d16dc6caef02259abc60956fc7a9516.png)

3.  在打开的界面输入“ipconfig ”并回车即可查看到电脑ip地址。

    ![](media/6ad38ee4a4ef8bac026715e0f77e96d3.png)

**附录二：系统安装环境软、硬件需求**

软件需求

| **名称**     | **最低配置**    | **推荐配置**                                    |
|--------------|-----------------|-------------------------------------------------|
| **操作系统** | windows xp sp3  | Window 7 Window 10                              |
| **数据库**   | SQL Server 2008 | SQL Server 2012 SQL Server 2017 SQL Server 2019 |

硬件需求

| **名称** | **最低配置** | **推荐配置**                |
|----------|--------------|-----------------------------|
| CPU      | Pentium4     | Intel Core i5 Intel Core i7 |
| 内存     | 2G           | 4G以上                      |
| 硬盘     | 50G          | 100G以上                    |
